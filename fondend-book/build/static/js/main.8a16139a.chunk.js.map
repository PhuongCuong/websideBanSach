{"version":3,"sources":["components/CustomScrollbars.js","components/CustomToast.js","services/bookService.js","../node_modules/typescript/lib sync","axios.js","containers/System/User/UserManage.js","containers/System/User/CreateUserModal.js","containers/System/User/EditUserModal.js","store/actions/actionTypes.js","store/actions/appActions.js","store/actions/adminActions.js","store/actions/userActions.js","services/userService.js","utils/constant.js","utils/CommonUtils.js","utils/KeyCodeUtils.js","utils/LanguageUtils.js","components/Navigator.js","containers/Header/menuApp.js","containers/Header/Header.js","store/reducers/appReducer.js","store/reducers/userReducer.js","store/reducers/bookReducer.js","store/reducers/rootReducer.js","redux.js","hoc/authentication.js","routes/Home.js","containers/login/Login.js","containers/System/ProductManage.js","containers/System/RegisterPackageGroupOrAcc.js","containers/System/ManageProduct.js","containers/System/Product/TableBookManage.js","containers/System/Product/Modal/ModalNXB.js","containers/System/Product/Modal/ModalNCC.js","containers/System/Product/Modal/ModalTL.js","containers/System/Product/BookManager.js","containers/System/Product/NhacungcapManager.js","containers/System/Product/nhaxuatbanManager.js","containers/System/Product/TheloaiManager.js","containers/System/Product/TableDiscountManager.js","containers/System/Product/Discount.js","containers/System/Product/BookManageInfo.js","services/BillService.js","containers/System/Bill/Modal/ModalUser.js","containers/System/Bill/BillManage.js","containers/System/Bill/Modal/ModalSoLuong.js","containers/System/Bill/BillDetailManage.js","routes/System.js","components/ConfirmModal.js","containers/Client/Header/TextSearch.js","containers/Client/Header/HomeHeader.js","containers/Client/Home/HomeProduct.js","containers/Client/Product/BookSlider.js","containers/Client/SliderManager.js","containers/Client/Home/HomeBody.js","containers/Client/Product/Bookcategory.js","containers/Client/Home/HomeBackgroup.js","containers/Client/Home/ArrProduct.js","containers/Client/Home/HomePage.js","containers/Client/Product/BookinfoCart.js","containers/Client/Product/BookDetailCart.js","containers/Client/Product/BookDetail.js","containers/Client/Cart/CartBillTail.js","containers/Client/Cart/CartBill.js","containers/Client/Cart/Cart.js","containers/Client/Product/ShowBook.js","containers/Client/Header/HomeAfterSearch.js","containers/Client/Header/ListChooseaction.js","containers/Client/Header/ModalChangePassword.js","containers/Client/Header/Infouser.js","containers/Client/Cart/ListBill.js","containers/App.js","serviceWorker.js","hoc/IntlProviderWrapper.js","index.js"],"names":["CustomScrollbars","ref","React","createRef","getScrollLeft","current","getScrollTop","scrollToBottom","targetScrollTop","getScrollHeight","scrollTo","targetTop","quickScroll","props","scrollbars","originalTop","iteration","scroll","scrollTop","setTimeout","renderTrackHorizontal","className","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","renderNone","this","disableVerticalScroll","disableHorizontalScroll","children","otherProps","autoHide","autoHideTimeout","hideTracksWhenNotNeeded","Component","CustomToast","titleId","message","messageId","time","hour","minute","second","hour12","value","id","autoHeight","autoHeightMin","autoHeightMax","map","msg","index","handlegetAllNCC","keyMap","axios","get","handlegetAllNXB","handlegetAllTL","handleCreateNewNCC","data","post","handleCreateNewNXB","handleCreateNewTL","handleDeleteNCC","delete","handleDeleteNXB","handleDeleteTL","handleUpdateNCC","put","handleUpdateNXB","handleUpdateTL","handleCreateNewBook","formdata","headers","handlegetAllBook","type","handleDeleteBook","handleUpdateBook","handleSavediscount","handlegetAlldiscount","maSach","handleDeleteDiscount","handleUpdateDiscount","handleSaveBookInfo","handlegetAllbookInfo","handleUpdateBookinfo","handlegetAllbookbycart","handlegetAllBookTL","uploadfile","handlegetAllBookbySP","sanpham","handlegetAllNXBbySP","handlegetAllTLbySP","handlegetAllNCCbySP","handlecountAllTL","handlecountAllNCC","handlecountAllNXB","handlegetAllBookNCC","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","instance","create","baseURL","process","withCredentials","createError","httpStatusCode","statusCode","errorMessage","problems","errorCode","error","interceptors","response","use","hasOwnProperty","s","statusType","toUpperCase","isSuccessStatusCode","Promise","reject","status","_","length","UserManage","handleReaddata","a","hanlegetAlluser","res","errCode","setState","arrUser","handleCreateNewUser","handleNewUseradmin","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","isShowmodal","handleDeleteUser","user","console","log","handleShowmodal","state","handleShowmodalEdit","isShowmodalEdit","handleRequired","isOpenEdit","handleEditUser","userEdit","showmodal","showmodalEdit","DataUser","onClick","item","image","Buffer","toString","email","address","phoneNumber","roleData","connect","dispatch","CreateUserModal","buildInputSelect","arr","handleGetallCodeByType","object","label","push","handlelistSelect","listgender","listuser","listGender","listRole","gender","roleId","handleOnChangefile","event","file","target","files","ObjectURL","URL","createObjectURL","preview","handlePreviewImg","isOpen","handleOnChangeText","copystate","handleCheckinput","isCheck","i","alert","handleOnClickSave","formData","FormData","append","firstName","lastName","password","isShowLoading","selectedGender","selectedRoleId","previewImg","handleOnChangSelected","selectedOption","name","stateName","stateCopy","avatar","show","dialogClassName","aria-labelledby","size","onChange","hidden","htmlFor","style","backgroundImage","mainSrc","onCloseRequest","EditUserModal","userId","handleUpdateUser","updateUser","handleUserData","userData","prevProps","prevState","snapshot","actionTypes","Object","freeze","APP_START_UP_COMPLETE","SET_CONTENT_OF_CONFIRM_MODAL","ADMIN_LOGIN_SUCCESS","ADMIN_LOGIN_FAIL","PROCESS_LOGOUT","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","setContentOfConfirmModal","contentOfConfirmModal","processLogout","userLoginSuccess","userInfo","fetchallBookStart","getState","FETCH_ALL_BOOK_SUCCESS","bookInfo","FETCH_ALL_BOOK_FAIL","fetchAllUserFailed","updatedCopybook","copybook","UPDATE_COPY_BOOK","handleLogin","handleNewUser","hanlegetAlluserbyemail","handleupdatePassword","path","HOME","LOGIN","LOG_OUT","SYSTEM","HOMEPAGE","BOOK","CART","CART_BILL","SHOW_BOOK","HOME_SEARCH","INFOUSER","LISTBILL","CommonUtils","reader","FileReader","readAsDataURL","onload","result","onerror","dataURLtoBlobURL","dataURL","byteString","atob","split","mimeString","arrayBuffer","ArrayBuffer","uint8Array","Uint8Array","charCodeAt","blob","Blob","KeyCodeUtils","UP","DOWN","TAB","ENTER","E","ESCAPE","flattenMessages","nestedMessages","prefix","reduce","messages","key","prefixedKey","assign","messages_vi","messages_en","LanguageUtils","lang","MenuGroup","Menu","active","link","hasSubMenu","onLinkClick","data-toggle","aria-expanded","to","SubMenu","getItemClass","location","pathname","MenuGroupWithRouter","withRouter","MenuWithRouter","SubMenuWithRouter","Navigator","expandedMenu","toggle","groupIndex","menuIndex","isMenuHasSubMenuActive","subMenus","currentPath","checkActiveMenu","menus","outerLoop","group","j","menu","isSubMenuOpen","subMenu","subMenuIndex","closeOtherExpand","withRouterInnerRef","WrappedComponent","InnerComponentWithRef","forwardRef","rest","ComponentWithRef","withRef","menuAdmin","menustaff","Header","handleBackHome","history","menuApp","isLoggedIn","actions","initialState","started","language","systemMenuPath","handleFunc","dataFunc","appReducer","action","CLEARN_ALL_COPY_BOOK","ADD_NEW_ITEM_BOOK","persistCommonConfig","storage","stateReconciler","autoMergeLevel2","userPersistConfig","whitelist","bookPersistConfig","createBrowserHistory","basename","reduxStateSyncConfig","rootReducer","combineReducers","router","connectRouter","persistReducer","userReducer","book","bookReducer","app","middleware","routerMiddleware","thunkMiddleware","createStateSyncMiddleware","composeEnhancers","compose","reduxStore","createStore","applyMiddleware","persistor","persistStore","locationHelper","locationHelperBuilder","userIsAuthenticated","connectedRouterRedirect","authenticatedSelector","wrapperDisplayName","redirectPath","userIsNotAuthenticated","ownProps","getRedirectQueryParam","allowRedirectBack","Home","Login","handleChangeLogin","isLogin","hanleOnClickSingin","errMessager","errMessanger","handleOnChangeInput","statecopy","handleShowPassword","isShowPass","isShowPassSingup","isShowPassSingupcomfimg","handleCheckInput","isvalude","handleOnsingup","cName","cEmail","cPassword","cPasswordxn","handleShowlogin","isShowLogin","ProductManage","RegisterPackageGroupOrAcc","ManageProduct","TableBookManage","handleDelete","handleEditBook","onChangeData","arrBook","editbook","changeUpdate","handleExitUpdate","tenSach","tacGia","nhaxuatbanData","tenNXB","nhacungcapData","tenNCC","theloaiData","theLoai","gia","soLuong","ModalNXB","handleSave","maNXB","count","check","Modal","isShowNXB","onHide","handleShowNXB","centered","closeButton","Title","Body","Footer","Button","variant","ModalNCC","maNCC","isShowNCC","handleShowNCC","ModalTL","TL","tenTL","maTL","isShowTL","handleShowTL","BookManager","handleGetAllNCC","arrNCC","handleGetAllTL","arrTL","arrNXB","arrSanPham","arrbook","parseInt","match","max","Math","NCC","NXB","bookcreate","errMessage","handleChangeData","nhaCungCap","nhaXuatBan","handleEditBooks","updatebook","selectedFile","spinner","text","NhacungcapManager","handleOnchangeInput","handleOnClickdelete","handleOnClickEdit","selectUpdate","handleClean","handleUpdate","nhaxuatbanManager","TheloaiManager","TableDiscountManager","handleaddarrTime","arrDiscount","arrTime","forEach","discount","ngayBD","ngayKT","timeDiff","Date","getTime","seconds","floor","minutes","hours","formattedTime","padStart","convertTimeToMilliseconds","Number","handleloaddiscount","handlegetdata","select","timeCount","moment","format","date","now","renderer","days","onComplete","Discount","handlegetAllDiscount","handlegetAllbook","handleOnChangInput","handleOnChangleDatePicker","deletes","ngayBDS","ngayKTS","updates","isShowupdate","yesterday","setDate","getDate","tomorrow","dateFormat","selected","minDate","mdParser","MarkdownIt","BookManageInfo","handleEditorChange","html","descriptionHTML","descriptionMarkDown","handleOnChange","bookId","handleGetBookInfo","isEmpty","handleEditBookInfo","handleCancelUpdate","height","width","renderHTML","render","hanlegetAllBilldetail","maHD","handleUpdateCreateBillDetail","handledeleteBillandBillDetail","hanlegetAllBillbyuserId","handledeComfimBill","hanlegetAllBillmore","ModalUser","handleEnter","hoten","phonenumber","handleShowModal","handleGetAllUser","handleConvertSelect","isShowModal","soluong","onKeyPress","BillManage","arrMailUser","handlegetAllbill","arrBill","arrBillDetail","handleOnclickDetail","UserData","ngaydat","createdAt","isShowClick","isShowChoose","tongTien","handleHuy","handleXacNhan","handleEdit","handeCheckinput","handleCreateBill","data1","handleChangeSelect","readOnly","options","parseFloat","toLocaleString","currency","statusData","BookData","thanhTien","ModalSoLuong","handleAddBilldetail","BillDetaiManage","arrBookCopy","handleClose","handleOnchangeSelect","handleSearchText","searchText","copyarrBook","copyarrBilldetail","filter","detail","selectItem","handleminus","selectitem","newCopybook","copytarrBook","bookItem","discountData","handleadds","handleOnChangeInputs","soluongbd","find","diff","handleClickrow","isShowEvent","handleaddBilldetail","existingItem","hoaDonId","handleSaveChange","maKH","number","arrBillDetailCopy","filteredBooks","toLowerCase","includes","min","placeholder","System","component","BillDetailManage","ConfirmModal","handlerKeyDown","which","keyCode","acceptBtnRef","disabled","click","onAcceptBtnClick","onClose","document","addEventListener","removeEventListener","TextSearch","handleGetALLbook","handleGetAllpaid","arrproductmore","handleSearchBooks","slice","latestBooks","handleBookInfo","handleOffSearch","arrSellingcategory","sort","b","HomeHeader","handleShowSearch","isShowSearch","handleHome","handleCart","handleChangeSearch","handleClickOutside","divSearch","querySelector","contains","handEnterSearch","window","desiredPath","originalArrBook","handleSearch","handleClickSearch","handleClickInfoUser","handleClickMybill","handletopageManager","soluongproduct","isLoggedIns","capture","onFocus","HomeProduct","handleSetarrBook","handleloadingdata","isShowLoding","arrBookDiscount","copytitem","mount","mountDiscount","settings","dots","infinite","speed","slidesToShow","slidesToScroll","BookSlider","handlegetBookTL","arrBookFind","bookoj","SliderManager","slider","arrBookTL","slickGoTo","initialSlide","currentIndex","HomeBody","updatedArrTL","selectTL","handleShowMore","books","infoarrDiscount","Bookcategory","handleClickIndex","selectedindex","handleselectSP","handleShowmore","isShowmore","handleChooseNCC","handleselectNCC","handleSelectedMount","selectedMount","handleApdung","handlefmounta","frommount","aboutmount","handlegetMount","checked","class","HomeBackgroup","handleSoftArr","sotfarr","handleSort","autoplay","ArrProduct","HomePage","currentPage","filteredArrBook","fmount","amount","arrBookPaginate","handlePaginate","page","handlePageChange","selectedPage","ceil","handleisShowBody","arrAfter","isShowBody","pageCount","offset","currentData","nextLabel","previousLabel","breakLabel","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","activeClassName","BookinfoCart","handleThemCart","foundItem","soluongmua","handleMuangay","isExist","BookDetailCart","copymore","loadDatafromsoluong","BookDetail","handleShowfull","isShowfull","params","BookInfoData","dangerouslySetInnerHTML","__html","CartBill","handleBackCart","tongtien","checkboxes","billDetailDataArray","hoTen","soDienThoai","thanhtien","thanhtienDiscount","Cart","handleBuycart","handleInfoBook","handleCheckboxChange","handleCheckAll","handleThanhToan","ShowBook","HomeAfterSearch","ListChooseaction","handleClickwarning","ModalChangePassword","passwordafter","passwordecomfim","passwordbefor","passwordcomfim","handleShowchangePass","isShowChangePass","Infouser","copyState","handleOnChangeGender","handleOnClickSavaChange","newData","ListBill","handleClickfilter","clickshow","arrBillcopy","textSearch","handleShowDetail","arrBookDetailbill","handleCancelAllbill","App","handlePersistorState","bootstrapped","onBeforeLift","then","catch","exact","login","newestOnTop","rtl","pauseOnFocusLoss","Boolean","hostname","getFlattenedMessages","IntlProviderWrapper","locale","defaultLocale","ReactDOM","store","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8a16139a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport './CustomScrollbars.scss';\r\n\r\nclass CustomScrollbars extends Component {\r\n\r\n    ref = React.createRef();\r\n\r\n    getScrollLeft =()=>{\r\n        const scrollbars = this.ref.current;\r\n        return scrollbars.getScrollLeft();\r\n    }\r\n    getScrollTop =()=>{\r\n        const scrollbars = this.ref.current;\r\n        return scrollbars.getScrollTop();\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        if (!this.ref || !this.ref.current) {\r\n            return;\r\n        }\r\n        const scrollbars = this.ref.current;\r\n        const targetScrollTop = scrollbars.getScrollHeight();\r\n        this.scrollTo(targetScrollTop);\r\n    };\r\n\r\n    scrollTo = (targetTop) => {\r\n        const { quickScroll } = this.props;\r\n        if (!this.ref || !this.ref.current) {\r\n            return;\r\n        }\r\n        const scrollbars = this.ref.current;\r\n        const originalTop = scrollbars.getScrollTop();\r\n        let iteration = 0;\r\n\r\n        const scroll = () => {\r\n            iteration++;\r\n            if (iteration > 30) {\r\n                return;\r\n            }\r\n            scrollbars.scrollTop(originalTop + (targetTop - originalTop) / 30 * iteration);\r\n\r\n            if (quickScroll && quickScroll === true) {\r\n                scroll();\r\n            } else {\r\n                setTimeout(() => {\r\n                    scroll();\r\n                }, 20);\r\n            }\r\n        };\r\n\r\n        scroll();\r\n    };\r\n\r\n    renderTrackHorizontal = (props) => {\r\n        return (\r\n            <div {...props} className=\"track-horizontal\" />\r\n        );\r\n    };\r\n\r\n    renderTrackVertical = (props) => {\r\n        return (\r\n            <div {...props} className=\"track-vertical\" />\r\n        );\r\n    };\r\n\r\n    renderThumbHorizontal = (props) => {\r\n        return (\r\n            <div {...props} className=\"thumb-horizontal\" />\r\n        );\r\n    };\r\n\r\n    renderThumbVertical = (props) => {\r\n        return (\r\n            <div {...props} className=\"thumb-vertical\" />\r\n        );\r\n    };\r\n\r\n    renderNone = (props) => {\r\n        return (\r\n            <div />\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { className, disableVerticalScroll, disableHorizontalScroll, children,...otherProps } = this.props;\r\n        return (\r\n            <Scrollbars\r\n                ref={this.ref}\r\n                autoHide={true}\r\n                autoHideTimeout={200}\r\n                hideTracksWhenNotNeeded={true}\r\n                className={className ? className + ' custom-scrollbar' : 'custom-scrollbar'}\r\n                {...otherProps}\r\n                renderTrackHorizontal={disableHorizontalScroll ? this.renderNone : this.renderTrackHorizontal}\r\n                renderTrackVertical={disableVerticalScroll ? this.renderNone : this.renderTrackVertical}\r\n                renderThumbHorizontal={disableHorizontalScroll ? this.renderNone : this.renderThumbHorizontal}\r\n                renderThumbVertical={disableVerticalScroll ? this.renderNone : this.renderThumbVertical}\r\n            >\r\n                {children}\r\n            </Scrollbars>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomScrollbars;","import React, { Component, Fragment } from 'react';\r\nimport { FormattedMessage, FormattedTime } from 'react-intl';\r\n\r\nimport CustomScrollBar from '../components/CustomScrollbars';\r\n\r\nimport './CustomToast.scss';\r\n\r\nclass CustomToast extends Component {\r\n\r\n    render() {\r\n        const { titleId, message, messageId, time } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"custom-toast\">\r\n                    <div className=\"toast-title\">\r\n                        {time && (\r\n                            <span className=\"date\">\r\n                                <FormattedTime hour='numeric' minute='numeric' second='numeric' hour12={true} value={time} />\r\n                            </span>\r\n                        )}\r\n                        <i className=\"fa fa-fw fa-exclamation-triangle\" />\r\n                        <FormattedMessage id={titleId} />\r\n                    </div>\r\n                    {\r\n                        (message && typeof message === 'object') ?\r\n                            <CustomScrollBar autoHeight={true} autoHeightMin={50} autoHeightMax={100}>\r\n                                {\r\n                                    message.map((msg, index) => {\r\n                                        return (\r\n                                            <Fragment key={index}>\r\n                                                <div className=\"toast-content\">{msg}</div>\r\n                                            </Fragment>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </CustomScrollBar> :\r\n                            <div className=\"toast-content\">\r\n                                {message ? message : (messageId ? (<FormattedMessage id={messageId} />) : null)}\r\n                            </div>\r\n                    }\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CustomToastCloseButton extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <button type=\"button\" className=\"toast-close\" onClick={this.props.closeToast}>\r\n                <i className=\"fa fa-fw fa-times-circle\" />\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomToast;","import axios from \"../axios\";\r\n\r\nconst handlegetAllNCC = (keyMap) => {\r\n    return axios.get(`/api/get-all-NCC?keyMap=${keyMap}`)\r\n}\r\n\r\nconst handlegetAllNXB = (keyMap) => {\r\n    return axios.get(`/api/get-all-NXB?keyMap=${keyMap}`)\r\n}\r\n\r\nconst handlegetAllTL = (keyMap) => {\r\n    return axios.get(`/api/get-all-TL?keyMap=${keyMap}`)\r\n}\r\n\r\nconst handleCreateNewNCC = (data) => {\r\n    return axios.post('/api/create-new-NCC', data)\r\n}\r\n\r\nconst handleCreateNewNXB = (data) => {\r\n    return axios.post('/api/create-new-NXB', data)\r\n}\r\n\r\nconst handleCreateNewTL = (data) => {\r\n    return axios.post('/api/create-new-TL', data)\r\n}\r\n\r\nconst handleDeleteNCC = (keyMap) => {\r\n    return axios.delete('/api/delete-NCC', { data: { keyMap: keyMap } })\r\n}\r\n\r\nconst handleDeleteNXB = (keyMap) => {\r\n    return axios.delete('/api/delete-NXB', { data: { keyMap: keyMap } })\r\n}\r\n\r\nconst handleDeleteTL = (keyMap) => {\r\n    return axios.delete('/api/delete-TL', { data: { keyMap: keyMap } })\r\n}\r\n\r\nconst handleUpdateNCC = (data) => {\r\n    return axios.put('/api/update-NCC', data)\r\n}\r\n\r\nconst handleUpdateNXB = (data) => {\r\n    return axios.put('/api/update-NXB', data)\r\n}\r\n\r\nconst handleUpdateTL = (data) => {\r\n    return axios.put('/api/update-TL', data)\r\n}\r\n\r\nconst handleCreateNewBook = (formdata) => {\r\n    return axios.post('/api/create-new-book', formdata, { headers: { 'Content-Type': 'multipart/form-data' } })\r\n}\r\n\r\nconst handlegetAllBook = (type) => {\r\n    return axios.get(`/api/get-all-book?type=${type}`)\r\n}\r\n\r\nconst handleDeleteBook = (keyMap) => {\r\n    return axios.delete('/api/delete-book', { data: { keyMap: keyMap } })\r\n}\r\n\r\nconst handleUpdateBook = (formdata) => {\r\n    return axios.put('/api/update-book', formdata, { headers: { 'Content-Type': 'multipart/form-data' } })\r\n}\r\n\r\nconst handleSavediscount = (data) => {\r\n    return axios.post('/api/create-new-discount', data)\r\n}\r\n\r\nconst handlegetAlldiscount = (maSach) => {\r\n    return axios.get(`/api/get-all-discount?maSach=${maSach}`)\r\n}\r\n\r\nconst handleDeleteDiscount = (maSach) => {\r\n    return axios.delete('/api/delete-discount', { data: { maSach: maSach } })\r\n}\r\n\r\nconst handleUpdateDiscount = (data) => {\r\n    return axios.put('/api/update-discount', data)\r\n}\r\n\r\nconst handleSaveBookInfo = (data) => {\r\n    return axios.post('/api/create-new-bookinfo', data)\r\n}\r\n\r\nconst handlegetAllbookInfo = (maSach) => {\r\n    return axios.get(`/api/get-all-bookinfo?bookId=${maSach}`)\r\n}\r\n\r\nconst handleUpdateBookinfo = (data) => {\r\n    return axios.put('/api/update-bookinfo', data)\r\n}\r\n\r\nconst handlegetAllbookbycart = (type) => {\r\n    return axios.get(`/api/get-all-book-by-cart?type=${type}`)\r\n}\r\n\r\nconst handlegetAllBookTL = (type) => {\r\n    return axios.get(`/api/get-all-book-by-TL?type=${type}`)\r\n}\r\n\r\nconst uploadfile = (formdata) => {\r\n    return axios.post('/upload', formdata, { headers: { 'Content-Type': 'multipart/form-data' } })\r\n}\r\n\r\nconst handlegetAllBookbySP = (sanpham) => {\r\n    return axios.get(`/api/get-all-book-by-san-pham?sanPham=${sanpham}`)\r\n}\r\n\r\nconst handlegetAllNXBbySP = (sanpham) => {\r\n    return axios.get(`/api/get-all-NXB-by-san-pham?sanPham=${sanpham}`)\r\n}\r\n\r\nconst handlegetAllTLbySP = (sanpham) => {\r\n    return axios.get(`/api/get-all-TL-by-san-pham?sanPham=${sanpham}`)\r\n}\r\n\r\nconst handlegetAllNCCbySP = (sanpham) => {\r\n    return axios.get(`/api/get-all-NCC-by-san-pham?sanPham=${sanpham}`)\r\n}\r\n\r\nconst handlecountAllBook = () => {\r\n    return axios.get('/api/get-all-count-san-pham')\r\n}\r\n\r\nconst handlecountAllTL = () => {\r\n    return axios.get('/api/get-TL-count-san-pham')\r\n}\r\n\r\nconst handlecountAllNCC = () => {\r\n    return axios.get('/api/get-NCC-count-san-pham')\r\n}\r\n\r\nconst handlecountAllNXB = () => {\r\n    return axios.get('/api/get-NXB-count-san-pham')\r\n}\r\n\r\nconst handlegetAllBookNCC = (type) => {\r\n    return axios.get(`/api/get-all-book-by-NCC?type=${type}`)\r\n}\r\n\r\n\r\n\r\nexport {\r\n    handlegetAllNCC, handlegetAllNXB, handlegetAllTL, handleCreateNewNCC, handleDeleteNCC,\r\n    handleDeleteNXB, handleDeleteTL, handleUpdateNCC, handleUpdateNXB, handleUpdateTL,\r\n    handleCreateNewNXB, handleCreateNewTL, handleCreateNewBook, handlegetAllBook, handleDeleteBook,\r\n    handleUpdateBook, handleSavediscount, handlegetAlldiscount, handleDeleteDiscount, handleUpdateDiscount,\r\n    handleSaveBookInfo, handlegetAllbookInfo, handleUpdateBookinfo, handlegetAllbookbycart,\r\n    handlegetAllBookTL, uploadfile, handlegetAllBookbySP, handlegetAllTLbySP, handlegetAllNCCbySP,\r\n    handlegetAllNXBbySP, handlecountAllNXB, handlecountAllNCC, handlecountAllTL, handlecountAllBook,\r\n    handlegetAllBookNCC\r\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 159;","import axios from 'axios';\r\nimport _ from 'lodash';\r\nimport config from './config';\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n    withCredentials: true\r\n});\r\n\r\nconst createError = (httpStatusCode, statusCode, errorMessage, problems, errorCode = '') => {\r\n    const error = new Error();\r\n    error.httpStatusCode = httpStatusCode;\r\n    error.statusCode = statusCode;\r\n    error.errorMessage = errorMessage;\r\n    error.problems = problems;\r\n    error.errorCode = errorCode + \"\";\r\n    return error;\r\n};\r\n\r\nexport const isSuccessStatusCode = (s) => {\r\n    // May be string or number\r\n    const statusType = typeof s;\r\n    return (statusType === 'number' && s === 0) || (statusType === 'string' && s.toUpperCase() === 'OK');\r\n};\r\n\r\ninstance.interceptors.response.use(\r\n    (response) => {\r\n        // Thrown error for request with OK status code\r\n        const { data } = response;\r\n        if (data.hasOwnProperty('s') && !isSuccessStatusCode(data['s']) && data.hasOwnProperty('errmsg')) {\r\n            return Promise.reject(createError(response.status, data['s'], data['errmsg'], null, data['errcode'] ? data['errcode'] : \"\"));\r\n        }\r\n\r\n        // Return direct data to callback\r\n        if (data.hasOwnProperty('s') && data.hasOwnProperty('d')) {\r\n            return data['d'];\r\n        }\r\n        // Handle special case\r\n        if (data.hasOwnProperty('s') && _.keys(data).length === 1) {\r\n            return null;\r\n        }\r\n        return response.data;\r\n    },\r\n    (error) => {\r\n        const { response } = error;\r\n        if (response == null) {\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        const { data } = response;\r\n\r\n        if (data.hasOwnProperty('s') && data.hasOwnProperty('errmsg')) {\r\n            return Promise.reject(createError(response.status, data['s'], data['errmsg']));\r\n        }\r\n\r\n        if (data.hasOwnProperty('code') && data.hasOwnProperty('message')) {\r\n            return Promise.reject(createError(response.status, data['code'], data['message'], data['problems']));\r\n        }\r\n\r\n        return Promise.reject(createError(response.status));\r\n    }\r\n);\r\n\r\nexport default instance;\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './UserManage.scss';\r\nimport Header from '../../Header/Header';\r\nimport { hanlegetAlluser } from '../../../services/userService'\r\nimport CreateUserModal from './CreateUserModal';\r\nimport { handleGetallCodeByType, handleNewUseradmin, handleDeleteUser } from '../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\nimport EditUserModal from './EditUserModal';\r\n\r\n\r\nclass UserManage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrUser: [],\r\n            isShowmodal: false,\r\n            isOpenEdit: false,\r\n            isShowmodalEdit: false,\r\n            userEdit: {}\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleReaddata();\r\n    }\r\n\r\n    handleReaddata = async () => {\r\n        let res = await hanlegetAlluser('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrUser: res.data\r\n            }, () => { })\r\n        }\r\n\r\n    }\r\n\r\n    handleCreateNewUser = async (data) => {\r\n        let res = await handleNewUseradmin(data);\r\n        if (res && res.errCode === 0) {\r\n            toast.success('🦄 Create new user success!', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n            this.setState({\r\n                isShowmodal: false\r\n            })\r\n\r\n            await this.handleReaddata();\r\n        }\r\n        else {\r\n            toast.error('create new user is error!')\r\n        }\r\n    }\r\n\r\n    handleDeleteUser = async (user) => {\r\n        let res = await handleDeleteUser(user.id);\r\n        console.log(res)\r\n        if (res && res.errCode === 0) {\r\n            toast.success('🦄 delete user success!', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n            await this.handleReaddata();\r\n\r\n        } else {\r\n            toast.error('create new user is error!')\r\n\r\n        }\r\n    }\r\n\r\n    handleShowmodal = () => {\r\n        this.setState({\r\n            isShowmodal: !this.state.isShowmodal\r\n        })\r\n    }\r\n\r\n    handleShowmodalEdit = () => {\r\n        this.setState({\r\n            isShowmodalEdit: !this.state.isShowmodalEdit\r\n        })\r\n    }\r\n\r\n    handleRequired = () => {\r\n        this.setState({\r\n            isOpenEdit: !this.state.isOpenEdit\r\n        })\r\n    }\r\n\r\n    handleEditUser = (user) => {\r\n        this.setState({\r\n            isOpenEdit: !this.state.isOpenEdit,\r\n            userEdit: user\r\n        })\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrUser, isShowmodal, isOpenEdit, isShowmodalEdit } = this.state;\r\n        return (\r\n            <div className='user-manager-container'>\r\n                <CreateUserModal\r\n                    showmodal={isShowmodal}\r\n                    handleShowmodal={this.handleShowmodal}\r\n                    handleReaddata={this.handleReaddata}\r\n                    handleCreateNewUser={this.handleCreateNewUser}\r\n                />\r\n\r\n                <EditUserModal\r\n                    showmodalEdit={isShowmodalEdit}\r\n                    handleShowmodalEdit={this.handleShowmodalEdit}\r\n                    handleEditUser={this.handleEditUser}\r\n                    DataUser={this.state.userEdit}\r\n                    handleReaddata={this.handleReaddata}\r\n                    handleRequired={this.handleRequired}\r\n                />\r\n\r\n                <div className='user-manager-header'>\r\n                    <Header />\r\n                </div>\r\n                <div className='user-manager-body'>\r\n                    <div className='user-manager-title'>\r\n                        Quản lý người dùng\r\n                    </div>\r\n                    <div className='user-manage-create'>\r\n                        {isOpenEdit === false\r\n                            ?\r\n                            <button className='btn-create-user'\r\n                                onClick={() => this.handleShowmodal()}\r\n                            >\r\n                                <i className=\"fas fa-plus-circle\"></i>Tạo người dùng\r\n                            </button>\r\n                            :\r\n                            <button className='btn-edit-user'\r\n                                onClick={() => this.handleShowmodalEdit()}\r\n                            >\r\n                                <i className=\"fas fa-plus-circle\"></i>Sửa người dùng\r\n                            </button>\r\n                        }\r\n\r\n                    </div>\r\n                    <div className='user-manager-table'>\r\n                        <table id=\"customers\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th>STT</th>\r\n                                    <th>email</th>\r\n                                    <th>address</th>\r\n                                    <th>phoneNumber</th>\r\n                                    <th>roleId</th>\r\n                                    <th>option</th>\r\n                                </tr>\r\n                                {arrUser && arrUser.length > 0\r\n                                    && arrUser.map((item, index) => {\r\n                                        let imagebase64 = '';\r\n                                        if (item.image) {\r\n                                            imagebase64 = new Buffer(item.image, 'base64').toString('binary');\r\n                                        }\r\n                                        return (\r\n                                            <tr key={index}>\r\n                                                <td>{index + 1}</td>\r\n                                                <td>{item.email}</td>\r\n                                                <td>{item.address}</td>\r\n                                                <td>{item.phoneNumber}</td>\r\n                                                <td>{item.roleData ? item.roleData.value : null}</td>\r\n\r\n                                                <td>\r\n                                                    <button className='btn-delete-um'\r\n                                                        onClick={() => this.handleDeleteUser(item)}\r\n                                                    ><i className='fa fa-trash'></i>Delete</button>\r\n                                                    <button className='btn-edit-um'\r\n                                                        onClick={() => this.handleEditUser(item)}\r\n                                                    ><i className='fas fa-edit'></i>Edit</button>\r\n                                                </td>\r\n\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserManage);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { CommonUtils } from '../../../utils'\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './CreateUserModal.scss';\r\nimport Select from 'react-select'\r\nimport { handleGetallCodeByType, handleNewUseradmin } from '../../../services/userService'\r\nimport Lightbox from 'react-image-lightbox';\r\nimport { toast } from 'react-toastify';\r\nimport { uploadfile } from '../../../services/bookService'\r\nimport LoadingOverlay from 'react-loading-overlay';\r\n\r\n\r\nclass CreateUserModal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            listGender: [],\r\n            listRole: [],\r\n            file: {},\r\n            preview: [],\r\n            isOpen: false,\r\n\r\n            selectedGender: '',\r\n            selectedRoleId: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            password: '',\r\n            address: '',\r\n            phoneNumber: '',\r\n            gender: '',\r\n            roleId: '',\r\n            avatar: '',\r\n            isShowLoading: false\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.handlelistSelect()\r\n    }\r\n\r\n    buildInputSelect = async (type) => {\r\n        let arr = [];\r\n        let data = await handleGetallCodeByType(type)\r\n        if (data && data.data && data.errCode === 0) {\r\n            if (type === 'USER' || type === 'GENDER') {\r\n                data.data.map((item, index) => {\r\n                    let object = {};\r\n\r\n                    object.value = item.keyMap;\r\n                    object.label = item.value;\r\n\r\n                    arr.push(object);\r\n                }\r\n\r\n                )\r\n            }\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    handlelistSelect = async () => {\r\n        let listgender = await this.buildInputSelect('GENDER');\r\n        let listuser = await this.buildInputSelect('USER');\r\n        this.setState({\r\n            listGender: listgender,\r\n            listRole: listuser,\r\n            gender: this.state.listGender && this.state.listGender.length > 0 ? this.state.listGender[0].value : '',\r\n            roleId: this.state.listRole && this.state.listRole.length > 0 ? this.state.listRole[0].value : '',\r\n\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleOnChangefile = async (event) => {\r\n        let file = event.target.files[0];\r\n        let ObjectURL = URL.createObjectURL(file);\r\n        this.setState({\r\n            file: file,\r\n            preview: ObjectURL\r\n        })\r\n    }\r\n\r\n    handlePreviewImg = () => {\r\n        if (!this.state.preview) return;\r\n        this.setState({\r\n            isOpen: true\r\n        })\r\n    }\r\n\r\n    handleOnChangeText = (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let isCheck = true;\r\n        let arr = ['firstName', 'lastName', 'email', 'password', 'address', 'phoneNumber', 'gender', 'roleId'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                isCheck = false;\r\n                alert(`missing input :${arr[i]}`);\r\n                break;\r\n            }\r\n        }\r\n        return isCheck;\r\n    }\r\n\r\n    handleOnClickSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            const formData = new FormData();\r\n            formData.append(\"firstName\", this.state.firstName)\r\n            formData.append(\"lastName\", this.state.lastName)\r\n            formData.append(\"email\", this.state.email)\r\n            formData.append(\"password\", this.state.password)\r\n            formData.append(\"address\", this.state.address)\r\n            formData.append(\"phonenumber\", this.state.phoneNumber)\r\n            formData.append(\"gender\", this.state.gender)\r\n            formData.append(\"roleId\", this.state.roleId)\r\n            formData.append(\"image\", this.state.file)\r\n            this.setState({\r\n                isShowLoading: true\r\n            })\r\n            let link = await uploadfile(formData)\r\n\r\n\r\n            let data = await this.props.handleCreateNewUser(formData)\r\n\r\n            this.setState({\r\n                selectedGender: '',\r\n                selectedRoleId: '',\r\n                firstName: '',\r\n                lastName: '',\r\n                email: '',\r\n                password: '',\r\n                address: '',\r\n                phoneNumber: '',\r\n                gender: '',\r\n                roleId: '',\r\n                previewImg: [],\r\n\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    handleOnChangSelected = async (selectedOption, name) => {\r\n        let stateName = name;\r\n        let stateCopy = { ...this.state };\r\n        stateCopy[stateName] = selectedOption;\r\n\r\n        this.setState({\r\n            ...stateCopy\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { listGender, listRole, isOpen, gender, roleId } = this.state;\r\n        return (\r\n            <div className='modal-container'>\r\n                <Modal\r\n                    show={this.props.showmodal}\r\n                    // onHide={() => setShow(false)}\r\n                    dialogClassName=\"modal-90w\"\r\n                    aria-labelledby=\"example-custom-modal-styling-title\"\r\n                    size='lg'\r\n                >\r\n                    <div className='modal-header'>\r\n                        <div className='modal-title'>Create a new user</div>\r\n                        <div className='modal-btn' onClick={this.props.handleShowmodal}><i className=\"fas fa-times-circle\"></i></div>\r\n                    </div>\r\n                    <div className='modal-body row'>\r\n                        <div className='col-6 form-group'>\r\n                            <label>firstName</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'firstName')}\r\n                                value={this.state.firstName}\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>lastName</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'lastName')}\r\n                                value={this.state.lastName}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6 form-group'>\r\n                            <label>email</label>\r\n                            <input className='form-control' type='email'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'email')}\r\n                                value={this.state.email}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>password</label>\r\n                            <input className='form-control' type='password'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'password')}\r\n                                value={this.state.password}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6 form-group'>\r\n                            <label>address</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'address')}\r\n                                value={this.state.address}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>phoneNumber</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'phoneNumber')}\r\n                                value={this.state.phoneNumber}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-4'>\r\n                            <label>gender</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'gender')}\r\n                                value={gender}\r\n                            >\r\n                                {listGender && listGender.length > 0\r\n                                    && listGender.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.value}>{item.label}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div className='col-4 form-group'>\r\n                            <label>roleId</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'roleId')}\r\n                            >\r\n                                {listRole && listRole.length > 0\r\n                                    && listRole.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.value}>{item.label}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div className='col-4'>\r\n                            <label>image</label>\r\n                            <div className='preview-content'>\r\n                                <input id='previewImg' type='file' hidden onChange={(event) => this.handleOnChangefile(event)} />\r\n                                <label className='label-upload' htmlFor='previewImg'>Tải ảnh <i className=\"fas fa-upload\"></i></label>\r\n                                <div className='preview-image'\r\n                                    // onClick={() => this.handlePreviewImg()}\r\n                                    style={{ backgroundImage: `url(${this.state.preview})` }}\r\n                                ></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='modal-footer'>\r\n                        <button className='btn-save'\r\n                            onClick={() => this.handleOnClickSave()}\r\n                        ><i className=\"fas fa-save\"></i>Save</button>\r\n                        <button className='btn-cancel'\r\n                            onClick={this.props.handleShowmodal}\r\n                        ><i className=\"fas fa-window-close\"></i>Cancel</button>\r\n\r\n                    </div>\r\n\r\n                </Modal>\r\n                {this.state.isOpen === true &&\r\n                    <Lightbox\r\n                        mainSrc={this.state.previewImg}\r\n                        onCloseRequest={() => this.setState({ isOpen: false })}\r\n                    />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUserModal);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { CommonUtils } from '../../../utils'\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './EditUserModal.scss';\r\nimport Select from 'react-select'\r\nimport { handleGetallCodeByType, handleUpdateUser } from '../../../services/userService'\r\nimport Lightbox from 'react-image-lightbox';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\n\r\nclass EditUserModal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            listGender: [],\r\n            listRole: [],\r\n            isOpen: false,\r\n\r\n            selectedGender: '',\r\n            selectedRoleId: '',\r\n            file: {},\r\n            preview: [],\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            password: '',\r\n            address: '',\r\n            phoneNumber: '',\r\n            gender: '',\r\n            roleId: '',\r\n            avatar: '',\r\n            userId: '',\r\n            userData: {}\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlelistSelect()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.DataUser !== this.props.DataUser) {\r\n            this.setState({\r\n                userId: this.props.DataUser.id,\r\n                firstName: this.props.DataUser.firstName,\r\n                lastName: this.props.DataUser.lastName,\r\n                email: this.props.DataUser.email,\r\n                password: this.props.DataUser.password,\r\n                address: this.props.DataUser.address,\r\n                phoneNumber: this.props.DataUser.phoneNumber,\r\n                gender: this.props.DataUser.gender,\r\n                roleId: this.props.DataUser.roleId,\r\n                avatar: this.props.DataUser.image,\r\n                preview: this.props.DataUser.image\r\n            })\r\n        }\r\n    }\r\n\r\n    buildInputSelect = async (type) => {\r\n        let arr = [];\r\n        let data = await handleGetallCodeByType(type)\r\n        if (data && data.data && data.errCode === 0) {\r\n            if (type === 'USER' || type === 'GENDER') {\r\n                data.data.map((item, index) => {\r\n                    let object = {};\r\n\r\n                    object.value = item.keyMap;\r\n                    object.label = item.value;\r\n\r\n                    arr.push(object);\r\n                }\r\n\r\n                )\r\n            }\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    handlelistSelect = async () => {\r\n        let listgender = await this.buildInputSelect('GENDER');\r\n        let listuser = await this.buildInputSelect('USER');\r\n        this.setState({\r\n            listGender: listgender,\r\n            listRole: listuser,\r\n            gender: this.state.listGender && this.state.listGender.length > 0 ? this.state.listGender[0].value : '',\r\n            roleId: this.state.listRole && this.state.listRole.length > 0 ? this.state.listRole[0].value : '',\r\n\r\n        })\r\n    }\r\n\r\n\r\n    handleOnChangefile = async (event) => {\r\n        let file = event.target.files[0];\r\n        let ObjectURL = URL.createObjectURL(file);\r\n        this.setState({\r\n            file: file,\r\n            preview: ObjectURL\r\n        })\r\n    }\r\n\r\n    handlePreviewImg = () => {\r\n        if (!this.state.preview) return;\r\n        this.setState({\r\n            isOpen: true\r\n        })\r\n    }\r\n\r\n    handleOnChangeText = (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let isCheck = true;\r\n        let arr = ['firstName', 'lastName', 'email', 'password', 'address', 'phoneNumber', 'gender', 'roleId'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                isCheck = false;\r\n                alert(`missing input :${arr[i]}`);\r\n                break;\r\n            }\r\n        }\r\n        return isCheck;\r\n    }\r\n\r\n    handleOnClickSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            const formData = new FormData();\r\n            formData.append(\"firstName\", this.state.firstName)\r\n            formData.append(\"lastName\", this.state.lastName)\r\n            formData.append(\"email\", this.state.email)\r\n            formData.append(\"password\", this.state.password)\r\n            formData.append(\"address\", this.state.address)\r\n            formData.append(\"phoneNumber\", this.state.phoneNumber)\r\n            formData.append(\"gender\", this.state.gender)\r\n            formData.append(\"roleId\", this.state.roleId)\r\n            formData.append(\"image\", this.state.file)\r\n            formData.append(\"id\", this.state.userId)\r\n            console.log('check data', formData)\r\n            let updateUser = await handleUpdateUser(formData);\r\n            if (updateUser && updateUser.errCode === 0) {\r\n                toast.success('🦄 update user success!', {\r\n                    position: \"top-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                });\r\n\r\n                this.setState({\r\n                    preview: [],\r\n                    firstName: '',\r\n                    lastName: '',\r\n                    email: '',\r\n                    password: '',\r\n                    address: '',\r\n                    phoneNumber: '',\r\n                    gender: '',\r\n                    roleId: '',\r\n                    userId: '',\r\n                })\r\n\r\n                await this.props.handleReaddata()\r\n                await this.props.handleShowmodalEdit()\r\n                await this.props.handleRequired()\r\n            } else {\r\n                toast.error('update user is error!')\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    handleOnChangSelected = async (selectedOption, name) => {\r\n        let stateName = name;\r\n        let stateCopy = { ...this.state };\r\n        stateCopy[stateName] = selectedOption;\r\n\r\n        this.setState({\r\n            ...stateCopy\r\n        })\r\n\r\n\r\n    }\r\n\r\n    handleUserData = async () => {\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { listGender, listRole, isOpen, gender, roleId, userData } = this.state;\r\n\r\n\r\n        return (\r\n            <div className='modal-container'>\r\n                <Modal\r\n                    show={this.props.showmodalEdit}\r\n                    dialogClassName=\"modal-90w\"\r\n                    aria-labelledby=\"example-custom-modal-styling-title\"\r\n                    size='lg'\r\n                >\r\n                    <div className='modal-header'>\r\n                        <div className='modal-title'>Edit a user</div>\r\n                        <div className='modal-btn' onClick={this.props.handleShowmodalEdit}><i className=\"fas fa-times-circle\"></i></div>\r\n                    </div>\r\n                    <div className='modal-body row'>\r\n                        <div className='col-6 form-group'>\r\n                            <label>firstName</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'firstName')}\r\n                                value={this.state.firstName}\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>lastName</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'lastName')}\r\n                                value={this.state.lastName}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6 form-group'>\r\n                            <label>email</label>\r\n                            <input className='form-control' type='email'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'email')}\r\n                                value={this.state.email}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>password</label>\r\n                            <input className='form-control' type='password'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'password')}\r\n                                value={this.state.password}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6 form-group'>\r\n                            <label>address</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'address')}\r\n                                value={this.state.address}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>phoneNumber</label>\r\n                            <input className='form-control' type='text'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'phoneNumber')}\r\n                                value={this.state.phoneNumber}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='col-4'>\r\n                            <label>gender</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'gender')}\r\n                                value={this.state.gender}\r\n                            >\r\n                                {listGender && listGender.length > 0\r\n                                    && listGender.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.value}>{item.label}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div className='col-4 form-group'>\r\n                            <label>roleId</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChangeText(event, 'roleId')}\r\n                                value={this.state.roleId}\r\n                            >\r\n                                {listRole && listRole.length > 0\r\n                                    && listRole.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.value}>{item.label}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div className='col-4'>\r\n                            <label>image</label>\r\n                            <div className='preview-content'>\r\n                                <input id='previewImg' type='file' hidden onChange={(event) => this.handleOnChangefile(event)} />\r\n                                <label className='label-upload' htmlFor='previewImg'>Tải ảnh <i className=\"fas fa-upload\"></i></label>\r\n                                <div className='preview-image'\r\n                                    // onClick={() => this.handlePreviewImg()}\r\n                                    style={{ backgroundImage: `url(${this.state.preview})` }}\r\n                                ></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='modal-footer'>\r\n                        <button className='btn-save'\r\n                            onClick={() => this.handleOnClickSave()}\r\n                        ><i className=\"fas fa-save\"></i>Save</button>\r\n                        <button className='btn-cancel'\r\n                            onClick={this.props.handleShowmodalEdit}\r\n                        ><i className=\"fas fa-window-close\"></i>Cancel</button>\r\n\r\n                    </div>\r\n\r\n                </Modal>\r\n                {this.state.isOpen === true &&\r\n                    <Lightbox\r\n                        mainSrc={this.state.previewImg}\r\n                        onCloseRequest={() => this.setState({ isOpen: false })}\r\n                    />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditUserModal);\r\n","const actionTypes = Object.freeze({\r\n    //app\r\n    APP_START_UP_COMPLETE: 'APP_START_UP_COMPLETE',\r\n    SET_CONTENT_OF_CONFIRM_MODAL: 'SET_CONTENT_OF_CONFIRM_MODAL',\r\n\r\n    //admin\r\n    ADMIN_LOGIN_SUCCESS: 'ADMIN_LOGIN_SUCCESS',\r\n    ADMIN_LOGIN_FAIL: 'ADMIN_LOGIN_FAIL',\r\n    PROCESS_LOGOUT: 'PROCESS_LOGOUT',\r\n\r\n    //user\r\n    USER_LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    USER_LOGIN_FAIL: 'USER_LOGIN_FAIL',\r\n    PROCESS_LOGOUT: 'PROCESS_LOGOUT',\r\n\r\n    ADD_USER_SUCCESS: 'ADD_USER_SUCCESS',\r\n\r\n\r\n    //book\r\n    FETCH_ALL_BOOK_SUCCESS: 'FETCH_ALL_BOOK_SUCCESS',\r\n    FETCH_ALL_BOOK_FAIL: 'FETCH_ALL_BOOK_FAIL',\r\n\r\n    CLEARN_ALL_COPY_BOOK: 'CLEARN_ALL_COPY_BOOK',\r\n\r\n    ADD_NEW_ITEM_BOOK: 'ADD_NEW_ITEM_BOOK',\r\n\r\n    UPDATE_COPY_BOOK: 'UPDATE_COPY_BOOK'\r\n\r\n})\r\n\r\nexport default actionTypes;","import actionTypes from './actionTypes';\r\n\r\nexport const appStartUpComplete = () => ({\r\n    type: actionTypes.APP_START_UP_COMPLETE\r\n});\r\n\r\nexport const setContentOfConfirmModal = (contentOfConfirmModal) => ({\r\n    type: actionTypes.SET_CONTENT_OF_CONFIRM_MODAL,\r\n    contentOfConfirmModal: contentOfConfirmModal\r\n});","import actionTypes from './actionTypes';\r\n\r\nexport const adminLoginSuccess = (adminInfo) => ({\r\n    type: actionTypes.ADMIN_LOGIN_SUCCESS,\r\n    adminInfo: adminInfo\r\n})\r\n\r\nexport const adminLoginFail = () => ({\r\n    type: actionTypes.ADMIN_LOGIN_FAIL\r\n})\r\n\r\nexport const processLogout = () => ({\r\n    type: actionTypes.PROCESS_LOGOUT\r\n})","import actionTypes from './actionTypes';\r\nimport { handlegetAllBook, handlegetAllbookbycart } from '../../services/bookService';\r\n\r\nexport const addUserSuccess = () => ({\r\n    type: actionTypes.ADD_USER_SUCCESS\r\n})\r\n\r\nexport const userLoginSuccess = (userInfo) => ({\r\n    type: actionTypes.USER_LOGIN_SUCCESS,\r\n    userInfo: userInfo\r\n})\r\n\r\nexport const userLoginFail = () => ({\r\n    type: actionTypes.USER_LOGIN_FAIL\r\n})\r\n\r\nexport const processLogout = () => ({\r\n    type: actionTypes.PROCESS_LOGOUT\r\n})\r\n\r\nexport const fetchallBookStart = (maSach) => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let res = await handlegetAllbookbycart(maSach);\r\n            if (res && res.errCode === 0) {\r\n                dispatch({\r\n                    type: actionTypes.FETCH_ALL_BOOK_SUCCESS,\r\n                    bookInfo: res.data\r\n                })\r\n            } else {\r\n                dispatch({\r\n                    type: actionTypes.FETCH_ALL_BOOK_FAIL,\r\n\r\n                });\r\n            }\r\n        } catch (e) {\r\n            dispatch(fetchAllUserFailed());\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const addnewItem = (key, value) => ({\r\n    type: actionTypes.ADD_NEW_ITEM_BOOK,\r\n    key,\r\n    value\r\n})\r\n\r\nexport const updatedCopybook = (copybook) => ({\r\n    type: actionTypes.UPDATE_COPY_BOOK,\r\n    copybook: copybook\r\n})\r\n\r\nexport const fetchAllUserSuccess = (data) => ({\r\n    type: actionTypes.FETCH_ALL_BOOK_SUCCESS,\r\n    bookInfo: data\r\n})\r\n\r\nexport const fetchAllUserFailed = () => ({\r\n    type: actionTypes.FETCH_ALL_BOOK_FAIL,\r\n})\r\n","import axios from \"../axios\";\r\n\r\nconst handleLogin = (email, password) => {\r\n    return axios.post('/api/login', { email, password })\r\n}\r\n\r\nconst handleNewUser = (data) => {\r\n    return axios.post('/api/create-new-user', data)\r\n}\r\n\r\nconst handletest = () => {\r\n    return axios.get('/api/test')\r\n}\r\n\r\nconst hanlegetAlluser = (userId) => {\r\n    return axios.get(`/api/get-all-user?userId=${userId}`)\r\n}\r\n\r\nconst handleGetallCodeByType = (type) => {\r\n    return axios.get(`/api-get-all-allCode-by-type?type=${type}`)\r\n}\r\n\r\nconst handleNewUseradmin = (data) => {\r\n    return axios.post('/api/create-new-user-admin', data, { headers: { 'Content-Type': 'multipart/form-data' } })\r\n}\r\n\r\nconst handleDeleteUser = (userId) => {\r\n    return axios.delete('/api/delete-user', { data: { userId: userId } })\r\n}\r\n\r\nconst handleUpdateUser = (data) => {\r\n    return axios.put('/api/update-user', data, { headers: { 'Content-Type': 'multipart/form-data' } })\r\n}\r\n\r\nconst hanlegetAlluserbyemail = (userId) => {\r\n    return axios.get(`/api/get-all-user-by-email?email=${userId}`)\r\n}\r\n\r\nconst handleupdatePassword = (data) => {\r\n    return axios.post('/api-update-password', data)\r\n}\r\n\r\n\r\nexport {\r\n    handleLogin, handletest, handleNewUser, hanlegetAlluser,\r\n    handleGetallCodeByType, handleNewUseradmin, handleDeleteUser,\r\n    handleUpdateUser, hanlegetAlluserbyemail, handleupdatePassword\r\n}","export const path = {\r\n    HOME: '/',\r\n    LOGIN: '/login',\r\n    LOG_OUT: '/logout',\r\n    SYSTEM: '/system',\r\n    HOMEPAGE: '/home',\r\n    BOOK: '/book/:keyMap',\r\n    CART: '/cart',\r\n    CART_BILL: '/cart-bill',\r\n    SHOW_BOOK: '/show-more-books',\r\n    HOME_SEARCH: '/home-search',\r\n    INFOUSER: '/user/:id',\r\n    LISTBILL: '/list-bill'\r\n};\r\n\r\nexport const languages = {\r\n    VI: 'vi',\r\n    EN: 'en'\r\n};\r\n\r\nexport const manageActions = {\r\n    ADD: \"ADD\",\r\n    EDIT: \"EDIT\",\r\n    DELETE: \"DELETE\"\r\n};\r\n\r\nexport const dateFormat = {\r\n    SEND_TO_SERVER: 'DD/MM/YYYY'\r\n};\r\n\r\nexport const YesNoObj = {\r\n    YES: 'Y',\r\n    NO: 'N'\r\n}","class CommonUtils {\r\n    static getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n\r\n    static dataURLtoBlobURL = (dataURL) => {\r\n        const byteString = atob(dataURL.split(',')[1]);\r\n        const mimeString = dataURL.split(',')[0].split(':')[1].split(';')[0];\r\n        const arrayBuffer = new ArrayBuffer(byteString.length);\r\n        const uint8Array = new Uint8Array(arrayBuffer);\r\n\r\n        for (let i = 0; i < byteString.length; i++) {\r\n            uint8Array[i] = byteString.charCodeAt(i);\r\n        }\r\n\r\n        const blob = new Blob([arrayBuffer], { type: mimeString });\r\n        return URL.createObjectURL(blob);\r\n    };\r\n}\r\n\r\nexport default CommonUtils;","class KeyCodeUtils {\r\n\r\n    static UP = 38;\r\n\r\n    static DOWN = 40;\r\n\r\n    static TAB = 9;\r\n\r\n    static ENTER = 13;\r\n\r\n    static E = 69;\r\n\r\n    static ESCAPE = 27; \r\n\r\n    static isNavigation(e) {\r\n        return (e >= 33 && e <= 40) || e === 9 || e === 8 || e === 46 || e === 14 || e === 13;\r\n    }\r\n\r\n    static isNumeric(e) {\r\n        return (e >= 48 && e <= 57) || (e >= 96 && e <= 105);\r\n    }\r\n    static isAlphabetic(e) {\r\n        return (e >= 65 && e <= 90);\r\n    }\r\n    static isDecimal(e) {\r\n        return e === 190 || e === 188 || e === 108 || e === 110;\r\n    }\r\n\r\n    static isDash(e) {\r\n        return e === 109 || e === 189;\r\n    }\r\n}\r\n\r\nexport default KeyCodeUtils;","import messages_vi from '../translations/vi.json';\r\nimport messages_en from '../translations/en.json';\r\n\r\nconst flattenMessages = ((nestedMessages, prefix = '') => {\r\n    if (nestedMessages == null) {\r\n        return {}\r\n    }\r\n    return Object.keys(nestedMessages).reduce((messages, key) => {\r\n        const value = nestedMessages[key];\r\n        const prefixedKey = prefix ? `${prefix}.${key}` : key;\r\n\r\n        if (typeof value === 'string') {\r\n            Object.assign(messages, {[prefixedKey]: value})\r\n        } else {\r\n            Object.assign(messages, flattenMessages(value, prefixedKey))\r\n        }\r\n\r\n        return messages\r\n    }, {})\r\n});\r\n\r\nconst messages = {\r\n    'vi': flattenMessages(messages_vi),\r\n    'en': flattenMessages(messages_en),\r\n};\r\n\r\nexport default class LanguageUtils {\r\n    static getMessageByKey(key, lang) {\r\n        return messages[lang][key]\r\n    }\r\n\r\n    static getFlattenedMessages() {\r\n        return messages;\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './Navigator.scss';\r\n\r\nclass MenuGroup extends Component {\r\n\r\n    render() {\r\n        const { name, children } = this.props;\r\n        return (\r\n            <li className=\"menu-group\">\r\n                <div className=\"menu-group-name\">\r\n                    <FormattedMessage id={name} />\r\n                </div>\r\n                <ul className=\"menu-list list-unstyled\">\r\n                    {children}\r\n                </ul>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nclass Menu extends Component {\r\n\r\n    render() {\r\n        const { name, active, link, children, onClick, hasSubMenu, onLinkClick } = this.props;\r\n        return (\r\n            <li className={\"menu\" + (hasSubMenu ? \" has-sub-menu\" : \"\") + (\"\") + (active ? \" active\" : \"\")}>\r\n                {hasSubMenu ? (\r\n                    <Fragment>\r\n                        <span\r\n                            data-toggle=\"collapse\"\r\n                            className={\"menu-link collapsed\"}\r\n                            onClick={onClick}\r\n                            aria-expanded={\"false\"}\r\n                        >\r\n                            <FormattedMessage id={name} />\r\n                            <div className=\"icon-right\">\r\n                                <i className={\"far fa-angle-right\"} />\r\n                            </div>\r\n                        </span>\r\n                        <div>\r\n                            <ul className=\"sub-menu-list list-unstyled\">\r\n                                {children}\r\n                            </ul>\r\n                        </div>\r\n                    </Fragment>\r\n                ) : (\r\n                        <Link to={link} className=\"menu-link\" onClick={onLinkClick}>\r\n                            <FormattedMessage id={name} />\r\n                        </Link>\r\n                    )}\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nclass SubMenu extends Component {\r\n\r\n    getItemClass = path => {\r\n        return this.props.location.pathname === path ? \"active\" : \"\";\r\n    };\r\n\r\n    render() {\r\n        const { name, link, onLinkClick } = this.props;\r\n        return (\r\n            <li className={\"sub-menu \" + this.getItemClass(link)}>\r\n                <Link to={link} className=\"sub-menu-link\" onClick={onLinkClick}>\r\n                    <FormattedMessage id={name} />\r\n                </Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst MenuGroupWithRouter = withRouter(MenuGroup);\r\nconst MenuWithRouter = withRouter(Menu);\r\nconst SubMenuWithRouter = withRouter(SubMenu);\r\n\r\nconst withRouterInnerRef = (WrappedComponent) => {\r\n\r\n    class InnerComponentWithRef extends React.Component {\r\n        render() {\r\n            const { forwardRef, ...rest } = this.props;\r\n            return <WrappedComponent {...rest} ref={forwardRef} />;\r\n        }\r\n    }\r\n\r\n    const ComponentWithRef = withRouter(InnerComponentWithRef, { withRef: true });\r\n\r\n    return React.forwardRef((props, ref) => {\r\n        return <ComponentWithRef {...props} forwardRef={ref} />;\r\n    });\r\n};\r\n\r\nclass Navigator extends Component {\r\n    state = {\r\n        expandedMenu: {}\r\n    };\r\n\r\n    toggle = (groupIndex, menuIndex) => {\r\n        const expandedMenu = {};\r\n        const needExpand = !(this.state.expandedMenu[groupIndex + '_' + menuIndex] === true);\r\n        if (needExpand) {\r\n            expandedMenu[groupIndex + '_' + menuIndex] = true;\r\n        }\r\n\r\n        this.setState({\r\n            expandedMenu: expandedMenu\r\n        });\r\n    };\r\n\r\n    isMenuHasSubMenuActive = (location, subMenus, link) => {\r\n        if (subMenus) {\r\n            if (subMenus.length === 0) {\r\n                return false;\r\n            }\r\n\r\n            const currentPath = location.pathname;\r\n            for (let i = 0; i < subMenus.length; i++) {\r\n                const subMenu = subMenus[i];\r\n                if (subMenu.link === currentPath) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (link) {\r\n            return this.props.location.pathname === link;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    checkActiveMenu = () => {\r\n        const { menus, location } = this.props;\r\n        outerLoop:\r\n        for (let i = 0; i < menus.length; i++) {\r\n            const group = menus[i];\r\n            if (group.menus && group.menus.length > 0) {\r\n                for (let j = 0; j < group.menus.length; j++) {\r\n                    const menu = group.menus[j];\r\n                    if (menu.subMenus && menu.subMenus.length > 0) {\r\n                        if (this.isMenuHasSubMenuActive(location, menu.subMenus, null)) {\r\n                            const key = i + '_' + j;\r\n                            this.setState({\r\n                                expandedMenu: {\r\n                                    [key]: true\r\n                                }\r\n                            });\r\n                            break outerLoop;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.checkActiveMenu();\r\n    };\r\n\r\n    // componentWillReceiveProps(nextProps, prevState) {\r\n    //     const { location, setAccountMenuPath, setSettingMenuPath } = this.props;\r\n    //     const { location: nextLocation } = nextProps;\r\n    //     if (location !== nextLocation) {\r\n    //         let pathname = nextLocation && nextLocation.pathname;\r\n    //         if ((pathname.startsWith('/account/') || pathname.startsWith('/fds/account/'))) {\r\n    //             setAccountMenuPath(pathname);\r\n    //         }\r\n    //         if (pathname.startsWith('/settings/')) {\r\n    //             setSettingMenuPath(pathname);\r\n    //         };\r\n    //     };\r\n    // };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { location } = this.props;\r\n        const { location: prevLocation } = prevProps;\r\n        if (location !== prevLocation) {\r\n            this.checkActiveMenu();\r\n        };\r\n    };\r\n\r\n    render() {\r\n        const { menus, location, onLinkClick } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <ul className=\"navigator-menu list-unstyled\">\r\n                    {\r\n                        menus.map((group, groupIndex) => {\r\n                            return (\r\n                                <Fragment key={groupIndex}>\r\n                                    <MenuGroupWithRouter name={group.name}>\r\n                                        {group.menus ? (\r\n                                            group.menus.map((menu, menuIndex) => {\r\n                                                const isMenuHasSubMenuActive = this.isMenuHasSubMenuActive(location, menu.subMenus, menu.link);\r\n                                                const isSubMenuOpen = this.state.expandedMenu[groupIndex + '_' + menuIndex] === true;\r\n                                                return (\r\n                                                    <MenuWithRouter\r\n                                                        key={menuIndex}\r\n                                                        active={isMenuHasSubMenuActive}\r\n                                                        name={menu.name}\r\n                                                        link={menu.link}\r\n                                                        hasSubMenu={menu.subMenus}\r\n                                                        isOpen={isSubMenuOpen}\r\n                                                        onClick={() => this.toggle(groupIndex, menuIndex)}\r\n                                                        onLinkClick={onLinkClick}\r\n                                                    >\r\n                                                        {menu.subMenus && menu.subMenus.map((subMenu, subMenuIndex) => (\r\n                                                            <SubMenuWithRouter\r\n                                                                key={subMenuIndex}\r\n                                                                name={subMenu.name}\r\n                                                                link={subMenu.link}\r\n                                                                onClick={this.closeOtherExpand}\r\n                                                                onLinkClick={onLinkClick}\r\n                                                            />\r\n                                                        ))}\r\n                                                    </MenuWithRouter>\r\n                                                );\r\n                                            })\r\n                                        ) : null}\r\n                                    </MenuGroupWithRouter>\r\n                                </Fragment>\r\n                            );\r\n                        })\r\n                    }\r\n                </ul>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport default withRouterInnerRef(connect(mapStateToProps, mapDispatchToProps)(Navigator));\r\n","// export const adminMenu = [\r\n//     { //hệ thống\r\n//         name: 'menu.system.header', menus: [\r\n//             {\r\n//                 name: 'menu.system.system-administrator.header',\r\n//                 subMenus: [\r\n//                     { name: 'menu.system.system-administrator.user-manage', link: '/system/user-manage' },\r\n//                     { name: 'menu.system.system-administrator.product-manage', link: '/system/product-manage' },\r\n//                     { name: 'menu.system.system-administrator.register-package-group-or-account', link: '/system/register-package-group-or-account' },\r\n//                 ]\r\n//             },\r\n//             // { name: 'menu.system.system-parameter.header', link: '/system/system-parameter' },\r\n//         ]\r\n//     },\r\n// ];\r\n\r\nexport const menuAdmin = [\r\n    {\r\n        name: 'menu.system.user-manage',\r\n        menus: [\r\n            {\r\n\r\n                name: 'menu.system.user-manage', link: '/system/user-manage'\r\n\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: 'menu.system.product-manage',\r\n        menus: [\r\n            { name: 'menu.system.system-administrator.book-manage', link: '/system/book-manage' },\r\n            { name: 'menu.system.system-administrator.detail-book-manage', link: '/system/detail-book-manage' },\r\n            { name: 'menu.system.system-administrator.nhacungcap-manage', link: '/system/nhacungcap-manage' },\r\n            { name: 'menu.system.system-administrator.nhaxuatban-manage', link: '/system/nhaxuatban-manage' },\r\n            { name: 'menu.system.system-administrator.theloai-manage', link: '/system/theloai-manage' },\r\n            { name: 'menu.system.system-administrator.discount-manage', link: '/system/discount-manage' },\r\n\r\n\r\n\r\n        ]\r\n    },\r\n    {\r\n        name: 'menu.system.bill-manage',\r\n        menus: [\r\n            { name: 'menu.system.system-administrator.bill-manage', link: '/system/bill-manage' }\r\n        ]\r\n    },\r\n    {\r\n        name: 'menu.system.statistical', link: '/system/statistical-manage'\r\n\r\n    }\r\n];\r\n\r\nexport const menustaff = [\r\n    {\r\n        name: 'menu.system.product-manage',\r\n        menus: [\r\n            { name: 'menu.system.system-administrator.book-manage', link: '/system/book-manage' },\r\n            { name: 'menu.system.system-administrator.detail-book-manage', link: '/system/detail-book-manage' },\r\n            { name: 'menu.system.system-administrator.nhacungcap-manage', link: '/system/nhacungcap-manage' },\r\n            { name: 'menu.system.system-administrator.nhaxuatban-manage', link: '/system/nhaxuatban-manage' },\r\n            { name: 'menu.system.system-administrator.theloai-manage', link: '/system/theloai-manage' },\r\n            { name: 'menu.system.system-administrator.discount-manage', link: '/system/discount-manage' },\r\n\r\n\r\n\r\n        ]\r\n    },\r\n    {\r\n        name: 'menu.system.bill-manage',\r\n        menus: [\r\n            { name: 'menu.system.system-administrator.bill-manage', link: '/system/bill-manage' }\r\n        ]\r\n    },\r\n];","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from \"../../store/actions\";\r\nimport Navigator from '../../components/Navigator';\r\nimport { menustaff, menuAdmin } from './menuApp';\r\nimport './Header.scss';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Link,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport { withRouter } from 'react-router';\r\n\r\nclass Header extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            menuApp: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { userInfo } = this.props;\r\n        if (userInfo.data.roleId === 'R1') {\r\n            this.setState({\r\n                menuApp: menustaff\r\n            })\r\n        } else if (userInfo.data.roleId === 'R3') {\r\n            this.setState({\r\n                menuApp: menuAdmin\r\n            })\r\n        } else {\r\n            this.setState({\r\n                menuApp: []\r\n            })\r\n        }\r\n    }\r\n\r\n    handleBackHome = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/home')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { processLogout } = this.props;\r\n        let { menuApp } = this.state;\r\n\r\n        return (\r\n\r\n            //     {/* thanh navigator */}\r\n            <div className=\"header-container\">\r\n                <div className=\"header-tabs-container\">\r\n                    <Navigator menus={menuApp} />\r\n                </div>\r\n                {/* nút logout */}\r\n                <div className='btn-logout' onClick={() => this.handleBackHome()}>\r\n                    <i className=\"fas fa-sign-out-alt\"></i>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInfo: state.user.userInfo,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        processLogout: () => dispatch(actions.processLogout()),\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\r\n","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initContentOfConfirmModal = {\r\n    isOpen: false,\r\n    messageId: \"\",\r\n    handleFunc: null,\r\n    dataFunc: null\r\n}\r\n\r\nconst initialState = {\r\n    started: true,\r\n    language: 'vi',\r\n    systemMenuPath: '/system/user-manage',\r\n    contentOfConfirmModal: {\r\n        ...initContentOfConfirmModal\r\n    }\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.APP_START_UP_COMPLETE:\r\n            return {\r\n                ...state,\r\n                started: true\r\n            }\r\n        case actionTypes.SET_CONTENT_OF_CONFIRM_MODAL:\r\n            return {\r\n                ...state,\r\n                contentOfConfirmModal: {\r\n                    ...state.contentOfConfirmModal,\r\n                    ...action.contentOfConfirmModal\r\n                }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    userInfo: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case actionTypes.USER_LOGIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: true,\r\n                userInfo: action.userInfo,\r\n            }\r\n        case actionTypes.USER_LOGIN_FAIL:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                userInfo: null\r\n            }\r\n        case actionTypes.PROCESS_LOGOUT:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                userInfo: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    bookInfo: {},\r\n    copybook: [],\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.FETCH_ALL_BOOK_SUCCESS:\r\n            // localStorage.setItem('copybook', JSON.stringify(updatedCopybook));\r\n            return {\r\n                ...state,\r\n                bookInfo: action.bookInfo\r\n            }\r\n        case actionTypes.FETCH_ALL_BOOK_FAIL:\r\n            state.bookInfo = action.bookInfo\r\n            return {\r\n                ...state,\r\n            }\r\n        case actionTypes.UPDATE_COPY_BOOK:\r\n            return {\r\n                ...state,\r\n                copybook: [...action.copybook]\r\n            }\r\n        case actionTypes.CLEARN_ALL_COPY_BOOK:\r\n            return {\r\n                ...state,\r\n                copybook: []\r\n            }\r\n        case actionTypes.ADD_NEW_ITEM_BOOK:\r\n            return {\r\n                ...state,\r\n                bookInfo: {\r\n                    ...state.bookInfo,\r\n                    [action.key]: action.value\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default appReducer;","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport appReducer from \"./appReducer\";\r\nimport adminReducer from \"./adminReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport bookReducer from \"./bookReducer\";\r\n\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { persistReducer } from 'redux-persist';\r\n\r\nconst persistCommonConfig = {\r\n    storage: storage,\r\n    stateReconciler: autoMergeLevel2,\r\n};\r\n\r\nconst userPersistConfig = {\r\n    ...persistCommonConfig,\r\n    key: 'user',\r\n    whitelist: ['isLoggedIn', 'userInfo']\r\n};\r\n\r\nconst bookPersistConfig = {\r\n    ...persistCommonConfig,\r\n    key: 'book',\r\n    whitelist: ['copybook', 'bookInfo']\r\n};\r\n\r\n\r\nexport default (history) => combineReducers({\r\n    router: connectRouter(history),\r\n    user: persistReducer(userPersistConfig, userReducer),\r\n    book: persistReducer(bookPersistConfig, bookReducer),\r\n    app: appReducer\r\n})","import { logger } from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createStateSyncMiddleware } from 'redux-state-sync';\r\nimport { persistStore } from 'redux-persist';\r\n\r\nimport createRootReducer from './store/reducers/rootReducer';\r\nimport actionTypes from './store/actions/actionTypes';\r\n\r\nconst environment = process.env.NODE_ENV || \"development\";\r\nlet isDevelopment = environment === \"development\";\r\n\r\n//hide redux logs\r\nisDevelopment = false;\r\n\r\n\r\nexport const history = createBrowserHistory({ basename: process.env.REACT_APP_ROUTER_BASE_NAME });\r\n\r\nconst reduxStateSyncConfig = {\r\n    whitelist: [\r\n        actionTypes.APP_START_UP_COMPLETE,\r\n    ]\r\n}\r\n\r\nconst rootReducer = createRootReducer(history);\r\nconst middleware = [\r\n    routerMiddleware(history),\r\n    thunkMiddleware,\r\n    createStateSyncMiddleware(reduxStateSyncConfig),\r\n]\r\nif (isDevelopment) middleware.push(logger);\r\n\r\nconst composeEnhancers = (isDevelopment && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\r\n\r\nconst reduxStore = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(...middleware)),\r\n)\r\n\r\nexport const dispatch = reduxStore.dispatch;\r\n\r\nexport const persistor = persistStore(reduxStore);\r\n\r\nexport default reduxStore;","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\n\r\nexport const userIsAuthenticated = connectedRouterRedirect({\r\n    authenticatedSelector: state => state.user.isLoggedIn,\r\n    wrapperDisplayName: 'UserIsAuthenticated',\r\n    redirectPath: '/login'\r\n});\r\n\r\nexport const userIsNotAuthenticated = connectedRouterRedirect({\r\n    // Want to redirect the user when they are authenticated\r\n    authenticatedSelector: state => !state.user.isLoggedIn,\r\n    wrapperDisplayName: 'UserIsNotAuthenticated',\r\n    redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/',\r\n    allowRedirectBack: false\r\n});","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Home extends Component {\r\n\r\n    render() {\r\n        const { isLoggedIn } = this.props;\r\n        let linkToRedirect = isLoggedIn ? '/home' : '/home';\r\n\r\n        return (\r\n            <Redirect to={linkToRedirect} />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.user.isLoggedIn\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport './Login.scss';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport { handleLogin, handletest, handleNewUser } from '../../services/userService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLogin: true,\r\n            email: 'cuong@gmail.com',\r\n            password: '1234567',\r\n            name: '',\r\n            errMessager: '',\r\n            cName: '',\r\n            cEmail: '',\r\n            cPassword: '',\r\n            cPasswordxn: '',\r\n            isShowPass: false,\r\n            isShowPassSingup: false,\r\n            isShowPassSingupcomfimg: false,\r\n            isShowLogin: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    handleChangeLogin = () => {\r\n        this.setState({\r\n            isLogin: !this.state.isLogin\r\n        })\r\n    }\r\n\r\n    hanleOnClickSingin = async () => {\r\n        try {\r\n            let { errMessager } = this.state;\r\n            let data = await handleLogin(this.state.email, this.state.password);\r\n            if (data) {\r\n                alert(data.errMessanger)\r\n                if (data.errCode === 0) {\r\n                    this.props.userLoginSuccess(data)\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n\r\n    }\r\n\r\n    handleShowPassword = (id) => {\r\n        if (id === 'password') {\r\n            this.setState((prevState) => ({\r\n                isShowPass: !prevState.isShowPass\r\n            }));\r\n        } else if (id === 'cPassword') {\r\n            this.setState((prevState) => ({\r\n                isShowPassSingup: !prevState.isShowPassSingup\r\n            }));\r\n        } else if (id === 'cPasswordxn') {\r\n            this.setState((prevState) => ({\r\n                isShowPassSingupcomfimg: !prevState.isShowPassSingupcomfimg\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleCheckInput = () => {\r\n        let isvalude = true;\r\n        let arr = ['cName', 'cEmail', 'cPassword', 'cPasswordxn'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                isvalude = false;\r\n                alert(`missing parameter:`);\r\n                break;\r\n            }\r\n        }\r\n        return isvalude;\r\n    }\r\n\r\n    handleOnsingup = async () => {\r\n        let { cName, cEmail, cPassword } = this.state;\r\n        let isValid = this.handleCheckInput();\r\n        if (isValid === true) {\r\n            if (this.state.cPasswordxn === this.state.cPassword) {\r\n                let data = await handleNewUser({\r\n                    name: cName,\r\n                    email: cEmail,\r\n                    password: cPassword\r\n                });\r\n                if (data && data.errCode === 0) {\r\n                    toast.success('🦄 Create new user success!', {\r\n                        position: \"top-right\",\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                        theme: \"light\",\r\n                    });\r\n\r\n                    this.setState({\r\n                        cEmail: '',\r\n                        cName: '',\r\n                        cPassword: '',\r\n                        cPasswordxn: ''\r\n                    })\r\n                } else {\r\n                    alert(data.errMessanger)\r\n\r\n                }\r\n\r\n\r\n            }\r\n            else {\r\n                alert('Password xác nhận chưa đúng')\r\n            }\r\n        }\r\n    }\r\n\r\n    handleShowlogin = () => {\r\n        this.setState({\r\n            isShowLogin: !this.state.isShowLogin\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { isLogin, errMessager, isShowPass, isShowLogin, isShowPassSingup, isShowPassSingupcomfimg } = this.state;\r\n        return (\r\n            <div className='login-wrapper'>\r\n                <div className='login-container'>\r\n                    <div className='login-title'>\r\n\r\n                    </div>\r\n                    <div className='login-form'>\r\n                        <div className='login-form-left'>\r\n                            {isShowLogin === false ?\r\n                                <div className='login-form-DN'>\r\n                                    <div className='login-form-DN-title'>\r\n                                        <h4>Đăng nhập</h4>\r\n                                    </div>\r\n                                    <div className='login-form-input row'>\r\n                                        <div className='col-12'>\r\n                                            <label>Email</label>\r\n                                            <input type='email' className='form-control'\r\n                                                value={this.state.email}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'email')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <label>Password</label>\r\n                                            <div className='input-password'>\r\n                                                <input type={isShowPass === false ? 'password' : 'text'} className='form-control'\r\n                                                    value={this.state.password}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'password')}\r\n                                                />\r\n                                                <i className={isShowPass === false ? \"fas fa-eye-slash\" : \"fas fa-eye\"}\r\n                                                    onClick={() => this.handleShowPassword('password')}\r\n                                                ></i>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className='col-12'>\r\n                                            <button className='btn-dangNhap'\r\n                                                onClick={() => this.hanleOnClickSingin()}\r\n                                            >Đăng nhập</button>\r\n                                        </div>\r\n                                        <div className='text-dangky col-12'\r\n                                        >\r\n                                            <span\r\n                                                onClick={() => this.handleShowlogin()}\r\n                                            >Tạo tài khoản?</span>\r\n                                        </div>\r\n                                        <div className='text-login-orther col-12'>\r\n                                            <p>\r\n                                                <span>Hoặc tiếp tục bằng</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className='orther-login col-12'>\r\n                                            <div className='logo-login-fab'></div>\r\n                                            <div className='logo-login-goo'></div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                <div className='login-form-DK'>\r\n                                    <div className='login-form-DN-title'>\r\n                                        <h4>Đăng ký</h4>\r\n                                    </div>\r\n                                    <div className='login-form-input row'>\r\n                                        <div className='col-12'>\r\n                                            <label>Họ và tên</label>\r\n                                            <input type='email' className='form-control'\r\n                                                value={this.state.cName}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'cName')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <label>Email</label>\r\n                                            <input type='email' className='form-control'\r\n                                                value={this.state.cEmail}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'cEmail')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <label>Password</label>\r\n                                            <div className='input-password'>\r\n                                                <input type={isShowPassSingup === false ? 'password' : 'text'} className='form-control'\r\n                                                    value={this.state.cPassword}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'cPassword')}\r\n                                                />\r\n                                                <i className={isShowPassSingup === false ? \"fas fa-eye-slash\" : \"fas fa-eye\"}\r\n                                                    onClick={() => this.handleShowPassword('cPassword')}\r\n                                                ></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <label>Xác nhận Password</label>\r\n                                            <div className='input-password'>\r\n                                                <input type={isShowPassSingupcomfimg === false ? 'password' : 'text'} className='form-control'\r\n                                                    value={this.state.cPasswordxn}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'cPasswordxn')}\r\n                                                />\r\n                                                <i className={isShowPassSingupcomfimg === false ? \"fas fa-eye-slash\" : \"fas fa-eye\"}\r\n                                                    onClick={() => this.handleShowPassword('cPasswordxn')}\r\n                                                ></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <button className='btn-dangNhap'\r\n                                                onClick={() => this.handleOnsingup()}\r\n                                            >Đăng Ký</button>\r\n                                        </div>\r\n                                        <div className='col-12'>\r\n                                            <button className='btn-Backlogin'\r\n                                                onClick={() => this.handleShowlogin()}\r\n                                            >Trở lại Đăng Nhập</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n\r\n                        </div>\r\n                        <div className='login-form-right'>\r\n                            <div className='login-form-logo'></div>\r\n                            <div className='login-form-text-right'>\r\n                                <h4>Mua sắm tại Tiki</h4>\r\n                                <span>Siêu ưu đãi mỗi ngày</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInfo: state.user.userInfo,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        // navigate: (path) => dispatch(push(path)),\r\n        // adminLoginSuccess: (adminInfo) => dispatch(actions.adminLoginSuccess(adminInfo)),\r\n        // adminLoginFail: () => dispatch(actions.adminLoginFail()),\r\n\r\n        userLoginSuccess: (userInfo) => dispatch(actions.userLoginSuccess(userInfo))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nclass ProductManage extends Component {\r\n\r\n    state = {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"text-center\" >Manage products</div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductManage);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nclass RegisterPackageGroupOrAcc extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"text-center\">\r\n                register package group or account\r\n            </div>)\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPackageGroupOrAcc);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nclass ManageProduct extends Component {\r\n\r\n    state = {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>Manage products</div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageProduct);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './TableBookManage.scss'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\n\r\n\r\nclass TableBookManage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            editbook: {}\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.arrBook !== this.props.arrBook) {\r\n            this.setState({\r\n                arrBook: this.props.arrBook\r\n            })\r\n        }\r\n    }\r\n\r\n    handleDeleteBook = async (item) => {\r\n        await this.props.handleDelete(item);\r\n    }\r\n\r\n    handleEditBook = async (item) => {\r\n        await this.props.onChangeData(item)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        let { arrBook } = this.state;\r\n        let { changeUpdate, handleExitUpdate } = this.props;\r\n        return (\r\n            <div className='table-container'>\r\n                <table id=\"customers\">\r\n                    <tr>\r\n                        <th className='sticky-column'>Mã sách</th>\r\n                        <th className='sticky-column'>Tên sách</th>\r\n                        <th className='sticky-column'>Tác giả</th>\r\n                        <th className='sticky-column'>Nhà xuất bản</th>\r\n                        <th className='sticky-column'>Nhà cung cấp</th>\r\n                        <th className='sticky-column'>Thể loại</th>\r\n                        <th className='sticky-column'>Giá tiền</th>\r\n                        <th className='sticky-column'>Số lượng</th>\r\n                        <th className='sticky-column'>ảnh</th>\r\n                        <th className='sticky-column'>Option</th>\r\n                    </tr>\r\n                    {arrBook && arrBook.length > 0\r\n                        && arrBook.map((item, index) => {\r\n\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{item.keyMap}</td>\r\n                                    <td>{item.tenSach}</td>\r\n                                    <td>{item.tacGia}</td>\r\n                                    <td>{item.nhaxuatbanData ? item.nhaxuatbanData.tenNXB : ''}</td>\r\n                                    <td>{item.nhacungcapData ? item.nhacungcapData.tenNCC : ''}</td>\r\n                                    <td>{item.theloaiData ? item.theloaiData.theLoai : ''}</td>\r\n                                    <td>{item.gia}</td>\r\n                                    <td>{item.soLuong}</td>\r\n                                    <td className='image-book-manage'\r\n                                        style={{ backgroundImage: `url(${item.image})` }}\r\n                                    ></td>\r\n                                    <td>\r\n                                        {changeUpdate === false\r\n                                            ?\r\n                                            <button className='btn-delete-book'\r\n                                                onClick={() => this.handleDeleteBook(item)}\r\n                                            >\r\n                                                <i className=\"fas fa-trash-alt\"></i>\r\n                                            </button>\r\n                                            :\r\n                                            <button className='btn-exitupdate-book'\r\n                                                onClick={handleExitUpdate}\r\n                                            >\r\n                                                <i className=\"far fa-times-circle\"></i>\r\n                                            </button>\r\n                                        }\r\n\r\n                                        <button className='btn-edit-book'\r\n                                            onClick={() => this.handleEditBook(item)}\r\n                                        >\r\n                                            <i className=\"fas fa-pencil-alt\"\r\n\r\n                                            ></i>\r\n\r\n                                        </button>\r\n                                    </td>\r\n\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TableBookManage);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalNXB.scss'\r\nimport { handlecountAllNXB } from '../../../../services/bookService'\r\n\r\n\r\nclass ModalNXB extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            maNXB: '',\r\n            tenNXB: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let maNXB = '';\r\n            let count = await handlecountAllNXB();\r\n            if (count && count.errCode === 0) {\r\n                maNXB = `NXB${count.data + 1}`\r\n            }\r\n            this.props.handleCreateNewNXB({\r\n                keyMap: maNXB,\r\n                tenNXB: this.state.tenNXB\r\n            });\r\n            this.setState({\r\n                maNXB: '',\r\n                tenNXB: ''\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenNXB'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowNXB} onHide={this.props.handleShowNXB} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Tạo nhà xuất bản</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Tên nhà xuất bản</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'tenNXB')}\r\n                                    value={this.state.tenNXB}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowNXB}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalNXB);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalNCC.scss'\r\nimport { handlecountAllNCC } from '../../../../services/bookService'\r\n\r\n\r\nclass ModalNCC extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            maNCC: '',\r\n            tenNCC: ''\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let maNCC = '';\r\n            let count = await handlecountAllNCC();\r\n            if (count && count.errCode === 0) {\r\n                maNCC = `NCC${count.data + 1}`\r\n            }\r\n            this.props.handleCreateNewNCC({\r\n                keyMap: maNCC,\r\n                tenNCC: this.state.tenNCC\r\n            });\r\n            this.setState({\r\n                maNCC: '',\r\n                tenNCC: ''\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenNCC'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowNCC} onHide={this.props.handleShowNCC} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Tạo nhà cung cấp</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Tên nhà cung cấp</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'tenNCC')}\r\n                                    value={this.state.tenNCC}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowNCC}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalNCC);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalTL.scss'\r\nimport { handlecountAllTL } from '../../../../services/bookService'\r\n\r\n\r\nclass ModalTL extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            maTL: '',\r\n            tenTL: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let TL = '';\r\n            let count = await handlecountAllTL();\r\n            if (count && count.errCode === 0) {\r\n                TL = `TL${count.data + 1}`\r\n            }\r\n            this.props.handleCreateNewTL({\r\n                keyMap: TL,\r\n                theLoai: this.state.tenTL\r\n            });\r\n            this.setState({\r\n                maTL: '',\r\n                tenTL: ''\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenTL'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowTL} onHide={this.props.handleShowTL} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Tạo thể loại</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Tên thể loại</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'tenTL')}\r\n                                    value={this.state.tenTL}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowTL}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalTL);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookManager.scss';\r\nimport Header from '../../Header/Header';\r\nimport TableBookManage from './TableBookManage';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport ModalNXB from './Modal/ModalNXB';\r\nimport ModalNCC from './Modal/ModalNCC';\r\nimport ModalTL from './Modal/ModalTL';\r\nimport {\r\n    handleCreateNewNXB, handleCreateNewTL, handleCreateNewNCC,\r\n    handlegetAllNCC, handlegetAllNXB, handlegetAllTL,\r\n    handleCreateNewBook, handlegetAllBook, handleDeleteBook, handleUpdateBook,\r\n    uploadfile, handlegetAllBookbySP, handlegetAllNXBbySP, handlegetAllTLbySP,\r\n    handlegetAllNCCbySP, handlecountAllBook\r\n} from '../../../services/bookService';\r\n\r\nimport { handleGetallCodeByType } from '../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\n\r\n\r\n\r\nclass BookManager extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isShowNXB: false,\r\n            isShowNCC: false,\r\n            isShowTL: false,\r\n            changeUpdate: false,\r\n\r\n            arrNCC: [],\r\n            arrNXB: [],\r\n            arrTL: [],\r\n            arrBook: [],\r\n            preview: [],\r\n            NCC: '',\r\n            NXB: '',\r\n            TL: '',\r\n            tenSach: '',\r\n            gia: '',\r\n            tacGia: '',\r\n            soLuong: '',\r\n            image: '',\r\n            keyMap: '',\r\n            editbook: {},\r\n\r\n            selectedFile: null,\r\n            file: {},\r\n\r\n            arrSanPham: [],\r\n            sanpham: '',\r\n            isShowLoading: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleGetallCodeByType();\r\n        await this.handlegetAllNXBbySP()\r\n        await this.handlegetAllNCCbySP();\r\n        await this.handlegetAllTLbySP();\r\n        await this.handlegetAllBookbySP();\r\n\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.arrNCC !== this.state.arrNCC) {\r\n\r\n        }\r\n        if (prevState.arrNXB !== this.state.arrNXB) {\r\n\r\n        }\r\n\r\n        if (prevState.arrTL !== this.state.arrTL) {\r\n\r\n        }\r\n\r\n        if (prevState.sanpham !== this.state.sanpham) {\r\n            await this.handlegetAllBookbySP();\r\n            await this.handlegetAllNXBbySP();\r\n            await this.handlegetAllTLbySP();\r\n            await this.handlegetAllNCCbySP();\r\n\r\n        }\r\n    }\r\n\r\n\r\n    handleGetAllNCC = async () => {\r\n        let res = await handlegetAllNCC('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleGetAllTL = async () => {\r\n        let res = await handlegetAllTL('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrTL: res.data\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handlegetAllNXB = async () => {\r\n        let res = await handlegetAllNXB('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNXB: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleGetallCodeByType = async () => {\r\n        let arrSanPham = await handleGetallCodeByType('sanPham');\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrSanPham: arrSanPham.data,\r\n                sanpham: arrSanPham && arrSanPham.data.length > 0 ? arrSanPham.data[0].keyMap : ''\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllNXBbySP = async () => {\r\n        let arrSanPham = await handlegetAllNXBbySP(this.state.sanpham);\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrNXB: arrSanPham.data,\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllNCCbySP = async () => {\r\n        let arrSanPham = await handlegetAllNCCbySP(this.state.sanpham);\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: arrSanPham.data,\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllTLbySP = async () => {\r\n        let arrSanPham = await handlegetAllTLbySP(this.state.sanpham);\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrTL: arrSanPham.data,\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllBookbySP = async () => {\r\n        let arrbook = await handlegetAllBookbySP(this.state.sanpham);\r\n        if (arrbook && arrbook.errCode === 0) {\r\n            this.setState({\r\n                arrBook: arrbook.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleCreateNewNCC = async (data) => {\r\n        let res = await handleCreateNewNCC(data);\r\n        if (res && res.errCode === 0) {\r\n            toast.success('create new NCC is success!');\r\n            await this.handleGetAllNCC()\r\n            this.setState({\r\n                isShowNCC: false\r\n            })\r\n        }\r\n        else {\r\n            toast.error('create new NCC is error!')\r\n        }\r\n    }\r\n\r\n    handleCreateNewNXB = async (data) => {\r\n        let res = await handleCreateNewNXB(data);\r\n        if (res && res.errCode === 0) {\r\n            toast.success('create new NXB is success!');\r\n            await this.handlegetAllNXB()\r\n            this.setState({\r\n                isShowNXB: false\r\n            })\r\n        }\r\n        else {\r\n            toast.error('create new NXB is error!')\r\n        }\r\n    }\r\n\r\n    handleCreateNewTL = async (data) => {\r\n        let res = await handleCreateNewTL(data);\r\n        if (res && res.errCode === 0) {\r\n            toast.success('create new TL is success!');\r\n            await this.handleGetAllTL()\r\n            this.setState({\r\n                isShowTL: false\r\n            })\r\n        }\r\n        else {\r\n            toast.error('create new TL is error!')\r\n        }\r\n    }\r\n\r\n\r\n    handleOnChangefile = async (event) => {\r\n        let file = event.target.files[0];\r\n        let ObjectURL = URL.createObjectURL(file);\r\n        this.setState({\r\n            file: file,\r\n            preview: ObjectURL\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n    handleShowNXB = () => {\r\n        this.setState({\r\n            isShowNXB: !this.state.isShowNXB\r\n        })\r\n    }\r\n\r\n    handleShowNCC = () => {\r\n        this.setState({\r\n            isShowNCC: !this.state.isShowNCC\r\n        })\r\n    }\r\n\r\n    handleShowTL = () => {\r\n        this.setState({\r\n            isShowTL: !this.state.isShowTL\r\n        })\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['NCC', 'NXB', 'TL', 'tenSach', 'gia', 'tacGia', 'soLuong'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                check = false;\r\n                alert(`Missing input:${arr[i]}`);\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n\r\n    }\r\n\r\n    handleOnClickSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        let { arrBook } = this.state;\r\n        if (check === true) {\r\n            let keyMap = '';\r\n            let count = arrBook.map(item => parseInt(item.keyMap.match(/\\d+$/)[0]));\r\n            let max = Math.max(...count);\r\n\r\n            if (max) {\r\n                keyMap = `MS${max + 1}`\r\n            }\r\n            const formData = new FormData();\r\n            formData.append(\"image\", this.state.file)\r\n            formData.append(\"keyMap\", keyMap)\r\n            formData.append(\"NCC\", this.state.NCC)\r\n            formData.append(\"NXB\", this.state.NXB)\r\n            formData.append(\"TL\", this.state.TL)\r\n            formData.append(\"tenSach\", this.state.tenSach)\r\n            formData.append(\"tacGia\", this.state.tacGia)\r\n            formData.append(\"gia\", this.state.gia)\r\n            formData.append(\"sanPham\", this.state.sanpham)\r\n            formData.append(\"soLuong\", this.state.soLuong)\r\n            this.setState({\r\n                isShowLoading: true\r\n            })\r\n            let link = await uploadfile(formData)\r\n\r\n            let bookcreate = await handleCreateNewBook(formData)\r\n\r\n\r\n            if (bookcreate && bookcreate.errCode === 0) {\r\n                toast.success('create new a book success!')\r\n                await this.handlegetAllBookbySP()\r\n                this.setState({\r\n                    preview: [],\r\n                    NCC: this.state.arrNCC[0].keyMap,\r\n                    NXB: this.state.arrNXB[0].keyMap,\r\n                    TL: this.state.arrTL[0].keyMap,\r\n                    tenSach: '',\r\n                    gia: '',\r\n                    tacGia: '',\r\n                    soLuong: '',\r\n                    image: '',\r\n                    keyMap: '',\r\n                    isShowLoading: false\r\n\r\n                })\r\n            } else {\r\n                alert(bookcreate.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleDelete = async (data) => {\r\n        if (!data) {\r\n            toast.error('delete book not success!')\r\n        } else {\r\n            let res = await handleDeleteBook(data.keyMap)\r\n            if (res && res.errCode === 0) {\r\n                toast.success('delete book is success!');\r\n                await this.handlegetAllBookbySP()\r\n            } else {\r\n                toast.error('delete book not success!')\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChangeData = (data) => {\r\n        if (data) {\r\n            this.setState({\r\n                image: data.image,\r\n                preview: data.image,\r\n                NCC: data.nhaCungCap,\r\n                NXB: data.nhaXuatBan,\r\n                TL: data.theLoai,\r\n                tenSach: data.tenSach,\r\n                gia: data.gia,\r\n                tacGia: data.tacGia,\r\n                soLuong: data.soLuong,\r\n                keyMap: data.keyMap,\r\n                changeUpdate: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleEditBooks = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            const formData = new FormData();\r\n            formData.append(\"image\", this.state.image)\r\n            formData.append('file', this.state.file)\r\n            formData.append(\"keyMap\", this.state.keyMap)\r\n            formData.append(\"NCC\", this.state.NCC)\r\n            formData.append(\"NXB\", this.state.NXB)\r\n            formData.append(\"TL\", this.state.TL)\r\n            formData.append(\"tenSach\", this.state.tenSach)\r\n            formData.append(\"tacGia\", this.state.tacGia)\r\n            formData.append(\"gia\", this.state.gia)\r\n            formData.append(\"sanPham\", this.state.sanpham)\r\n            formData.append(\"soLuong\", this.state.soLuong)\r\n            let updatebook = await handleUpdateBook(formData)\r\n\r\n            if (updatebook && updatebook.errCode === 0) {\r\n                toast.success('update book is success!')\r\n                await this.handlegetAllBookbySP()\r\n                this.setState({\r\n                    preview: [],\r\n                    NCC: this.state.arrNCC[0].keyMap,\r\n                    NXB: this.state.arrNXB[0].keyMap,\r\n                    TL: this.state.arrTL[0].keyMap,\r\n                    tenSach: '',\r\n                    gia: '',\r\n                    tacGia: '',\r\n                    soLuong: '',\r\n                    keyMap: '',\r\n                    changeUpdate: false\r\n                })\r\n            } else {\r\n                alert(updatebook.errMessage)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleExitUpdate = () => {\r\n        this.setState({\r\n            changeUpdate: false\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrNCC, arrNXB, arrTL, changeUpdate, arrSanPham } = this.state;\r\n        return (\r\n            <LoadingOverlay\r\n                active={this.state.isShowLoading}\r\n                spinner\r\n                text='Loading your content...'\r\n            >\r\n                <Scrollbars className='scrollbars'>\r\n                    <div className='book-container'>\r\n\r\n                        <div className='book-manager-header'>\r\n                            <Header />\r\n                        </div>\r\n                        <div className='book-content'>\r\n                            <div className='book-content-title'>\r\n                                Quản lý sách\r\n                            </div>\r\n                            <div className='select-sanPham col-2'>\r\n                                <label>Danh mục sản phẩm</label>\r\n                                <select className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'sanpham')}\r\n                                    value={this.state.sanpham}\r\n                                >\r\n                                    {arrSanPham && arrSanPham.length > 0\r\n                                        && arrSanPham.map((item, index) => {\r\n                                            return (\r\n                                                <option key={index} value={item.keyMap}>{item.value}</option>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className='info-manage-book'>\r\n                                <div className='image-book' style={{ backgroundImage: `url(${this.state.preview})` }}>\r\n                                    <input type='file' hidden id='previewImg' onChange={(event) => this.handleOnChangefile(event)}\r\n                                    />\r\n                                    <label htmlFor='previewImg' className='label-previewImg'\r\n\r\n                                    ></label>\r\n                                </div>\r\n                                <div className='info-book row'>\r\n                                    {/* <div className='col-4'>\r\n                                    <label>Mã sách</label>\r\n                                    <input type='text' className='form-control'\r\n                                        onChange={(event) => this.handleOnChangeInput(event, 'keyMap')}\r\n                                        value={this.state.keyMap}\r\n                                    />\r\n                                </div> */}\r\n                                    <div className='col-6'>\r\n                                        <label>Tên sách</label>\r\n                                        <input type='text' className='form-control'\r\n                                            onChange={(event) => this.handleOnChangeInput(event, 'tenSach')}\r\n                                            value={this.state.tenSach}\r\n\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className='col-6'>\r\n                                        <label>Tác giả</label>\r\n                                        <input type='text' className='form-control'\r\n                                            onChange={(event) => this.handleOnChangeInput(event, 'tacGia')}\r\n                                            value={this.state.tacGia}\r\n\r\n                                        />\r\n                                    </div>\r\n                                    <div className='col-4'>\r\n                                        <label>Nhà xuất bản</label>\r\n                                        <div className='info-select'>\r\n                                            <select className='form-control'\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'NXB')}\r\n                                                value={this.state.NXB}\r\n\r\n                                            >\r\n                                                {arrNXB && arrNXB.length > 0\r\n                                                    && arrNXB.map((item, index) => {\r\n                                                        return (\r\n                                                            <option key={index} value={item.keyMap}>{item.tenNXB}</option>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </select>\r\n                                            <button className='btn-add-select'\r\n                                                onClick={() => this.handleShowNXB()}\r\n                                            ><i className=\"fas fa-plus-circle\"></i></button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div className='col-4'>\r\n                                        <label>Nhà cung cấp</label>\r\n                                        <div className='info-select'>\r\n                                            <select className='form-control'\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'NCC')}\r\n                                                value={this.state.NCC}\r\n                                            >\r\n                                                {arrNCC && arrNCC.length > 0\r\n                                                    && arrNCC.map((item, index) => {\r\n                                                        return (\r\n                                                            <option key={index} value={item.keyMap}>{item.tenNCC}</option>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </select>\r\n                                            <button className='btn-add-select'\r\n                                                onClick={() => this.handleShowNCC()}\r\n                                            ><i className=\"fas fa-plus-circle\"></i></button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div className='col-4'>\r\n                                        <label>Thể loại</label>\r\n                                        <div className='info-select'>\r\n                                            <select className='form-control'\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'TL')}\r\n                                                value={this.state.TL}\r\n\r\n                                            >\r\n                                                {arrTL && arrTL.length > 0\r\n                                                    && arrTL.map((item, index) => {\r\n                                                        return (\r\n                                                            <option key={index} value={item.keyMap}>{item.theLoai}</option>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </select>\r\n                                            <button className='btn-add-select'\r\n                                                onClick={() => this.handleShowTL()}\r\n                                            ><i className=\"fas fa-plus-circle\"></i></button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='col-10'>\r\n                                        <label>Giá</label>\r\n                                        <input type='text' className='form-control'\r\n                                            onChange={(event) => this.handleOnChangeInput(event, 'gia')}\r\n                                            value={this.state.gia}\r\n\r\n                                        />\r\n                                    </div>\r\n                                    <div className='col-2'>\r\n                                        <label>Số lượng</label>\r\n                                        <input type='number' className='form-control'\r\n                                            onChange={(event) => this.handleOnChangeInput(event, 'soLuong')}\r\n                                            value={this.state.soLuong}\r\n\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className='table-book'>\r\n                                <TableBookManage\r\n                                    arrBook={this.state.arrBook}\r\n                                    handleDelete={this.handleDelete}\r\n                                    handleExitUpdate={this.handleExitUpdate}\r\n                                    changeUpdate={this.state.changeUpdate}\r\n                                    onChangeData={this.handleChangeData}\r\n                                />\r\n                            </div>\r\n                            <div className='function-book'>\r\n                                {changeUpdate === false\r\n                                    ?\r\n                                    <button className='btn-save-info-book'\r\n                                        onClick={() => this.handleOnClickSave()}\r\n\r\n                                    >\r\n                                        <i className=\"far fa-save\"\r\n                                        ></i>Save\r\n                                    </button>\r\n                                    :\r\n                                    <button className='btn-update-info-book'\r\n                                        onClick={() => this.handleEditBooks()}\r\n\r\n                                    >\r\n                                        <i className=\"far fa-save\"\r\n                                        ></i>Save update\r\n                                    </button>\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ModalNXB\r\n                        handleShowNXB={this.handleShowNXB}\r\n                        isShowNXB={this.state.isShowNXB}\r\n                        handleCreateNewNXB={this.handleCreateNewNXB}\r\n                    />\r\n                    <ModalNCC\r\n                        isShowNCC={this.state.isShowNCC}\r\n                        handleShowNCC={this.handleShowNCC}\r\n                        handleCreateNewNCC={this.handleCreateNewNCC}\r\n                    />\r\n\r\n                    <ModalTL\r\n                        isShowTL={this.state.isShowTL}\r\n                        handleShowTL={this.handleShowTL}\r\n                        handleCreateNewTL={this.handleCreateNewTL}\r\n                    />\r\n\r\n                </Scrollbars>\r\n            </LoadingOverlay>\r\n\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookManager);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './NhacungcapManager.scss';\r\nimport Header from '../../Header/Header';\r\nimport {\r\n    handlegetAllNCC, handleCreateNewNCC, handleDeleteNCC, handleUpdateNCC,\r\n    handlecountAllNCC\r\n} from '../../../services/bookService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass NhacungcapManager extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrNCC: [],\r\n            maNCC: '',\r\n            tenNCC: '',\r\n            selectUpdate: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleGetAllNCC();\r\n    }\r\n\r\n    handleGetAllNCC = async () => {\r\n        let res = await handlegetAllNCC('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnchangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleOnClickdelete = async (item) => {\r\n        if (item) {\r\n            let data = await handleDeleteNCC(item.keyMap)\r\n            if (data && data.errCode === 0) {\r\n                toast.success('delete nhacungcap success!');\r\n                await this.handleGetAllNCC()\r\n\r\n            } else {\r\n                toast.error('delete nhacungcap error!');\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleOnClickEdit = (item) => {\r\n        if (item) {\r\n            this.setState({\r\n                maNCC: item.keyMap,\r\n                tenNCC: item.tenNCC,\r\n                selectUpdate: !this.state.selectUpdate\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClean = () => {\r\n        this.setState({\r\n            maNCC: '',\r\n            tenNCC: ''\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenNCC'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        let { arrNCC } = this.state;\r\n        if (check === true) {\r\n            let maNCC = '';\r\n            let count = arrNCC.map(item => parseInt(item.keyMap.match(/\\d+$/)[0]));\r\n            let max = Math.max(...count);\r\n            if (max) {\r\n                maNCC = `NCC${max + 1}`\r\n            }\r\n            let data = await handleCreateNewNCC({\r\n                keyMap: maNCC,\r\n                tenNCC: this.state.tenNCC\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Create a new nhacungcap success!');\r\n                this.setState({\r\n                    maNCC: '',\r\n                    tenNCC: ''\r\n                })\r\n                await this.handleGetAllNCC()\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUpdate = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleUpdateNCC({\r\n                keyMap: this.state.maNCC,\r\n                tenNCC: this.state.tenNCC\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('update NCC is success!')\r\n                await this.handleClean();\r\n                await this.handleGetAllNCC()\r\n                this.setState({\r\n                    selectUpdate: false\r\n                })\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrNCC, selectUpdate } = this.state;\r\n        return (\r\n            <div className='nhacungcap-container'>\r\n                <div className='nhacungcap-content'>\r\n                    <div className='nhacuncap-hearder'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='nhacungcap-title'>\r\n                        Quản lý nhà cung cấp\r\n                    </div>\r\n                    <div className='nhacungcap-info row'>\r\n                        {/* <div className='col-6'>\r\n                            <label>Mã nhà cung cấp</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'maNCC')}\r\n                                value={this.state.maNCC}\r\n                            />\r\n                        </div> */}\r\n                        <div className='col-6'>\r\n                            <label>Tên nhà cung cấp</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'tenNCC')}\r\n                                value={this.state.tenNCC}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='table-nhacungcap'>\r\n                        <table id=\"customers\">\r\n                            <tr>\r\n                                <th className='sticky-column'>Mã nhà cung cấp</th>\r\n                                <th className='sticky-column'>Tên nhà cung cấp</th>\r\n                                <th className='sticky-column'>Option</th>\r\n                            </tr>\r\n                            {\r\n                                arrNCC && arrNCC.length > 0\r\n                                && arrNCC.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td>{item.keyMap}</td>\r\n                                            <td>{item.tenNCC}</td>\r\n                                            <td>\r\n                                                <button className='btn-delete-book'\r\n                                                    onClick={() => this.handleOnClickdelete(item)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </button>\r\n                                                <button className='btn-edit-book'\r\n                                                    onClick={() => this.handleOnClickEdit(item)}\r\n\r\n                                                >\r\n                                                    <i className=\"fas fa-pencil-alt\"></i>\r\n\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div className='btn-nhacungcap'>\r\n                        {selectUpdate === false\r\n\r\n                            ?\r\n                            <button className='btn-add-ncc'\r\n                                onClick={() => this.handleSave()}\r\n                            >\r\n                                <i className=\"fas fa-plus\"></i>Tạo\r\n                            </button>\r\n                            :\r\n                            <button className='btn-save-ncc'\r\n                                onClick={() => this.handleUpdate()}\r\n                            >\r\n                                <i className=\"far fa-save\"></i>Save\r\n                            </button>\r\n                        }\r\n\r\n                        <button className='btn-clean-ncc'\r\n                            onClick={() => this.handleClean()}\r\n                        >\r\n                            <i className=\"fas fa-broom\"></i>Clean\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NhacungcapManager);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './NhacungcapManager.scss';\r\nimport Header from '../../Header/Header';\r\nimport {\r\n    handlegetAllNXB, handleCreateNewNXB, handleDeleteNXB, handleUpdateNXB,\r\n    handlecountAllNXB\r\n} from '../../../services/bookService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass nhaxuatbanManager extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrNCC: [],\r\n            maNXB: '',\r\n            tenNXB: '',\r\n            selectUpdate: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllNXB();\r\n    }\r\n\r\n    handlegetAllNXB = async () => {\r\n        let res = await handlegetAllNXB('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnchangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleOnClickdelete = async (item) => {\r\n        if (item) {\r\n            let data = await handleDeleteNXB(item.keyMap)\r\n            if (data && data.errCode === 0) {\r\n                toast.success('delete nhaxuatban success!');\r\n                await this.handlegetAllNXB()\r\n\r\n            } else {\r\n                toast.error('delete nhaxuatban error!');\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleOnClickEdit = (item) => {\r\n        if (item) {\r\n            this.setState({\r\n                maNXB: item.keyMap,\r\n                tenNXB: item.tenNXB,\r\n                selectUpdate: !this.state.selectUpdate\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClean = () => {\r\n        this.setState({\r\n            maNXB: '',\r\n            tenNXB: ''\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenNXB'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        let { arrNCC } = this.state;\r\n        if (check === true) {\r\n            let maNXB = '';\r\n            let count = arrNCC.map(item => parseInt(item.keyMap.match(/\\d+$/)[0]));\r\n            let max = Math.max(...count);\r\n            if (max) {\r\n                maNXB = `NXB${max + 1}`\r\n            }\r\n            let data = await handleCreateNewNXB({\r\n                keyMap: maNXB,\r\n                tenNXB: this.state.tenNXB\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Create a new nhaxuatban success!');\r\n                this.setState({\r\n                    maNXB: '',\r\n                    tenNXB: ''\r\n                })\r\n                await this.handlegetAllNXB()\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUpdate = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleUpdateNXB({\r\n                keyMap: this.state.maNXB,\r\n                tenNXB: this.state.tenNXB\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('update NXB is success!')\r\n                await this.handleClean();\r\n                await this.handlegetAllNXB()\r\n                this.setState({\r\n                    selectUpdate: false\r\n                })\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrNCC, selectUpdate } = this.state;\r\n        return (\r\n            <div className='nhacungcap-container'>\r\n                <div className='nhacungcap-content'>\r\n                    <div className='nhacuncap-hearder'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='nhacungcap-title'>\r\n                        Quản lý nhà xuất bản\r\n                    </div>\r\n                    <div className='nhacungcap-info row'>\r\n                        {/* <div className='col-6'>\r\n                            <label>Mã nhà xuất bản</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'maNXB')}\r\n                                value={this.state.maNXB}\r\n                            />\r\n                        </div> */}\r\n                        <div className='col-6'>\r\n                            <label>Tên nhà xuất bản</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'tenNXB')}\r\n                                value={this.state.tenNXB}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='table-nhacungcap'>\r\n                        <table id=\"customers\">\r\n                            <tr>\r\n                                <th className='sticky-column'>Mã nhà xuất bản</th>\r\n                                <th className='sticky-column'>Tên nhà xuất bản</th>\r\n                                <th className='sticky-column'>Option</th>\r\n                            </tr>\r\n                            {\r\n                                arrNCC && arrNCC.length > 0\r\n                                && arrNCC.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td>{item.keyMap}</td>\r\n                                            <td>{item.tenNXB}</td>\r\n                                            <td>\r\n                                                <button className='btn-delete-book'\r\n                                                    onClick={() => this.handleOnClickdelete(item)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </button>\r\n                                                <button className='btn-edit-book'\r\n                                                    onClick={() => this.handleOnClickEdit(item)}\r\n\r\n                                                >\r\n                                                    <i className=\"fas fa-pencil-alt\"></i>\r\n\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div className='btn-nhacungcap'>\r\n                        {selectUpdate === false\r\n\r\n                            ?\r\n                            <button className='btn-add-ncc'\r\n                                onClick={() => this.handleSave()}\r\n                            >\r\n                                <i className=\"fas fa-plus\"></i>Tạo\r\n                            </button>\r\n                            :\r\n                            <button className='btn-save-ncc'\r\n                                onClick={() => this.handleUpdate()}\r\n                            >\r\n                                <i className=\"far fa-save\"></i>Save\r\n                            </button>\r\n                        }\r\n\r\n                        <button className='btn-clean-ncc'\r\n                            onClick={() => this.handleClean()}\r\n                        >\r\n                            <i className=\"fas fa-broom\"></i>Clean\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(nhaxuatbanManager);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './NhacungcapManager.scss';\r\nimport Header from '../../Header/Header';\r\nimport {\r\n    handlegetAllTL, handleCreateNewTL, handleDeleteTL, handleUpdateTL,\r\n    handlecountAllTL\r\n} from '../../../services/bookService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass TheloaiManager extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrNCC: [],\r\n            maTL: '',\r\n            tenTL: '',\r\n            selectUpdate: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleGetAllNCC();\r\n    }\r\n\r\n    handleGetAllNCC = async () => {\r\n        let res = await handlegetAllTL('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleOnchangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleOnClickdelete = async (item) => {\r\n        if (item) {\r\n            let data = await handleDeleteTL(item.keyMap)\r\n            if (data && data.errCode === 0) {\r\n                toast.success('delete nhacungcap success!');\r\n                await this.handleGetAllNCC()\r\n\r\n            } else {\r\n                toast.error('delete Theloai error!');\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleOnClickEdit = (item) => {\r\n        if (item) {\r\n            this.setState({\r\n                maTL: item.keyMap,\r\n                tenTL: item.theLoai,\r\n                selectUpdate: !this.state.selectUpdate\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClean = () => {\r\n        this.setState({\r\n            maTL: '',\r\n            tenTL: ''\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenTL'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        let { arrNCC } = this.state;\r\n        if (check === true) {\r\n            let TL = '';\r\n            let count = arrNCC.map(item => parseInt(item.keyMap.match(/\\d+$/)[0]));\r\n            let max = Math.max(...count);\r\n            if (max) {\r\n                TL = `TL${max + 1}`\r\n            }\r\n            let data = await handleCreateNewTL({\r\n                keyMap: TL,\r\n                theLoai: this.state.tenTL\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Create a new TheLoai success!');\r\n                this.setState({\r\n                    maTL: '',\r\n                    tenTL: ''\r\n                })\r\n                await this.handleGetAllNCC()\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUpdate = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleUpdateTL({\r\n                keyMap: this.state.maTL,\r\n                theLoai: this.state.tenTL\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('update TL is success!')\r\n                await this.handleClean();\r\n                await this.handleGetAllNCC()\r\n                this.setState({\r\n                    selectUpdate: false\r\n                })\r\n\r\n            } else {\r\n                alert(data.errMessage)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrNCC, selectUpdate } = this.state;\r\n        return (\r\n            <div className='nhacungcap-container'>\r\n                <div className='nhacungcap-content'>\r\n                    <div className='nhacuncap-hearder'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='nhacungcap-title'>\r\n                        Quản lý thể loại\r\n                    </div>\r\n                    <div className='nhacungcap-info row'>\r\n                        {/* <div className='col-6'>\r\n                            <label>Mã thể loại</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'maTL')}\r\n                                value={this.state.maTL}\r\n                            />\r\n                        </div> */}\r\n                        <div className='col-6'>\r\n                            <label>Tên thể loại</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnchangeInput(event, 'tenTL')}\r\n                                value={this.state.tenTL}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='table-nhacungcap'>\r\n                        <table id=\"customers\">\r\n                            <tr>\r\n                                <th className='sticky-column'>Mã thể loại</th>\r\n                                <th className='sticky-column'>Tên thể loại</th>\r\n                                <th className='sticky-column'>Option</th>\r\n                            </tr>\r\n                            {\r\n                                arrNCC && arrNCC.length > 0\r\n                                && arrNCC.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td>{item.keyMap}</td>\r\n                                            <td>{item.theLoai}</td>\r\n                                            <td>\r\n                                                <button className='btn-delete-book'\r\n                                                    onClick={() => this.handleOnClickdelete(item)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </button>\r\n                                                <button className='btn-edit-book'\r\n                                                    onClick={() => this.handleOnClickEdit(item)}\r\n\r\n                                                >\r\n                                                    <i className=\"fas fa-pencil-alt\"></i>\r\n\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div className='btn-nhacungcap'>\r\n                        {selectUpdate === false\r\n\r\n                            ?\r\n                            <button className='btn-add-ncc'\r\n                                onClick={() => this.handleSave()}\r\n                            >\r\n                                <i className=\"fas fa-plus\"></i>Tạo\r\n                            </button>\r\n                            :\r\n                            <button className='btn-save-ncc'\r\n                                onClick={() => this.handleUpdate()}\r\n                            >\r\n                                <i className=\"far fa-save\"></i>Save\r\n                            </button>\r\n                        }\r\n\r\n                        <button className='btn-clean-ncc'\r\n                            onClick={() => this.handleClean()}\r\n                        >\r\n                            <i className=\"fas fa-broom\"></i>Clean\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TheloaiManager);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './TableDiscountManager.scss'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport moment, { months } from 'moment/moment';\r\nimport Countdown from 'react-countdown';\r\nimport ReactDOM from \"react-dom\";\r\nimport { update } from 'lodash';\r\nimport { couldStartTrivia } from 'typescript';\r\n\r\nclass TableDiscountManager extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrTime: [],\r\n            arrDiscount: [],\r\n            timeCount: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.arrDiscount !== this.props.arrDiscount) {\r\n            this.setState({\r\n                arrDiscount: this.props.arrDiscount\r\n            })\r\n            if (this.state.arrDiscount && this.state.arrDiscount.length > 0) {\r\n\r\n            }\r\n        }\r\n\r\n        if (prevState.arrDiscount !== this.state.arrDiscount) {\r\n            await this.handleaddarrTime();\r\n            console.log('check update')\r\n        }\r\n    }\r\n\r\n\r\n    //     // Chuyển đổi thời gian thành giờ, phút và giây\r\n    //     var parts = timeDiff.split(\":\");\r\n    //     var hours = parseInt(parts[0]);\r\n    //     var minutes = parseInt(parts[1]);\r\n    //     var seconds = parseInt(parts[2]);\r\n\r\n    //     // Tổng số giây cần đếm ngược\r\n    //     var totalSeconds = hours * 3600 + minutes * 60 + seconds;\r\n\r\n    //     // Bắt đầu đếm ngược\r\n    //     var timer = setInterval(() => {\r\n    //         // Giảm số giây đi 1\r\n    //         totalSeconds--;\r\n\r\n    //         // Tính toán giờ, phút và giây từ số giây còn lại\r\n    //         var remainingHours = Math.floor(totalSeconds / 3600);\r\n    //         var remainingMinutes = Math.floor((totalSeconds % 3600) / 60);\r\n    //         var remainingSeconds = totalSeconds % 60;\r\n\r\n    //         // Định dạng lại thời gian đếm ngược\r\n    //         var formattedTime =\r\n    //             remainingHours.toString().padStart(2, \"0\") +\r\n    //             \":\" +\r\n    //             remainingMinutes.toString().padStart(2, \"0\") +\r\n    //             \":\" +\r\n    //             remainingSeconds.toString().padStart(2, \"0\");\r\n\r\n    //         // Lưu thời gian đếm ngược vào state\r\n    //         this.setState({\r\n    //             timeCount: formattedTime\r\n    //         });\r\n\r\n    //         // Kiểm tra nếu thời gian đếm ngược kết thúc\r\n    //         if (totalSeconds <= 0) {\r\n    //             clearInterval(timer);\r\n    //             console.log(\"Kết thúc đếm ngược\");\r\n    //         }\r\n    //     }, 1000); // Đếm ngược mỗi giây (1000ms)\r\n    // };\r\n\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrTime, arrDiscount } = this.state;\r\n        let arr = [];\r\n        if (arrDiscount && arrDiscount.length > 0) {\r\n            arrDiscount.forEach((item) => {\r\n                let object = {};\r\n\r\n                object.id = item.id;\r\n                object.maSach = item.maSach;\r\n                object.tenSach = item.tenSach;\r\n                object.discount = item.discount;\r\n                object.ngayBD = item.ngayBD;\r\n                object.ngayKT = item.ngayKT;\r\n                let timeDiff = '';\r\n                if (item.ngayBD <= new Date().getTime()) {\r\n                    timeDiff = item.ngayKT - new Date().getTime();\r\n                }\r\n                var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                object.timeDiff = formattedTime;\r\n                arr.push(object)\r\n\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrTime: arr\r\n                })\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n\r\n    handleDeleteDiscount = (item) => {\r\n        this.props.handleDelete(item.maSach);\r\n    }\r\n\r\n    handleloaddiscount = (item) => {\r\n        let ngayBD = new Date(+item.ngayBD);\r\n        let ngayKT = new Date(+item.ngayKT);\r\n        this.props.handlegetdata({\r\n            maSach: item.maSach,\r\n            tenSach: item.tenSach,\r\n            discount: item.discount,\r\n            ngayBD: ngayBD,\r\n            ngayKT: ngayKT,\r\n            select: item.maSach\r\n\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let { arrDiscount, arrTime } = this.state;\r\n        return (\r\n            <div className='table-container'>\r\n                <table id=\"customers\">\r\n                    <tr>\r\n                        <th className='sticky-column'>Mã sách</th>\r\n                        <th className='sticky-column'>Tên sách</th>\r\n                        <th className='sticky-column'>giảm giá</th>\r\n                        <th className='sticky-column'>ngày bắt đầu</th>\r\n                        <th className='sticky-column'>ngày kết thúc</th>\r\n                        <th className='sticky-column'>thời gian đếm ngược</th>\r\n                        <th className='sticky-column'>Option</th>\r\n                    </tr>\r\n                    {arrTime && arrTime.length > 0\r\n                        && arrTime.map((item, index) => {\r\n                            let ngayBD = '';\r\n                            let ngayKT = '';\r\n                            if (item.ngayBD) {\r\n                                ngayBD = moment(+item.ngayBD).format('DD/MM/yyyy HH:mm:ss');\r\n                            }\r\n                            if (item.ngayKT) {\r\n                                ngayKT = moment(+item.ngayKT).format('DD/MM/yyyy HH:mm:ss');\r\n                            }\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{item.maSach}</td>\r\n                                    <td>{item.tenSach}</td>\r\n                                    <td>{item.discount}</td>\r\n                                    <td>{ngayBD}</td>\r\n                                    <td>{ngayKT}</td>\r\n                                    <td>\r\n                                        {item.timeDiff && this.convertTimeToMilliseconds(item.timeDiff) >= 0 ? (\r\n                                            <Countdown\r\n                                                date={Date.now() + this.convertTimeToMilliseconds(item.timeDiff)}\r\n                                                renderer={({ days, hours, minutes, seconds }) => (\r\n                                                    <span>\r\n                                                        {days.toString().padStart(2, '0')}:\r\n                                                        {hours.toString().padStart(2, '0')}:\r\n                                                        {minutes.toString().padStart(2, '0')}:\r\n                                                        {seconds.toString().padStart(2, '0')}\r\n                                                    </span>\r\n                                                )}\r\n                                                onComplete={() =>\r\n                                                    <span>Hến hạn giảm giá</span>\r\n                                                }\r\n                                            />\r\n                                        ) : (\r\n                                            this.handleDeleteDiscount(item)\r\n\r\n                                        )}\r\n                                    </td>\r\n                                    <td>\r\n                                        {/* {changeUpdate === false */}\r\n                                        {/* ? */}\r\n                                        <button className='btn-delete-book'\r\n                                            onClick={() => this.handleDeleteDiscount(item)}\r\n                                        >\r\n                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                        </button>\r\n                                        {/* : */}\r\n                                        {/* <button className='btn-exitupdate-book'\r\n                                                onClick={handleExitUpdate}\r\n                                            >\r\n                                                <i className=\"far fa-times-circle\"></i>\r\n                                            </button> */}\r\n                                        {/* } */}\r\n\r\n                                        <button className='btn-edit-book'\r\n                                            onClick={() => this.handleloaddiscount(item)}\r\n                                        >\r\n                                            <i className=\"fas fa-pencil-alt\"\r\n\r\n                                            ></i>\r\n\r\n                                        </button>\r\n                                    </td>\r\n\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n\r\n\r\n                </table>\r\n                <div id='countdown-container'></div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TableDiscountManager);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Discount.scss';\r\nimport Header from '../../Header/Header';\r\nimport DatePicker from \"react-datepicker\";\r\nimport TableDiscountManager from './TableDiscountManager';\r\nimport {\r\n    handlegetAllBook, handleSavediscount, handlegetAlldiscount,\r\n    handleDeleteDiscount, handleUpdateDiscount\r\n} from '../../../services/bookService'\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Discount extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            arrBook: [],\r\n            tenSach: '',\r\n            maSach: '',\r\n            ngayBD: '',\r\n            ngayKT: '',\r\n            select: '',\r\n            discount: '',\r\n            arrDiscount: [],\r\n            isShowupdate: false,\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n        await this.handlegetAllDiscount();\r\n    }\r\n\r\n    handlegetAllDiscount = async () => {\r\n        let res = await handlegetAlldiscount('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrDiscount: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllbook = async () => {\r\n        let data = await handlegetAllBook('ALL');\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                arrBook: data.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangInput = async (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n        let data = await handlegetAllBook(copystate[id]);\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                maSach: data.data.keyMap,\r\n                tenSach: data.data.tenSach\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangleDatePicker = (date, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = date;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['tenSach', 'maSach', 'ngayBD', 'ngayKT', 'discount'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input:${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleDelete = async (maSach) => {\r\n        if (maSach) {\r\n            let deletes = await handleDeleteDiscount(maSach);\r\n            if (deletes && deletes.errCode === 0) {\r\n                toast.success('delete discount is success!');\r\n                await this.handlegetAllDiscount()\r\n            } else {\r\n                alert(deletes.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUpdate = async () => {\r\n        let check = this.handleCheckinput();\r\n        let { ngayBD, ngayKT } = this.state;\r\n        let ngayBDS = new Date(ngayBD).getTime();\r\n        let ngayKTS = new Date(ngayKT).getTime();\r\n        if (check === true) {\r\n            let updates = await handleUpdateDiscount({\r\n                tenSach: this.state.tenSach,\r\n                maSach: this.state.maSach,\r\n                ngayBD: ngayBDS,\r\n                ngayKT: ngayKTS,\r\n                discount: this.state.discount\r\n            });\r\n            if (updates && updates.errCode === 0) {\r\n                toast.success('update discount is success!');\r\n                await this.handlegetAllDiscount();\r\n                this.setState({\r\n                    tenSach: '',\r\n                    maSach: '',\r\n                    ngayBD: '',\r\n                    ngayKT: '',\r\n                    select: '',\r\n                    discount: '',\r\n                })\r\n            } else {\r\n                alert(updates.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handlegetdata = (data) => {\r\n        if (data) {\r\n            this.setState({\r\n                tenSach: data.tenSach,\r\n                maSach: data.maSach,\r\n                ngayBD: data.ngayBD,\r\n                ngayKT: data.ngayKT,\r\n                discount: data.discount,\r\n                select: data.select,\r\n                isShowupdate: !this.state.isShowupdate\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let { ngayBD, ngayKT } = this.state;\r\n        let ngayBDS = new Date(ngayBD).getTime();\r\n        let ngayKTS = new Date(ngayKT).getTime();\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleSavediscount({\r\n                tenSach: this.state.tenSach,\r\n                maSach: this.state.maSach,\r\n                ngayBD: ngayBDS,\r\n                ngayKT: ngayKTS,\r\n                discount: this.state.discount\r\n            })\r\n\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Create new discout success!');\r\n                await this.handlegetAllDiscount();\r\n                this.setState({\r\n                    tenSach: '',\r\n                    maSach: '',\r\n                    ngayBD: '',\r\n                    ngayKT: '',\r\n                    select: '',\r\n                    discount: '',\r\n                })\r\n            }\r\n            else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { arrBook, isShowupdate } = this.state;\r\n        let yesterday = new Date(new Date().setDate(new Date().getDate() - 1));\r\n        let tomorrow = new Date(new Date().setDate(new Date().getDate() + 1));\r\n        return (\r\n            <div className='discont-container'>\r\n                <div className='discont-content'>\r\n                    <div className='discount-header'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='discount-title'>Quản lý giảm giá</div>\r\n                    <div className='discount-body row'>\r\n                        <div className='col-6'>\r\n                            <label>Mã sách</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnChangInput(event, 'maSach')}\r\n                                value={this.state.maSach}\r\n                            />\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>tên sách</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChangInput(event, 'select')}\r\n                                value={this.state.select}\r\n                            >\r\n                                {arrBook && arrBook.length > 0\r\n                                    && arrBook.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.keyMap}>\r\n                                                {item.tenSach}\r\n                                            </option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <label>ngày bắt đầu</label>\r\n                            <div className='date-picker'>\r\n                                <DatePicker\r\n                                    dateFormat='dd/MM/yyyy'\r\n                                    className='form-control'\r\n                                    onChange={(date) => this.handleOnChangleDatePicker(date, 'ngayBD')}\r\n                                    // value={this.state.ngayBD}\r\n                                    selected={this.state.ngayBD}\r\n                                    minDate={yesterday}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className='col-6 form-group'>\r\n                            <label>ngày kết thúc</label>\r\n                            <div className='date-picker'>\r\n                                <DatePicker\r\n                                    dateFormat='dd/MM/yyyy'\r\n                                    className='form-control'\r\n                                    onChange={(date) => this.handleOnChangleDatePicker(date, 'ngayKT')}\r\n                                    selected={this.state.ngayKT}\r\n                                    value={this.state.ngayKT}\r\n                                    minDate={tomorrow}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-12'>\r\n                            <label>Giảm giá</label>\r\n                            <input type='text' className='form-control'\r\n                                onChange={(event) => this.handleOnChangInput(event, 'discount')}\r\n                                value={this.state.discount}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='table-manager'>\r\n                        <TableDiscountManager\r\n                            arrDiscount={this.state.arrDiscount}\r\n                            handleDelete={this.handleDelete}\r\n                            handleUpdate={this.handleUpdate}\r\n                            handlegetdata={this.handlegetdata}\r\n                        />\r\n                    </div>\r\n                    <div className='discount-tail'>\r\n                        {isShowupdate === false\r\n                            ?\r\n                            <button className='btn-save'\r\n                                onClick={() => this.handleSave()}\r\n                            >Save</button>\r\n                            :\r\n                            <button className='btn-save-update'\r\n                                onClick={() => this.handleUpdate()}\r\n                            >Save update</button>\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Discount);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookManageInfo.scss';\r\nimport Header from '../../Header/Header';\r\nimport MarkdownIt from 'markdown-it';\r\nimport MdEditor from 'react-markdown-editor-lite';\r\nimport { handlegetAllBook, handleSaveBookInfo, handlegetAllbookInfo, handleUpdateBookinfo } from '../../../services/bookService';\r\nimport { toast } from 'react-toastify';\r\nimport _ from 'lodash';\r\n\r\nconst mdParser = new MarkdownIt(\r\n);\r\n\r\nclass BookManageInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            bookId: '',\r\n            descriptionHTML: '',\r\n            descriptionMarkDown: '',\r\n            isShowupdate: false\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.bookId !== this.state.bookId) {\r\n            await this.handleGetBookInfo(this.state.bookId);\r\n        }\r\n    }\r\n\r\n    handlegetAllbook = async () => {\r\n        let res = await handlegetAllBook('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n    }\r\n\r\n    handleEditorChange = ({ html, text }) => {\r\n        this.setState({\r\n            descriptionHTML: html,\r\n            descriptionMarkDown: text\r\n        })\r\n    }\r\n\r\n    handleOnChange = async (event, id) => {\r\n        let copystate = { ...this.state }\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['bookId', 'descriptionHTML', 'descriptionMarkDown'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input:${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleSaveBookInfo({\r\n                bookId: this.state.bookId,\r\n                descriptionHTML: this.state.descriptionHTML,\r\n                descriptionMarkDown: this.state.descriptionMarkDown\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Create a new bookInfo success!');\r\n                this.setState({\r\n                    bookId: '',\r\n                    descriptionHTML: '',\r\n                    descriptionMarkDown: ''\r\n                })\r\n            }\r\n            else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleGetBookInfo = async (bookId) => {\r\n        let data = await handlegetAllbookInfo(bookId);\r\n        if (data && data.errCode === 0 && !_.isEmpty(data.data)) {\r\n            this.setState({\r\n                descriptionMarkDown: data.data.descriptionMarkDown,\r\n                isShowupdate: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                descriptionMarkDown: '',\r\n                isShowupdate: false\r\n            })\r\n        }\r\n    }\r\n\r\n    handleEditBookInfo = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleUpdateBookinfo({\r\n                bookId: this.state.bookId,\r\n                descriptionHTML: this.state.descriptionHTML,\r\n                descriptionMarkDown: this.state.descriptionMarkDown\r\n            });\r\n            if (data && data.errCode === 0) {\r\n                toast.success('update book info is success!');\r\n                this.setState({\r\n                    bookId: '',\r\n                    descriptionHTML: '',\r\n                    descriptionMarkDown: ''\r\n                })\r\n            } else {\r\n                alert(data.errMessager)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCancelUpdate = () => {\r\n        this.setState({\r\n            isShowupdate: false\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrBook, isShowupdate, bookId } = this.state;\r\n        return (\r\n            <div className='book-info-container'>\r\n                <div className='book-info-content'>\r\n                    <div className='book-info-header'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='book-info-title'>\r\n                        Quản lý thông tin sách\r\n                    </div>\r\n\r\n                    <div className='book-info-body row'>\r\n                        <div className='book-info-tenSach col-6'>\r\n                            <label>Tên sách</label>\r\n                            <select className='form-control'\r\n                                onChange={(event) => this.handleOnChange(event, 'bookId')}\r\n                            >\r\n                                {arrBook && arrBook.length > 0\r\n                                    && arrBook.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.keyMap}>\r\n                                                {item.tenSach}\r\n                                            </option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className='book-info-markdown col-12'>\r\n                            <MdEditor style={{ height: '500px', width: '100%' }}\r\n                                renderHTML={text => mdParser.render(text)}\r\n                                onChange={this.handleEditorChange}\r\n                                value={this.state.descriptionMarkDown}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className='book-info-btn col-12'>\r\n                            {isShowupdate === false\r\n                                ?\r\n                                <button className='btn-save'\r\n                                    onClick={() => this.handleSave()}\r\n                                >Save</button>\r\n\r\n                                :\r\n                                <>\r\n                                    <button className='btn-save'\r\n                                        onClick={() => this.handleEditBookInfo()}\r\n                                    >Save update</button>\r\n\r\n                                    <button className='btn-save'\r\n                                        onClick={() => this.handleCancelUpdate()}\r\n                                    >Hủy</button>\r\n                                </>\r\n\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookManageInfo);\r\n","import axios from \"../axios\";\r\n\r\nconst handleCreateNewBill = (data) => {\r\n    return axios.post('/api/create-new-bill', data)\r\n}\r\n\r\nconst handleCreateNewBilldetail = (data) => {\r\n    return axios.post('/api/create-new-bill-detail', data)\r\n}\r\n\r\nconst hanlegetAllBill = (maHD) => {\r\n    return axios.get(`/api/get-all-bill?maHD=${maHD}`)\r\n}\r\n\r\nconst hanlegetAllBilldetail = (maHD) => {\r\n    return axios.get(`/api/get-all-bill-detail?maHD=${maHD}`)\r\n}\r\n\r\nconst handleDeleteBill = (maHD) => {\r\n    return axios.delete('/api/delete-bill', { data: { maHD: maHD } })\r\n}\r\n\r\nconst handleDeleteBilldetail = (maHD) => {\r\n    return axios.delete('/api/delete-bill-detail', { data: { maHD: maHD } })\r\n}\r\n\r\nconst handleUpdateBill = (data) => {\r\n    return axios.put('/api/update-bill', data)\r\n}\r\n\r\n\r\nconst handleUpdateBilldetail = (data) => {\r\n    return axios.put('/api/update-bill-detail', data)\r\n}\r\n\r\nconst handleUpdateCreateBillDetail = (data) => {\r\n    return axios.post('/api-update-create-bill-detail', data)\r\n}\r\n\r\nconst handledeleteBillandBillDetail = (data) => {\r\n    return axios.post('/api-delete-bill-and-bill-detail', data)\r\n}\r\n\r\nconst hanlegetAllBillbyuserId = (userId) => {\r\n    return axios.get(`/api-get-all-bill-by-userId?userId=${userId}`)\r\n}\r\n\r\nconst handledeComfimBill = (data) => {\r\n    return axios.post('/api-comfim-bill-user', data)\r\n}\r\n\r\nconst hanlegetAllBillmore = () => {\r\n    return axios.get('/api-get-bill-more')\r\n}\r\n\r\n\r\nexport {\r\n    handleCreateNewBill, handleCreateNewBilldetail, hanlegetAllBill,\r\n    hanlegetAllBilldetail, handleDeleteBill, handleDeleteBilldetail,\r\n    handleUpdateBill, handleUpdateBilldetail, handleUpdateCreateBillDetail,\r\n    handledeleteBillandBillDetail, hanlegetAllBillbyuserId, handledeComfimBill,\r\n    hanlegetAllBillmore\r\n}","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalUser.scss'\r\nimport { handlecountAllTL } from '../../../../services/bookService'\r\nimport { handleNewUseradmin } from '../../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass ModalUser extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hoten: '',\r\n            address: '',\r\n            phoneNumber: '',\r\n            email: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['hoten', 'address', 'phoneNumber', 'email'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleEnter = async (event) => {\r\n        if (event.key === 'Enter') {\r\n            let check = this.handleCheckinput();\r\n            if (check === true) {\r\n                let data = await handleNewUseradmin({\r\n                    firstName: this.state.hoten,\r\n                    email: this.state.email,\r\n                    address: this.state.address,\r\n                    phonenumber: this.state.phoneNumber,\r\n                    roleId: 'R2'\r\n                })\r\n                if (data && data.errCode === 0) {\r\n                    toast.success('Thêm khách hàng mới thành công!')\r\n                    await this.props.handleShowModal();\r\n                    await this.props.handleGetAllUser();\r\n                    await this.props.handleConvertSelect()\r\n                } else {\r\n                    alert(data.errMessage)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            let data = await handleNewUseradmin({\r\n                firstName: this.state.hoten,\r\n                email: this.state.email,\r\n                address: this.state.address,\r\n                phonenumber: this.state.phoneNumber,\r\n                roleId: 'R2'\r\n            })\r\n            if (data && data.errCode === 0) {\r\n                toast.success('Thêm khách hàng mới thành công!')\r\n                await this.props.handleShowModal();\r\n                await this.props.handleGetAllUser();\r\n                await this.props.handleConvertSelect()\r\n            } else {\r\n                alert(data.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowModal} onHide={this.props.handleShowModal} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Thông tin khách hàng</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Họ tên</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'hoten')}\r\n                                    value={this.state.soluong}\r\n                                    onKeyPress={(event) => this.handleEnter(event)}\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Địa chỉ</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'address')}\r\n                                    value={this.state.soluong}\r\n                                    onKeyPress={(event) => this.handleEnter(event)}\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Số điện thoại</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'phoneNumber')}\r\n                                    value={this.state.soluong}\r\n                                    onKeyPress={(event) => this.handleEnter(event)}\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>email</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'email')}\r\n                                    value={this.state.soluong}\r\n                                    onKeyPress={(event) => this.handleEnter(event)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowModal}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalUser);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BillManage.scss'\r\nimport Header from '../../Header/Header';\r\nimport {\r\n    hanlegetAllBill, hanlegetAllBilldetail, handleDeleteBill,\r\n    handleDeleteBilldetail, handleUpdateBill, handleUpdateBilldetail,\r\n    handledeleteBillandBillDetail, handleCreateNewBill\r\n} from '../../../services/BillService'\r\n\r\nimport { hanlegetAlluser, hanlegetAlluserbyemail } from '../../../services/userService';\r\n\r\nimport moment from 'moment/moment';\r\nimport { toast } from 'react-toastify';\r\nimport { withRouter } from 'react-router';\r\nimport Select from 'react-select'\r\nimport ModalUser from './Modal/ModalUser';\r\n\r\n\r\nclass BillManage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBill: [],\r\n            arrBillDetail: [],\r\n            userId: '',\r\n            hoten: '',\r\n            address: '',\r\n            phoneNumber: '',\r\n            email: {},\r\n            ngaydat: '',\r\n            isShowClick: {},\r\n            isShowChoose: false,\r\n            maHD: '',\r\n            tongTien: '',\r\n            arrUser: [],\r\n            arrMailUser: [],\r\n            isShowModal: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbill()\r\n        await this.handleGetAllUser()\r\n        await this.handleConvertSelect()\r\n    }\r\n\r\n    handleConvertSelect = () => {\r\n        let { arrUser } = this.state;\r\n        if (arrUser && arrUser.length > 0) {\r\n            let arr = arrUser.map(item => {\r\n                return {\r\n                    value: item.email,\r\n                    label: item.email,\r\n                }\r\n            })\r\n            this.setState({\r\n                arrMailUser: arr\r\n            })\r\n        }\r\n    }\r\n\r\n    handleGetAllUser = async () => {\r\n        let res = await hanlegetAlluser('ALL');\r\n        if (res && res.errCode === 0) {\r\n            let arr = [];\r\n            let object = {};\r\n\r\n            this.setState({\r\n                arrUser: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllbill = async () => {\r\n        let res = await hanlegetAllBill('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBill: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    hanlegetAllBilldetail = async (maHD) => {\r\n        let res = await hanlegetAllBilldetail(maHD);\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBillDetail: res.data\r\n            })\r\n        }\r\n    }\r\n    handleOnclickDetail = async (item) => {\r\n        await this.hanlegetAllBilldetail(item.id);\r\n        this.setState({\r\n            userId: item.userId,\r\n            hoten: item.UserData && item.UserData.firstName ? item.UserData.firstName : '',\r\n            address: item.UserData && item.UserData.address ? item.UserData.address : '',\r\n            phoneNumber: item.UserData && item.UserData.phoneNumber ? item.UserData.phoneNumber : '',\r\n            email: {\r\n                value: item.UserData && item.UserData.email ? item.UserData.email : '',\r\n                label: item.UserData && item.UserData.email ? item.UserData.email : ''\r\n            },\r\n            ngaydat: moment(item.createdAt).format('HH:mm:ss DD/MM/YYYY'),\r\n            isShowClick: item,\r\n            isShowChoose: item.status === 'S1' ? true : false,\r\n            maHD: item.id,\r\n            tongTien: item.tongTien\r\n        })\r\n\r\n    }\r\n\r\n    handleHuy = async () => {\r\n        let data = await handledeleteBillandBillDetail({\r\n            maHD: this.state.maHD\r\n        });\r\n        if (data && data.errCode === 0) {\r\n            toast.success('Hủy đơn hàng thành công!')\r\n            await this.handlegetAllbill();\r\n        } else {\r\n            alert(data.errMessager)\r\n        }\r\n    }\r\n\r\n    handleXacNhan = async () => {\r\n        let res = await handleUpdateBill({\r\n            tongTien: this.state.tongTien,\r\n            status: 'S2',\r\n            maHD: this.state.maHD\r\n        });\r\n        if (res && res.errCode === 0) {\r\n            toast.success('Xác nhận đơn hàng đã được thanh toán!');\r\n            await this.handlegetAllbill();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    handleEdit = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push({\r\n                pathname: '/system/bill-detail-manage',\r\n                state: {\r\n                    isShowClick: this.state.isShowClick,\r\n                    arrBillDetail: this.state.arrBillDetail\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    handeCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['userId', 'hoten', 'phoneNumber', 'email', 'address'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing parament:${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleCreateBill = async () => {\r\n        let check = this.handeCheckinput();\r\n        if (check === true) {\r\n            let data1 = await handleCreateNewBill({\r\n                userId: this.state.userId,\r\n                status: 'S1',\r\n                tongTien: 0,\r\n            })\r\n            if (data1 && data1.errCode === 0) {\r\n                toast.success('Tạo hóa đơn mới thành công!');\r\n                await this.handlegetAllbill()\r\n            } else {\r\n                alert(data1.errMessage)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChangeSelect = async (selectedOption) => {\r\n        let data = await hanlegetAlluserbyemail(selectedOption.value);\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                email: selectedOption,\r\n                userId: data.data.id,\r\n                hoten: data.data.firstName,\r\n                address: data.data.address,\r\n                phoneNumber: data.data.phoneNumber\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    handleShowModal = () => {\r\n        this.setState({\r\n            isShowModal: !this.state.isShowModal\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrBill, arrBillDetail, isShowClick, isShowChoose, arrMailUser } = this.state;\r\n        return (\r\n            <div className='bill-manage-container'>\r\n                <div className='bill-manage-content'>\r\n                    <div className='bill-manage-header'>\r\n                        <Header />\r\n                    </div>\r\n                    <div className='bill-manage-title'>\r\n                        Quản lý hóa đơn\r\n                    </div>\r\n                    <div className='bill-manage-body'>\r\n                        <div className='bill-info-customer row'>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Mã khách hàng:</label>\r\n                                <input type='text' className='form-control'\r\n                                    value={this.state.userId}\r\n                                    readOnly\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Họ tên:</label>\r\n                                <input type='text' className='form-control'\r\n                                    value={this.state.hoten}\r\n                                    readOnly\r\n\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Địa chỉ:</label>\r\n                                <input type='text' className='form-control'\r\n                                    value={this.state.address}\r\n                                    readOnly\r\n\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Số điện thoại</label>\r\n                                <input type='text' className='form-control'\r\n                                    value={this.state.phoneNumber}\r\n                                    readOnly\r\n\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Email</label>\r\n                                <Select\r\n                                    options={arrMailUser}\r\n                                    onChange={this.handleChangeSelect}\r\n                                    value={this.state.email}\r\n                                />\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>Ngày đặt</label>\r\n                                <input type='text' className='form-control'\r\n                                    value={this.state.ngaydat}\r\n                                    readOnly\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='bill-table-manager'>\r\n\r\n\r\n                            <div className='bill-table'>\r\n                                <table className='table'>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>STT</th>\r\n                                            <th>Mã HĐ</th>\r\n                                            <th>Mã KH</th>\r\n                                            <th>Tên KH</th>\r\n                                            <th>Địa chỉ</th>\r\n                                            <th>Tổng tiền</th>\r\n                                            <th>Trạng thái</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {arrBill && arrBill.length > 0 &&\r\n                                        arrBill.map((item, index) => {\r\n                                            return (\r\n                                                <tr className={isShowClick === item ? 'active' : ''}\r\n                                                    key={index}\r\n                                                    onClick={() => this.handleOnclickDetail(item)}\r\n                                                >\r\n                                                    <td>{index + 1}</td>\r\n                                                    <td>{item.id}</td>\r\n                                                    <td>{item.userId}</td>\r\n                                                    <td>{item.UserData && item.UserData.firstName ? item.UserData.firstName : ''}</td>\r\n                                                    <td>{item.UserData && item.UserData.address ? item.UserData.address : ''}</td>\r\n                                                    <td>{parseFloat(item.tongTien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</td>\r\n                                                    <td>{item.statusData.value}</td>\r\n                                                </tr>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n                            <div className='bill-detail-table'>\r\n                                <table className='table'>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Mã SP</th>\r\n                                            <th>Tên SP</th>\r\n                                            <th>Số Lượng</th>\r\n                                            <th>Tổng tiền</th>\r\n                                            <th>Image</th>\r\n\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {arrBillDetail && arrBillDetail.length > 0 &&\r\n                                        arrBillDetail.map((item, index) => {\r\n                                            return (\r\n                                                <tr>\r\n                                                    <td>{item.bookId}</td>\r\n                                                    <td>{item.BookData.tenSach}</td>\r\n                                                    <td>{item.soLuong}</td>\r\n                                                    <td>{parseFloat(item.thanhTien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</td>\r\n                                                    <td className='img-SP'\r\n                                                        style={{ backgroundImage: `url(${item.image})` }}\r\n                                                    ></td>\r\n\r\n                                                </tr>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n\r\n                        </div>\r\n                        {\r\n                            isShowChoose === true ?\r\n                                <div className='choose-bill'>\r\n                                    <button className='btn-xacnhan'\r\n                                        onClick={() => this.handleXacNhan()}\r\n                                    ><i className=\"fas fa-check-circle\"></i>Xác nhận thanh toán</button>\r\n                                    <button className='btn-sua'\r\n                                        onClick={() => this.handleEdit()}\r\n                                    ><i className=\"far fa-edit\"></i>Sửa</button>\r\n                                    <button className='btn-huy'\r\n                                        onClick={() => this.handleHuy()}\r\n                                    >Hủy</button>\r\n\r\n                                </div>\r\n                                :\r\n                                <></>\r\n                        }\r\n\r\n                        <div className='add-new-bill'>\r\n                            <div className='btn-add-new-bill'>\r\n                                <button className='btn-add-bill'\r\n                                    onClick={() => this.handleCreateBill()}\r\n                                >Tạo hóa đơn mới</button>\r\n                                <button className='btn-add-customer'\r\n                                    onClick={() => this.handleShowModal()}\r\n                                ><i className=\"far fa-user\"></i>Thêm Khách Hàng</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <ModalUser\r\n                    isShowModal={this.state.isShowModal}\r\n                    handleShowModal={this.handleShowModal}\r\n                    handleGetAllUser={this.handleGetAllUser}\r\n                    handleConvertSelect={this.handleConvertSelect}\r\n\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BillManage);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalSoLuong.scss'\r\nimport { handlecountAllTL } from '../../../../services/bookService'\r\n\r\n\r\nclass ModalSoLuong extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            soluong: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            this.props.handleAddBilldetail(+this.state.soluong)\r\n        }\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let statecopy = { ...this.state };\r\n        statecopy[id] = event.target.value;\r\n        this.setState({\r\n            ...statecopy\r\n        })\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['soluong'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`Missing input: ${arr[i]}`);\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        return check;\r\n    }\r\n\r\n    handleEnter = (event) => {\r\n        if (event.key === 'Enter') {\r\n            let check = this.handleCheckinput();\r\n            if (check === true) {\r\n                this.props.handleAddBilldetail(+this.state.soluong);\r\n                this.setState({\r\n                    soluong: ''\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowModal} onHide={this.props.handleShowModal} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Nhập số lượng</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Số lượng</label>\r\n                                <input type='text' className='form-control'\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'soluong')}\r\n                                    value={this.state.soluong}\r\n                                    onKeyPress={(event) => this.handleEnter(event)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowModal}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalSoLuong);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BillDetailManage.scss'\r\nimport { withRouter } from 'react-router';\r\nimport _, { iteratee } from 'lodash';\r\nimport { handlegetAllbookbycart } from '../../../services/bookService'\r\nimport { handleUpdateCreateBillDetail } from '../../../services/BillService'\r\nimport ModalSoLuong from './Modal/ModalSoLuong';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass BillDetaiManage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBillDetail: [],\r\n            maKH: '',\r\n            hoten: '',\r\n            address: '',\r\n            arrBook: [],\r\n            select: 'MA',\r\n            searchText: '',\r\n            arrBookCopy: [],\r\n            selectItem: {},\r\n            number: '',\r\n            isShowEvent: {},\r\n            isShowModal: false,\r\n            arrBillDetailCopy: []\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.location.state !== this.props.location.state) {\r\n            this.setState({\r\n                arrBillDetail: this.props.location.state.arrBillDetail,\r\n                arrBillDetailCopy: [...this.props.location.state.arrBillDetail]\r\n            })\r\n        }\r\n        if (prevState.searchText !== this.state.searchText) {\r\n            let { searchText, arrBook, arrBookCopy } = this.state;\r\n            let filteredBooks = [];\r\n            if (searchText) {\r\n                if (this.state.select === 'MA') {\r\n                    filteredBooks = arrBookCopy.filter((book) =>\r\n                        book.keyMap.toLowerCase().includes(searchText.toLowerCase())\r\n                    );\r\n                } else if (this.state.select === 'Ten') {\r\n                    filteredBooks = arrBookCopy.filter((book) =>\r\n                        book.tenSach.toLowerCase().includes(searchText.toLowerCase())\r\n                    );\r\n                }\r\n\r\n                this.setState({\r\n                    arrBook: filteredBooks\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    arrBook: arrBookCopy\r\n                })\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let { location } = this.props\r\n        await this.handlegetAllbookbycart()\r\n\r\n        if (location && location.state && location.state.arrBillDetail.length > 0) {\r\n            this.setState({\r\n                arrBillDetail: location.state.arrBillDetail\r\n            })\r\n        }\r\n        if (location && location.state && !_.isEmpty(location.state.isShowClick)) {\r\n            this.setState({\r\n                maKH: location.state.isShowClick.UserData.id,\r\n                hoten: location.state.isShowClick.UserData.firstName,\r\n                address: location.state.isShowClick.UserData.address\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllbookbycart = async () => {\r\n        let res = await handlegetAllbookbycart('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data,\r\n                arrBookCopy: [...res.data]\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClose = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/system/bill-manage')\r\n        }\r\n    }\r\n\r\n    handleOnchangeSelect = (event) => {\r\n        this.setState({\r\n            select: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSearchText = (event) => {\r\n        this.setState({\r\n            searchText: event.target.value\r\n        })\r\n    }\r\n\r\n    handleDelete = (item) => {\r\n        let { arrBillDetail, arrBook } = this.state;\r\n        let copyarrBook = [...arrBook];\r\n        let copyarrBilldetail = [...arrBillDetail];\r\n        copyarrBilldetail = copyarrBilldetail.filter(detail => detail !== item);\r\n        copyarrBook.forEach((book) => {\r\n            if (book.keyMap === item.bookId) {\r\n                book.soLuong += +item.soLuong;\r\n            }\r\n        })\r\n        this.setState({\r\n            arrBillDetail: copyarrBilldetail,\r\n            arrBook: copyarrBook\r\n        })\r\n    }\r\n\r\n    handleEdit = (item) => {\r\n        this.setState({\r\n            selectItem: { ...item }\r\n        })\r\n    }\r\n\r\n    handleminus = (selectitem) => {\r\n        let { arrBillDetail, arrBook } = this.state;\r\n        let newCopybook = [...arrBillDetail];\r\n        let copytarrBook = arrBook.map(item => ({ ...item })); // <-- Sao chép tham trị của mảng arrBook\r\n\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.forEach((item) => {\r\n                if (item === selectitem) {\r\n                    if (item.soLuong <= 1) {\r\n                        item.soLuong = 1;\r\n                    } else {\r\n                        item.soLuong--;\r\n                        copytarrBook.forEach((bookItem) => {\r\n                            if (bookItem.keyMap === selectitem.bookId) {\r\n                                bookItem.soLuong++;\r\n                                item.thanhTien = bookItem.discountData && bookItem.discountData.discount\r\n                                    ? (+bookItem.gia - (+bookItem.gia * +bookItem.discountData.discount)) * item.soLuong\r\n                                    : +bookItem.gia * item.soLuong;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            this.setState({\r\n                arrBillDetail: newCopybook,\r\n                arrBook: copytarrBook\r\n            });\r\n        }\r\n    };\r\n\r\n    handleadds = (selectitem) => {\r\n        let { arrBillDetail, arrBook } = this.state;\r\n        let newCopybook = [...arrBillDetail];\r\n        let copytarrBook = arrBook.map(item => ({ ...item })); // <-- Sao chép tham trị của mảng arrBook\r\n\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.forEach((item) => {\r\n                if (item === selectitem) {\r\n                    if (item.soLuong > 0) {\r\n                        item.soLuong++;\r\n                        copytarrBook.forEach((bookItem) => {\r\n                            if (bookItem.keyMap === selectitem.bookId) {\r\n                                if (bookItem.soLuong > 0) {\r\n                                    bookItem.soLuong--;\r\n                                    item.thanhTien = bookItem.discountData && bookItem.discountData.discount\r\n                                        ? (+bookItem.gia - (+bookItem.gia * +bookItem.discountData.discount)) * item.soLuong\r\n                                        : +bookItem.gia * item.soLuong;\r\n                                } else {\r\n                                    alert(`Số lượng trong kho còn lại ${bookItem.soLuong}`);\r\n                                }\r\n                            }\r\n                        });\r\n                        this.setState({\r\n                            arrBillDetail: newCopybook,\r\n                            arrBook: copytarrBook\r\n                        });\r\n                    } else {\r\n                        alert(`Số lượng trong kho còn lại ${item.soLuong}`);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    handleOnChangeInputs = (event, selectitem) => {\r\n        let { arrBillDetail, arrBook } = this.state;\r\n        let newCopybook = [...arrBillDetail];\r\n        let copytarrBook = arrBook.map(item => ({ ...item }));\r\n\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.forEach((item) => {\r\n                if (item.id === selectitem.id) {\r\n                    copytarrBook.forEach((bookItem) => {\r\n                        if (bookItem.keyMap === selectitem.bookId) {\r\n                            if (+event.target.value < +selectitem.soLuong) {\r\n                            }\r\n                            let copyonebook = arrBook.find((book) => book.keyMap === bookItem.keyMap); // Tìm mục sách trong arrBook\r\n                            let soluongbd = copyonebook.soLuong;\r\n                            let diff = selectitem.soLuong - +event.target.value; // Tính sự thay đổi của số lượng trong arrBillDetail\r\n\r\n                            if (+event.target.value <= soluongbd) {\r\n                                bookItem.soLuong += diff; // Cập nhật số lượng sách trong arrBook dựa trên sự thay đổi của số lượng trong arrBillDetail\r\n                                item.soLuong = +event.target.value;\r\n\r\n                                item.thanhTien = bookItem.discountData && bookItem.discountData.discount\r\n                                    ? (+bookItem.gia - (+bookItem.gia * +bookItem.discountData.discount)) * item.soLuong\r\n                                    : +bookItem.gia * item.soLuong;\r\n                            } else {\r\n                                alert('số lượng trong kho không đủ');\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            this.setState({\r\n                arrBillDetail: newCopybook,\r\n                arrBook: copytarrBook\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n\r\n    handleClickrow = (item) => {\r\n        this.setState({\r\n            isShowEvent: item\r\n        })\r\n    }\r\n\r\n\r\n    handleaddBilldetail = () => {\r\n        if (_.isEmpty(this.state.isShowEvent)) {\r\n            alert('bạn chưa chọn sản phẩm để thêm')\r\n        } else {\r\n            this.setState({\r\n                isShowModal: true\r\n            })\r\n        }\r\n    }\r\n\r\n    handleShowModal = () => {\r\n        this.setState({\r\n            isShowModal: !this.state.isShowModal\r\n        })\r\n    }\r\n\r\n\r\n    handleAddBilldetail = (soluong) => {\r\n        let { arrBillDetail, arrBook, arrBookCopy, isShowEvent } = this.state;\r\n        let { location } = this.props;\r\n        let object = {};\r\n        if (isShowEvent.soLuong < soluong) {\r\n            alert('Số lượng trong kho không đủ!')\r\n        } else {\r\n\r\n\r\n            // Check if the isShowEvent already exists in arrBillDetail\r\n            const existingItem = arrBillDetail.find((item) => item.bookId === isShowEvent.keyMap);\r\n\r\n            if (existingItem) {\r\n                // If the item already exists, update its quantity and total price\r\n                existingItem.soLuong += +soluong;\r\n                existingItem.thanhTien = isShowEvent.discountData && isShowEvent.discountData.discount\r\n                    ? parseFloat(existingItem.soLuong * (+isShowEvent.gia - (+isShowEvent.gia * +isShowEvent.discountData.discount)))\r\n                    : parseFloat(existingItem.soLuong * +isShowEvent.gia);\r\n            } else {\r\n                // If the item does not exist, create a new object and add it to arrBillDetail\r\n                object.BookData = { ...isShowEvent };\r\n                object.bookId = isShowEvent.keyMap;\r\n                object.hoaDonId = location.state.isShowClick.id;\r\n                object.image = isShowEvent.image;\r\n                object.soLuong = soluong;\r\n                object.thanhTien = isShowEvent.discountData && isShowEvent.discountData.discount\r\n                    ? parseFloat(soluong * (+isShowEvent.gia - (+isShowEvent.gia * +isShowEvent.discountData.discount)))\r\n                    : parseFloat(soluong * +isShowEvent.gia);\r\n\r\n                arrBillDetail.push(object);\r\n            }\r\n\r\n            // Update arrBook to reduce the quantity of the selected item\r\n            arrBook = arrBook.map((item) => {\r\n                if (item === isShowEvent) {\r\n                    item.soLuong -= soluong;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            // Update the state after all modifications\r\n            this.setState({\r\n                arrBillDetail: arrBillDetail,\r\n                arrBook: arrBook,\r\n                isShowModal: false\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    handleSaveChange = async () => {\r\n        let data = await handleUpdateCreateBillDetail(this.state.arrBillDetail);\r\n        if (data && data.errCode === 0) {\r\n            toast.success('Thay đổi thành công')\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { arrBillDetail, arrBook, selectItem, isShowEvent, isShowModal } = this.state\r\n        return (\r\n            <div className='Bill-detail-manager-container'>\r\n                <div className='Bill-detail-manager-content'>\r\n                    <div className='Bill-detail-manager-header'>\r\n                        <div className='cancel-bill-manager'>\r\n                            <i className=\"fas fa-hand-point-left\"\r\n                                onClick={() => this.handleClose()}\r\n                            ></i>\r\n                            <span>Quay lại trang hóa đơn</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Bill-detail-manager-body'>\r\n                        <div className='bill-detail-manager-info'>\r\n                            <div className='bill-info-customer row'>\r\n                                <div className='col-12'>\r\n                                    <label>Mã khách hàng</label>\r\n                                    <input type='text' className='form-control'\r\n                                        value={this.state.maKH}\r\n                                        readOnly\r\n\r\n                                    />\r\n                                </div>\r\n                                <div className='col-12'>\r\n                                    <label>Họ tên khách hàng</label>\r\n                                    <input type='text' className='form-control'\r\n                                        value={this.state.hoten}\r\n                                        readOnly\r\n\r\n                                    />\r\n                                </div>\r\n                                <div className='col-12'>\r\n                                    <label>Địa chỉ giao hàng</label>\r\n                                    <input type='text' className='form-control'\r\n                                        value={this.state.address}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className='bill-detail-info-product'>\r\n                                <table className='table'>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Mã SP</th>\r\n                                            <th>Tên SP</th>\r\n                                            <th>Số Lượng</th>\r\n                                            <th>Tổng tiền</th>\r\n                                            <th>Image</th>\r\n                                            <th>option</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {arrBillDetail && arrBillDetail.length > 0 &&\r\n                                        arrBillDetail.map((item, index) => {\r\n                                            return (\r\n                                                <tr key={index}>\r\n                                                    <td>{item.bookId}</td>\r\n                                                    <td>{item.BookData.tenSach}</td>\r\n                                                    <td>\r\n                                                        {selectItem.id === item.id ?\r\n                                                            <div className='desgin-input-number'>\r\n                                                                <div className='btn-minus'\r\n                                                                    onClick={() => this.handleminus(item)}\r\n                                                                >\r\n                                                                    <i className=\"fas fa-minus\"></i>\r\n                                                                </div>\r\n                                                                <input type='number'\r\n                                                                    onChange={(event) => this.handleOnChangeInputs(event, item)}\r\n                                                                    value={item.soLuong}\r\n                                                                    className='input-soluong'\r\n                                                                    min={1}>\r\n                                                                </input>\r\n                                                                <div className='btn-adds'\r\n                                                                    onClick={() => this.handleadds(item)}\r\n                                                                >\r\n                                                                    <i className=\"fas fa-plus\"></i>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            :\r\n                                                            <>\r\n                                                                {item.soLuong}\r\n                                                            </>\r\n                                                        }\r\n\r\n                                                    </td>\r\n                                                    <td>{parseFloat(item.thanhTien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</td>\r\n                                                    <td className='img-SP'\r\n                                                        style={{ backgroundImage: `url(${item.image})` }}\r\n                                                    ></td>\r\n                                                    <td className='option'>\r\n                                                        <div className='choose'>\r\n                                                            <span className='delete'\r\n                                                                onClick={() => this.handleDelete(item)}\r\n                                                            >\r\n                                                                <i className=\"fas fa-trash-alt\"></i>\r\n\r\n                                                            </span>\r\n                                                            <span className='edit'\r\n                                                                onClick={() => this.handleEdit(item)}\r\n\r\n                                                            >\r\n\r\n                                                                <i className=\"fas fa-edit\"></i>\r\n\r\n                                                            </span>\r\n\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                    </td>\r\n\r\n                                                </tr>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div className='bill-detail-product'>\r\n                            <div className='bill-detail-search row'>\r\n                                <div className='col-4' >\r\n                                    <select className='form-control'\r\n                                        onChange={(event) => this.handleOnchangeSelect(event)}\r\n                                    >\r\n                                        <option value='MA'>Mã sản phẩm</option>\r\n                                        <option value='Ten'>Tên sản phẩm</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className='text-search col-8'>\r\n                                    <div className='in-text-search form-control'>\r\n                                        <i className=\"fas fa-search\"></i>\r\n                                        <input type='text' placeholder='Tìm kiếm'\r\n                                            value={this.state.searchText}\r\n                                            onChange={(event) => this.handleSearchText(event)}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='bill-detail-list-product'>\r\n                                <table className='table'>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Mã SP</th>\r\n                                            <th>Tên SP</th>\r\n                                            <th>Số Lượng</th>\r\n                                            <th>Đơn giá</th>\r\n                                            <th>Image</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {arrBook && arrBook.length > 0 &&\r\n                                        arrBook.map((item, index) => {\r\n                                            return (\r\n                                                <tr\r\n                                                    className={isShowEvent === item ? 'active' : ''}\r\n                                                    key={index}\r\n                                                    onClick={() => this.handleClickrow(item)}\r\n                                                >\r\n                                                    <td>{item.keyMap}</td>\r\n                                                    <td>{item.tenSach}</td>\r\n                                                    <td>\r\n                                                        {item.soLuong}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {item.discountData && item.discountData.discount\r\n                                                            ?\r\n                                                            parseFloat(item.gia - (item.gia * item.discountData.discount)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })\r\n                                                            :\r\n                                                            parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })\r\n\r\n                                                        }\r\n                                                    </td>\r\n                                                    <td className='img-SP'\r\n                                                        style={{ backgroundImage: `url(${item.image})` }}\r\n                                                    ></td>\r\n                                                </tr>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div className='bill-detail-btn'>\r\n                            <div className='bill-detail-choose'>\r\n                                <button className='btn-add-product'\r\n                                    onClick={() => this.handleaddBilldetail()}\r\n                                >\r\n                                    <i className=\"fas fa-plus-circle\"></i>\r\n                                    Thêm sản phẩm\r\n                                </button>\r\n                                <button className='btn-save-change'\r\n                                    onClick={() => this.handleSaveChange()}\r\n                                >\r\n                                    <i className=\"fas fa-save\"></i>\r\n                                    Lưu thay đổi\r\n                                </button>\r\n                            </div>\r\n                            <ModalSoLuong\r\n                                isShowModal={this.state.isShowModal}\r\n                                handleShowModal={this.handleShowModal}\r\n                                handleAddBilldetail={this.handleAddBilldetail}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BillDetaiManage);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport UserManage from '../containers/System/User/UserManage';\r\nimport ProductManage from '../containers/System/ProductManage';\r\nimport RegisterPackageGroupOrAcc from '../containers/System/RegisterPackageGroupOrAcc';\r\nimport ManageProduct from '../containers/System/ManageProduct';\r\nimport BookManager from '../containers/System/Product/BookManager';\r\nimport NhacungcapManager from '../containers/System/Product/NhacungcapManager';\r\nimport nhaxuatbanManager from '../containers/System/Product/nhaxuatbanManager';\r\nimport TheloaiManager from '../containers/System/Product/TheloaiManager';\r\nimport Discount from '../containers/System/Product/Discount';\r\nimport BookManageInfo from '../containers/System/Product/BookManageInfo';\r\nimport BillManage from '../containers/System/Bill/BillManage';\r\nimport BillDetailManage from '../containers/System/Bill/BillDetailManage';\r\n\r\nclass System extends Component {\r\n    render() {\r\n        const { systemMenuPath } = this.props;\r\n        return (\r\n            <div className=\"system-container\">\r\n                <div className=\"system-list\">\r\n                    <Switch>\r\n                        <Route path=\"/system/user-manage\" component={UserManage} />\r\n                        <Route path=\"/system/book-manage\" component={BookManager} />\r\n                        <Route path=\"/system/nhacungcap-manage\" component={NhacungcapManager} />\r\n                        <Route path=\"/system/nhaxuatban-manage\" component={nhaxuatbanManager} />\r\n                        <Route path=\"/system/theloai-manage\" component={TheloaiManager} />\r\n                        <Route path=\"/system/discount-manage\" component={Discount} />\r\n                        <Route path=\"/system/bill-manage\" component={BillManage} />\r\n                        <Route path=\"/system/bill-detail-manage\" component={BillDetailManage} />\r\n\r\n\r\n                        {/* /system/detail-book-manage */}\r\n                        <Route path=\"/system/detail-book-manage\" component={BookManageInfo} />\r\n\r\n                        <Route path=\"/system/register-package-group-or-account\" component={RegisterPackageGroupOrAcc} />\r\n                        <Route component={() => { return (<Redirect to={systemMenuPath} />) }} />\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        systemMenuPath: state.app.systemMenuPath\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(System);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Modal } from 'reactstrap';\r\n\r\nimport './ConfirmModal.scss';\r\nimport * as actions from \"../store/actions\";\r\nimport { KeyCodeUtils } from \"../utils\";\r\n\r\nclass ConfirmModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.acceptBtnRef = React.createRef();\r\n    }\r\n\r\n    initialState = {\r\n    };\r\n\r\n    state = {\r\n        ...this.initialState\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handlerKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handlerKeyDown);\r\n    }\r\n\r\n    handlerKeyDown = (event) => {\r\n        const keyCode = event.which || event.keyCode;\r\n        if (keyCode === KeyCodeUtils.ENTER) {\r\n            if (!this.acceptBtnRef.current || this.acceptBtnRef.current.disabled) return;\r\n            this.acceptBtnRef.current.click();\r\n        }\r\n    }\r\n\r\n    onAcceptBtnClick = () => {\r\n        const { contentOfConfirmModal } = this.props;\r\n        if (contentOfConfirmModal.handleFunc) {\r\n            contentOfConfirmModal.handleFunc(contentOfConfirmModal.dataFunc);\r\n        }\r\n        this.onClose();\r\n    }\r\n\r\n    onClose = () => {\r\n        this.props.setContentOfConfirmModal({\r\n            isOpen: false,\r\n            messageId: \"\",\r\n            handleFunc: null,\r\n            dataFunc: null\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { contentOfConfirmModal } = this.props;\r\n\r\n        return (\r\n            <Modal isOpen={contentOfConfirmModal.isOpen} className='confirm-modal' centered={true}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">\r\n                        <FormattedMessage id={\"common.confirm\"} />\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                        <button className=\"btn btn-close\" onClick={this.onClose}>\r\n                            <i className=\"fal fa-times\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"modal-body\">\r\n                    <div className=\"confirm-modal-content\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                                <FormattedMessage id={contentOfConfirmModal.messageId ? contentOfConfirmModal.messageId : \"common.confirm-this-task\"} />\r\n                            </div>\r\n\r\n                            <hr />\r\n\r\n                            <div className=\"col-12\">\r\n                                <div className=\"btn-container text-center\">\r\n                                    <button className=\"btn btn-add\" onClick={this.onClose} >\r\n                                        <FormattedMessage id=\"common.close\" />\r\n                                    </button>\r\n                                    <button ref={this.acceptBtnRef} className=\"btn btn-add\" onClick={this.onAcceptBtnClick}>\r\n                                        <FormattedMessage id={\"common.accept\"} />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal >\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        contentOfConfirmModal: state.app.contentOfConfirmModal\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setContentOfConfirmModal: (contentOfConfirmModal) => dispatch(actions.setContentOfConfirmModal(contentOfConfirmModal))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmModal);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './TextSearch.scss'\r\nimport { handlegetAllbookbycart } from '../../../services/bookService'\r\nimport { withRouter } from 'react-router';\r\nimport * as actions from \"../../../store/actions\"\r\nimport { hanlegetAllBillmore } from '../../../services/BillService';\r\n\r\n\r\nclass TextSearch extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            searchText: '',\r\n            filteredBooks: [],\r\n            arrSellingcategory: [],\r\n            arrproductmore: []\r\n        }\r\n    }\r\n\r\n    handleGetALLbook = async () => {\r\n        let res = await handlegetAllbookbycart('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleGetAllpaid = async () => {\r\n        let data = await hanlegetAllBillmore();\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                arrproductmore: data.data\r\n            })\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.searchText !== this.props.searchText) {\r\n            this.setState({\r\n                searchText: this.props.searchText\r\n            })\r\n        }\r\n        if (prevState.searchText !== this.state.searchText) {\r\n            await this.handleSearchBooks()\r\n        }\r\n    }\r\n\r\n    handleSearchBooks = () => {\r\n        let { searchText } = this.state;\r\n        let { arrBook } = this.state;\r\n\r\n        // Lọc sách dựa trên từ khóa tìm kiếm\r\n        if (searchText === '') {\r\n            this.setState({\r\n                filteredBooks: this.state.arrBook.slice(0, 5),\r\n            });\r\n        }\r\n        else {\r\n            const filteredBooks = arrBook.filter((book) =>\r\n                book.tenSach.toLowerCase().includes(searchText.toLowerCase())\r\n            );\r\n\r\n            // Chỉ lấy 5 sản phẩm gần nhất\r\n            const latestBooks = filteredBooks;\r\n\r\n            // Cập nhật kết quả tìm kiếm vào state\r\n            this.setState({\r\n                filteredBooks: latestBooks,\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await this.handleGetALLbook();\r\n        await this.handleGetAllpaid()\r\n        if (this.state.searchText === '') {\r\n            let arrBook = this.state.arrBook.map((book) => {\r\n                let item = this.state.arrproductmore.find((item) => book.keyMap === item.bookId);\r\n                return item ? { ...book, soluong: item.soluong } : book;\r\n            });\r\n            arrBook.sort((a, b) => +b.soluong - +a.soluong)\r\n            this.setState({\r\n                filteredBooks: this.state.arrBook.slice(0, 5),\r\n                arrSellingcategory: arrBook.slice(0, 10)\r\n            })\r\n        }\r\n    }\r\n\r\n    handleBookInfo = async (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n            await this.props.fetchallBookStart(item.keyMap);\r\n\r\n        }\r\n        await this.props.handleOffSearch()\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { arrBook, filteredBooks, arrSellingcategory, searchText } = this.state;\r\n        return (\r\n            <div className='text-search-container'>\r\n                <div className='text-search-content'>\r\n                    <div className={searchText === '' ? 'find-text' : 'find-text active'}>\r\n                        {filteredBooks && filteredBooks.length > 0\r\n                            && filteredBooks.map((item, index) => {\r\n                                return (\r\n                                    <div className='text-name' key={index}\r\n                                        onClick={() => this.handleBookInfo(item)}\r\n                                    >\r\n                                        <div className='text-img-find'></div>\r\n                                        <div className='text-name-product'>{item.tenSach}</div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                    </div>\r\n                    <div className={searchText === '' ? 'selling-category-product' : 'selling-category-product active'}>\r\n                        <div className='selling-category-title'>Danh sách sản phẩm bán chạy</div>\r\n                        <div className='parent-category'>\r\n                            <div className='category-product'>\r\n                                {arrSellingcategory && arrSellingcategory.length > 0\r\n                                    && arrSellingcategory.map((item, index) => {\r\n                                        return (\r\n                                            <div className='item-product' key={index}\r\n                                                onClick={() => this.handleBookInfo(item)}\r\n                                            >\r\n                                                <div className='product-img'\r\n                                                    style={{ backgroundImage: `url(${item.image})` }}\r\n                                                ></div>\r\n                                                <div className='product-name'>{item.tenSach}</div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TextSearch));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomeHeader.scss';\r\nimport { withRouter } from 'react-router';\r\nimport TextSearch from './TextSearch';\r\nimport { handlegetAllbookbycart } from '../../../services/bookService'\r\nimport * as actions from \"../../../store/actions\"\r\nimport { MediaQuery } from 'react-responsive';\r\n\r\nclass HomeHeader extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            soluongproduct: '',\r\n            searchText: '',\r\n            isShowSearch: false,\r\n            isLoggedIns: false\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.copybook !== this.props.copybook) {\r\n            this.setState({\r\n                soluongproduct: this.props.copybook.length\r\n            })\r\n        }\r\n        if (prevProps.arrBook !== this.props.arrBook) {\r\n            await this.handleOffSearch();\r\n        }\r\n        if (prevState.searchText !== this.state.searchText) {\r\n            await this.handleShowSearch()\r\n        }\r\n        if (prevProps.isLoggedIn !== this.props.isLoggedIn) {\r\n            this.setState({\r\n                isLoggedIns: this.props.isLoggedIn\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            soluongproduct: this.props.copybook.length\r\n        })\r\n        document.addEventListener('click', this.handleClickOutside, { capture: true });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('click', this.handleClickOutside, { capture: true });\r\n    }\r\n\r\n    handleShowSearch = async () => {\r\n        this.setState({\r\n            isShowSearch: true\r\n        })\r\n\r\n    }\r\n\r\n    handleOffSearch = async () => {\r\n        this.setState({\r\n            isShowSearch: false\r\n        })\r\n\r\n    }\r\n\r\n    handleHome = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/home')\r\n        }\r\n    }\r\n\r\n    handleCart = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/cart')\r\n        }\r\n    }\r\n\r\n    handleChangeSearch = (event) => {\r\n        this.setState({\r\n            searchText: event.target.value\r\n        })\r\n    }\r\n\r\n    handleClickOutside = (event) => {\r\n        const divSearch = document.querySelector('.homeheader-search');\r\n        if (divSearch && !divSearch.contains(event.target)) {\r\n            this.handleOffSearch();\r\n        }\r\n    }\r\n\r\n    handEnterSearch = async (event) => {\r\n        let { searchText } = this.state;\r\n        if (event.key === 'Enter') {\r\n            const currentPath = window.location.pathname;\r\n            const desiredPath = '/home-search';\r\n            if (currentPath !== desiredPath) {\r\n                this.props.history.push({\r\n                    pathname: desiredPath,\r\n                    state: this.state.searchText\r\n                });\r\n            } else {\r\n                let { searchText } = this.state;\r\n                let { arrBook, originalArrBook } = this.props;\r\n                let filteredBooks = originalArrBook.filter((book) =>\r\n                    book.tenSach.toLowerCase().includes(searchText.toLowerCase())\r\n                );\r\n                await this.props.handleSearch(filteredBooks);\r\n            }\r\n        }\r\n    };\r\n\r\n    handleClickSearch = async () => {\r\n        let { searchText } = this.state;\r\n        const currentPath = window.location.pathname;\r\n        const desiredPath = '/home-search';\r\n        if (currentPath !== desiredPath) {\r\n            this.props.history.push({\r\n                pathname: desiredPath,\r\n                state: this.state.searchText\r\n            });\r\n        } else {\r\n            let { searchText } = this.state;\r\n            let { arrBook, originalArrBook } = this.props;\r\n            let filteredBooks = originalArrBook.filter((book) =>\r\n                book.tenSach.toLowerCase().includes(searchText.toLowerCase())\r\n            );\r\n            await this.props.handleSearch(filteredBooks);\r\n        }\r\n    }\r\n\r\n    handleClickInfoUser = () => {\r\n        let { userInfo } = this.props;\r\n        if (this.props.history) {\r\n            this.props.history.push(\r\n                {\r\n                    pathname: `/user/${userInfo && userInfo.data ? userInfo.data.id : 'id'}`,\r\n                    state: this.props.userInfo\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    handleClickMybill = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/list-bill')\r\n        }\r\n    }\r\n\r\n    handleLogin = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/login')\r\n        }\r\n    }\r\n\r\n    handletopageManager = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/system')\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { soluongproduct, isShowSearch, isLoggedIns } = this.state;\r\n        let { isLoggedIn, userInfo } = this.props;\r\n        console.log('check propsss', this.props)\r\n        return (\r\n            <div className='homeheader-container'>\r\n                <div className='homeheader-content'>\r\n                    <div className='homeheader-left'\r\n                    >\r\n                        <div className='homeheader-logo'\r\n                            onClick={() => this.handleHome()}\r\n\r\n                        >\r\n                        </div>\r\n                        <div className='homeheader-search'>\r\n\r\n                            <div className='search-info'>\r\n                                <span className='icon-search'>\r\n                                    <i className=\"fas fa-search\"></i>\r\n                                </span>\r\n                                <input className='text-search' type='text' placeholder='Tìm kiếm'\r\n                                    onChange={(event) => this.handleChangeSearch(event)}\r\n                                    value={this.state.searchText}\r\n                                    onFocus={() => this.handleShowSearch()}\r\n                                    onKeyPress={(event) => this.handEnterSearch(event)}\r\n                                />\r\n                                <button className='btn-search'\r\n                                    onClick={() => this.handleClickSearch()}\r\n                                >\r\n                                    Tìm kiếm\r\n                                </button>\r\n                            </div>\r\n                            <div className={`div-search ${isShowSearch ? 'active' : ''}`}\r\n                            >\r\n                                <TextSearch\r\n                                    searchText={this.state.searchText}\r\n                                    handleOffSearch={this.handleOffSearch}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className='homeheader-right'>\r\n                        <div className='homeheader-home'\r\n                            onClick={() => this.handleHome()}\r\n                        >\r\n                            <span className='img-home'>\r\n                            </span>\r\n                            <span className='text-home'>Trang chủ</span>\r\n                        </div>\r\n                        <div className='homeheader-parent-login'>\r\n                            {this.props.isLoggedIn === true\r\n                                ?\r\n                                <>\r\n                                    <div className='homeheader-login'>\r\n                                        <span className='img-login'>\r\n                                        </span>\r\n                                        <span className='text-login'>Tài khoản</span>\r\n                                    </div>\r\n                                    <div className='homeheader-chill'>\r\n                                        <div className='homeheader-login-choose'\r\n                                            onClick={() => this.handleClickInfoUser()}\r\n                                        >\r\n                                            <i className=\"far fa-user-circle\"></i>Thông tin tài khoản\r\n                                        </div>\r\n                                        <div className='homeheader-login-choose'\r\n                                            onClick={() => this.handleClickMybill()}\r\n\r\n                                        >\r\n                                            <i className=\"far fa-file-alt\"></i>Thông tin đơn hàng\r\n                                        </div>\r\n                                        {this.props.userInfo && this.props.userInfo.data &&\r\n                                            this.props.userInfo.data.roleId === 'R1' || this.props.userInfo.data.roleId === 'R3'\r\n                                            ?\r\n                                            <div className='homeheader-login-choose'\r\n                                                onClick={() => this.handletopageManager()}\r\n                                            >\r\n                                                <i className=\"fas fa-tasks\"></i>Trang quản lý\r\n                                            </div>\r\n                                            :\r\n                                            <></>\r\n                                        }\r\n                                        <div className='homeheader-login-choose'\r\n                                            onClick={this.props.processLogout}\r\n                                        >\r\n                                            <i className=\"fas fa-sign-out-alt\"></i>Đăng xuất\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className='homeheader-login'\r\n                                        onClick={() => this.handleLogin()}\r\n                                    >\r\n                                        <span className='img-login'>\r\n                                        </span>\r\n                                        <span className='text-login'>Tài khoản</span>\r\n                                    </div>\r\n                                </>\r\n                            }\r\n\r\n                        </div>\r\n\r\n                        <div className='homeheader-cart'\r\n                            onClick={() => this.handleCart()}\r\n                        >\r\n                            <div className='img-cart'></div>\r\n                            {soluongproduct\r\n                                ?\r\n                                <span className='count-product'>{soluongproduct ? soluongproduct : ''}</span>\r\n                                :\r\n                                <></>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        copybook: state.book.copybook,\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInfo: state.user.userInfo,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        processLogout: () => dispatch(actions.processLogout()),\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomeHeader));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomeProduct.scss'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { handlegetAllBook, handlegetAllbookbycart } from '../../../services/bookService'\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport { withRouter } from 'react-router';\r\nimport * as actions from \"../../../store/actions\"\r\n\r\n\r\nconst override = {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    borderColor: \"red\",\r\n};\r\n\r\nclass HomeProduct extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            isShowLoding: true,\r\n            arrBookDiscount: []\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.arrBook !== this.props.arrBook) {\r\n            this.setState({\r\n                arrBook: this.props.arrBook\r\n            })\r\n        }\r\n        if (prevState.arrBook !== this.state.arrBook) {\r\n\r\n            await this.handleaddarrTime();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleSetarrBook();\r\n        // await this.handleaddarrTime();\r\n\r\n    }\r\n\r\n    handleSetarrBook = () => {\r\n        if (this.props.arrBook && this.props.arrBook.length > 0) {\r\n            this.setState({\r\n                arrBook: this.props.arrBook\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleloadingdata = () => {\r\n        this.setState({\r\n            isShowLoding: false\r\n        })\r\n    }\r\n\r\n\r\n    handlegetAllbook = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllbookbycart('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                this.setState({\r\n                    arrBook: arrbook.data\r\n                })\r\n\r\n                await this.handleloadingdata();\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    handleBookInfo = async (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n            await this.props.fetchallBookStart(item.keyMap);\r\n\r\n        }\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBookDiscount, arrBook } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrBookDiscount: arr\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    render() {\r\n        let { isShowLoding, arrBookDiscount, arrBook } = this.state;\r\n        return (\r\n            <div className='homeproduct-container'>\r\n                <div className='homeproduct-content'>\r\n                    {arrBookDiscount && arrBookDiscount.length > 0\r\n                        && arrBookDiscount.map((item, index) => {\r\n                            let mount = '';\r\n                            let mountDiscount = '';\r\n                            if (item.gia) {\r\n                                mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                if (item.discountData && item.discountData.discount) {\r\n                                    mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n                                }\r\n\r\n                            }\r\n                            return (\r\n                                <div className='book-info' key={index}\r\n                                    onClick={() => this.handleBookInfo(item)}\r\n                                >\r\n                                    <div className='book-info-img' style={{ backgroundImage: `url(${item.image})` }}>\r\n                                    </div>\r\n                                    <div className='book-info-name'>\r\n                                        {item.tenSach}\r\n                                    </div>\r\n                                    {item.discountData && item.discountData.discount &&\r\n                                        this.convertTimeToMilliseconds(item.discountData.timeDiff) > 0\r\n                                        ?\r\n                                        <div className='book-info-gia'>\r\n                                            <span className='book-info-gia-discount'>Giá:{mountDiscount}</span>\r\n                                            <span className='book-info-gia-bd'>{mount}</span>\r\n                                        </div>\r\n                                        :\r\n                                        <div className='book-info-gia-not-discount'>\r\n                                            Giá:{mount}\r\n                                        </div>\r\n                                    }\r\n\r\n\r\n                                    {item.discountData && item.discountData.discount &&\r\n                                        this.convertTimeToMilliseconds(item.discountData.timeDiff) > 0\r\n                                        ?\r\n                                        <div className='book-info-discount'>\r\n                                            {`-${item.discountData.discount * 100}%`}\r\n                                            <i className=\"fas fa-tag\"></i></div>\r\n                                        :\r\n                                        <div></div>\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomeProduct));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookSlider.scss';\r\nimport Slider from \"react-slick\";\r\nimport { handlegetAllBook, handlegetAllBookTL } from '../../../services/bookService';\r\nimport { BeatLoader } from 'react-spinners';\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nconst override = {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    borderColor: \"red\",\r\n};\r\n\r\nvar settings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 300,\r\n    slidesToShow: 6,\r\n    slidesToScroll: 6\r\n};\r\n\r\nclass BookSlider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            arrBookDiscount: [],\r\n            isShowLoding: true,\r\n            arrBookFind: [],\r\n            book: {}\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.bookoj !== this.props.bookoj) {\r\n            await this.handlegetAllBookTL(this.props.bookoj.theloaiData.keyMap)\r\n            await this.handleaddarrTime()\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllBookTL = async (TL) => {\r\n        let res = await handlegetAllBookTL(TL);\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data\r\n            })\r\n\r\n            await this.handleloadingdata();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    handlegetBookTL = () => {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n    }\r\n\r\n    handleloadingdata = () => {\r\n        this.setState({\r\n            isShowLoding: false\r\n        })\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBook, arrBookDiscount } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n\r\n                this.setState({\r\n                    arrBookDiscount: arr\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n\r\n    handleBookInfo = (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrBookDiscount, isShowLoding } = this.state;\r\n\r\n        return (\r\n            <div className='book-slider-container'>\r\n                <div className='book-slider-content'>\r\n                    <Slider {...settings}>\r\n                        {arrBookDiscount && arrBookDiscount.length > 0\r\n                            && arrBookDiscount.map((item, index) => {\r\n                                let mount = '';\r\n                                let mountDiscount = '';\r\n                                if (item.gia) {\r\n                                    mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                    if (item.discountData && item.discountData.discount) {\r\n                                        mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n                                    }\r\n\r\n                                }\r\n                                return (\r\n                                    <div className='book-slider-info'\r\n                                        onClick={() => this.handleBookInfo(item)}\r\n                                    >\r\n                                        <div className='slider-img'\r\n                                            style={{ backgroundImage: `url(${item.image})` }}\r\n                                        ></div>\r\n                                        <div className='silder-ten-sach'>{item.tenSach}</div>\r\n                                        {item.discountData && item.discountData.discount &&\r\n                                            this.convertTimeToMilliseconds(item.discountData.timeDiff) > 0\r\n                                            ?\r\n                                            <>\r\n                                                <div className='product-gia'>\r\n                                                    <span className='gia'>\r\n                                                        {mountDiscount}\r\n                                                    </span>\r\n                                                    <span className='discount'>{`- ${item.discountData.discount * 100}%`}</span>\r\n\r\n                                                </div>\r\n                                            </>\r\n\r\n                                            :\r\n                                            <div className='product-gia'>\r\n                                                <span className='gia'>{mount}</span>\r\n                                            </div>\r\n\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Slider>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(BookSlider));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './SliderManager.scss'\r\nimport Slider from 'react-slick';\r\nimport * as actions from \"../../store/actions\"\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nclass SliderManager extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            slider: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.arrBookTL !== this.props.arrBookTL) {\r\n            this.slider.slickGoTo(0);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    handleBookInfo = async (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n            await this.props.fetchallBookStart(item.keyMap);\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { arrBookTL, currentIndex } = this.props\r\n        var settings = {\r\n            dots: false,\r\n            infinite: false,\r\n            speed: 500,\r\n            slidesToShow: 5,\r\n            slidesToScroll: 2,\r\n            initialSlide: currentIndex\r\n        };\r\n\r\n        return (\r\n            <div className='slider-container'>\r\n                <div className='slider-content'>\r\n                    <Slider {...settings} ref={(slider) => (this.slider = slider)}>\r\n                        {arrBookTL && arrBookTL.length > 0\r\n                            && arrBookTL.map((item, index) => {\r\n                                return (\r\n                                    <div className='book-slider-info'\r\n                                        onClick={() => this.handleBookInfo(item)}\r\n                                    >\r\n                                        <div className='slider-img'\r\n                                            style={{ backgroundImage: `url(${item.image})` }}\r\n                                        ></div>\r\n                                        <div className='silder-ten-sach'>{item.tenSach}</div>\r\n                                        {item.discountData && item.discountData.discount && item.discountData.timeDiff &&\r\n                                            this.convertTimeToMilliseconds(item.discountData.timeDiff) > 0\r\n                                            ?\r\n                                            <div className='book-info-discount'>\r\n                                                {`-${item.discountData.discount * 100}%`}\r\n                                                <i className=\"fas fa-tag\"></i></div>\r\n                                            :\r\n                                            <div></div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Slider>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SliderManager));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomeBody.scss'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { handlegetAllbookbycart, handlegetAllTL, handlegetAllBookTL } from '../../../services/bookService'\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport { withRouter } from 'react-router';\r\nimport * as actions from \"../../../store/actions\"\r\nimport HomeProduct from './HomeProduct';\r\nimport BookSlider from '../Product/BookSlider';\r\nimport Slider from 'react-slick';\r\nimport SliderManager from '../SliderManager';\r\n\r\n\r\nconst override = {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    borderColor: \"red\",\r\n};\r\n\r\nvar settings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 2,\r\n\r\n};\r\n\r\nclass HomeBody extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            isShowLoding: true,\r\n            arrBookDiscount: [],\r\n            arrTL: [],\r\n            arrBookTL: [],\r\n            selectTL: false,\r\n            currentIndex: 0,\r\n            infoarrDiscount: []\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.arrBookDiscount !== this.state.arrBookDiscount) {\r\n            let arr = [];\r\n            let { arrBookDiscount } = this.state;\r\n            if (arrBookDiscount && arrBookDiscount.length > 0) {\r\n                arrBookDiscount.map(item => {\r\n                    let object = { ...item };\r\n                    if (object.discountData) {\r\n                        item = object;\r\n                        arr.push(item)\r\n                    }\r\n                })\r\n            }\r\n            this.setState({\r\n                arrBookTL: this.state.arrBookDiscount.filter(item =>\r\n                    item.theloaiData.keyMap === 'TL1'\r\n                ),\r\n                infoarrDiscount: arr\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n        await this.handlegetAllTL();\r\n        await this.handleaddarrTime();\r\n\r\n    }\r\n\r\n    handleloadingdata = () => {\r\n        this.setState({\r\n            isShowLoding: false\r\n        })\r\n    }\r\n\r\n    handlegetAllBookTL = async (TL) => {\r\n        let arr = await handlegetAllBookTL(TL);\r\n        if (arr && arr.errCode === 0) {\r\n            this.setState({\r\n                arrBookTL: arr.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllbook = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllbookbycart('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                this.setState({\r\n                    arrBook: arrbook.data\r\n                })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    handleShowTL = async (book) => {\r\n        let { arrBookDiscount, arrTL } = this.state;\r\n        let arr = [...arrBookDiscount];\r\n        let updatedArrTL = arrTL.map(item => {\r\n            if (item.keyMap === book.keyMap) {\r\n                return { ...item, select: true };\r\n            } else {\r\n                return { ...item, select: false };\r\n            }\r\n        });\r\n        if (arr && arr.length > 0) {\r\n            arr = arr.filter(item =>\r\n                item.theloaiData.keyMap === book.keyMap\r\n            );\r\n            this.setState({\r\n                arrBookTL: arr,\r\n                arrTL: updatedArrTL,\r\n            });\r\n        } else {\r\n            arr = arr.filter(item =>\r\n                item.theloaiData.keyMap === 'TL1'\r\n            );\r\n            this.setState({\r\n                arrBookTL: arr,\r\n                arrTL: updatedArrTL,\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    handlegetAllTL = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllTL('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                let arr = arrbook.data.map((item, index) => {\r\n                    return { ...item, select: index === 0 }\r\n                })\r\n                this.setState({\r\n                    arrTL: arr\r\n                })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBook, arrBookDiscount, arrBookTL, selectTL } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrBookDiscount: arr,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    handleShowMore = (books) => {\r\n        if (this.props.history) {\r\n            this.props.history.push({\r\n                pathname: '/show-more-books',\r\n                state: books\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { arrTL, infoarrDiscount } = this.state;\r\n        return (\r\n            <div className='homebody-container'>\r\n                <div className='homebody-content'>\r\n                    <div className='trending-buy'>\r\n                        <div className='trending-title'>Sản phẩm theo xu hướng</div>\r\n                        <div className='trending-info'>\r\n                            <HomeProduct\r\n                                arrBook={this.state.arrBookDiscount}\r\n                            />\r\n                        </div>\r\n                        <div className='show-more'>\r\n                            <button className='btn-show-more'\r\n                                onClick={() => this.handleShowMore(this.state.arrBookDiscount)}\r\n                            >Xem thêm</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='product-category'>\r\n                        <div className='product-category-title'>Danh mục sản phẩm</div>\r\n                        <div className='product-category-info'>\r\n                            {arrTL && arrTL.length > 0\r\n                                && arrTL.map((item, index) => {\r\n                                    return (\r\n                                        <>\r\n                                            {item.select === false\r\n                                                ?\r\n                                                <div className='product-category-show' key={index}\r\n                                                    onClick={() => this.handleShowTL(item)}\r\n                                                >\r\n                                                    <span>{item.theLoai}</span>\r\n                                                </div>\r\n                                                :\r\n                                                <div className='product-category-show action' key={index}\r\n                                                    onClick={() => this.handleShowTL(item)}\r\n                                                >\r\n                                                    <span>{item.theLoai}</span>\r\n                                                </div>\r\n                                            }\r\n                                        </>\r\n\r\n\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className='product-category-slider'>\r\n                            <div className='show-slider'>\r\n                                <SliderManager\r\n                                    arrBookTL={this.state.arrBookTL}\r\n                                    currentIndex={this.state.currentIndex}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='show-more'>\r\n                            <button className='btn-show-more'\r\n                                onClick={() => this.handleShowMore(this.state.arrBookTL)}\r\n                            >Xem thêm</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='discount-category'>\r\n                        <div className='discount-category-title'>Sản phẩm giảm giá</div>\r\n                        <div className='product-category-slider'>\r\n                            <div className='show-slider'>\r\n                                <SliderManager\r\n                                    arrBookTL={this.state.infoarrDiscount}\r\n                                    currentIndex={this.state.currentIndex}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='show-more'>\r\n                            <button className='btn-show-more'\r\n                                onClick={() => this.handleShowMore(this.state.infoarrDiscount)}\r\n\r\n                            >Xem thêm</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='selling-category'>\r\n                        <div className='selling-category-title'>Sản phẩm bán chạy</div>\r\n                        <div className='selling-category-info'>\r\n                            <div className='selling-category-show'\r\n                            // onClick={() => this.handleShowTL(item)}\r\n                            >\r\n                                <span>Theo tuần</span>\r\n                            </div>\r\n                            <div className='selling-category-show'\r\n                            // onClick={() => this.handleShowTL(item)}\r\n                            >\r\n                                <span>Theo tháng</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='product-category-slider'>\r\n                            <div className='show-slider'>\r\n                                <SliderManager\r\n                                    arrBookTL={this.state.arrBookTL}\r\n                                    currentIndex={this.state.currentIndex}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='show-more'>\r\n                            <button className='btn-show-more'>Xem thêm</button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <BeatLoader\r\n                        color={'gray'}\r\n                        loading={isShowLoding}\r\n                        cssOverride={override}\r\n                        size={15}\r\n                        aria-label=\"Loading Spinner\"\r\n                        data-testid=\"BarLoader\"\r\n                    /> */}\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomeBody));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Bookcategory.scss'\r\nimport { handleGetallCodeByType } from '../../../services/userService'\r\nimport { handlegetAllBookNCC } from '../../../services/bookService'\r\n\r\n\r\nclass Bookcategory extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrSanPham: [],\r\n            sanpham: '',\r\n            selectedindex: {},\r\n            isShowmore: false,\r\n            NCC: '',\r\n            selectedMount: '',\r\n            frommount: '',\r\n            aboutmount: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.selectedMount !== this.state.selectedMount) {\r\n            this.props.handlegetMount(this.state.selectedMount)\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleGetallCodeByType();\r\n    }\r\n\r\n    handleGetallCodeByType = async () => {\r\n        let arrSanPham = await handleGetallCodeByType('sanPham');\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrSanPham: arrSanPham.data,\r\n                sanpham: arrSanPham && arrSanPham.data.length > 0 ? arrSanPham.data[0].keyMap : ''\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClickIndex = async (item) => {\r\n        this.setState({\r\n            selectedindex: item\r\n        })\r\n        await this.props.handleselectSP(item.keyMap)\r\n    }\r\n\r\n    handleShowmore = () => {\r\n        this.setState({\r\n            isShowmore: !this.state.isShowmore\r\n        })\r\n    }\r\n\r\n    handleChooseNCC = (item) => {\r\n        this.setState({\r\n            NCC: item.keyMap\r\n        })\r\n        this.props.handleselectNCC(item.keyMap)\r\n    }\r\n\r\n    handleSelectedMount = (mount) => {\r\n        this.setState({\r\n            selectedMount: mount\r\n        })\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleApdung = async () => {\r\n        await this.props.handlefmounta(this.state.frommount, this.state.aboutmount)\r\n\r\n        this.setState({\r\n            selectedMount: `${this.state.frommount}-${this.state.aboutmount}`\r\n        })\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { arrSanPham, selectedindex, isShowmore, NCC, selectedMount } = this.state;\r\n        return (\r\n            <div className='book-category-container'>\r\n                <div className='book-category-content'>\r\n                    <div className='category-product'>\r\n                        <div className='category-product-title'>Danh mục sản phẩm</div>\r\n                        {\r\n                            arrSanPham && arrSanPham.length > 0 &&\r\n                            arrSanPham.map((item, index) => {\r\n                                return (\r\n                                    <div className={selectedindex === item ? 'category-product-product action' : 'category-product-product'}\r\n                                        key={index}\r\n                                        onClick={() => this.handleClickIndex(item)}\r\n                                    >{item.value}</div>\r\n\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className='category-mount'>\r\n                        <div className='category-mount-title'>Giá</div>\r\n                        <div className={selectedMount === 'duoi-40000' ? 'item active' : 'item'}\r\n                            onClick={() => this.handleSelectedMount('duoi-40000')}\r\n                        >\r\n                            <span className='item-mount'>Dưới 40.000</span>\r\n                        </div>\r\n                        <div className={selectedMount === '40000-120000' ? 'item active' : 'item'}\r\n                            onClick={() => this.handleSelectedMount('40000-120000')}\r\n\r\n                        >\r\n                            <span className='item-mount'>40.000 &rarr; 120.000</span>\r\n                        </div>\r\n                        <div className={selectedMount === '120000-280000' ? 'item active' : 'item'}\r\n                            onClick={() => this.handleSelectedMount('120000-280000')}\r\n\r\n                        >\r\n                            <span className='item-mount'>120.000 &rarr; 280.000</span>\r\n                        </div>\r\n                        <div className={selectedMount === 'tren-280000' ? 'item active' : 'item'}\r\n                            onClick={() => this.handleSelectedMount('tren-280000')}\r\n\r\n                        >\r\n                            <span className='item-mount'>Trên 280.000</span>\r\n                        </div>\r\n                        <div className='text-khoang-gia'>Chọn khoảng giá</div>\r\n                        <div className='choose-khoang-gia'>\r\n                            <input type='text' min={0} className='gia-tu'\r\n                                placeholder='Giá từ'\r\n                                value={this.state.frommount}\r\n                                onChange={(event) => this.handleOnChangeInput(event, 'frommount')}\r\n\r\n                            />\r\n                            <span>-</span>\r\n                            <input type='text' min={0} className='gia-den'\r\n                                placeholder='Giá đến'\r\n                                value={this.state.aboutmount}\r\n                                onChange={(event) => this.handleOnChangeInput(event, 'aboutmount')}\r\n\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='ap-dung'\r\n                            onClick={() => this.handleApdung()}\r\n                        >\r\n                            <span>Áp dụng</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className={isShowmore === false ? 'nha-cung-cap' : 'nha-cung-cap showmoreNCC'}>\r\n                        <div className='nha-cung-cap-title'>Nhà cung cấp</div>\r\n                        {this.props.arrNCC && this.props.arrNCC.length > 0\r\n                            && this.props.arrNCC.map((item, index) => {\r\n                                return (\r\n                                    <div className='nha-cung-cap-item' key={index}>\r\n                                        <input type='checkbox'\r\n                                            checked={NCC === item.keyMap}\r\n                                            onClick={() => this.handleChooseNCC(item)}\r\n                                        ></input>\r\n                                        <span>{item.tenNCC}</span>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                    </div>\r\n                    {\r\n                        isShowmore === false\r\n                            ?\r\n                            <div className='show-more'\r\n                                onClick={() => this.handleShowmore()}\r\n                            >Xem thêm<i class=\"fas fa-chevron-down\"></i></div>\r\n                            :\r\n                            <div className='show-more'\r\n                                onClick={() => this.handleShowmore()}\r\n                            >Thu gọn<i class=\"fas fa-chevron-up\"></i></div>\r\n                    }\r\n\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Bookcategory);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomeBackgroup.scss'\r\nimport Slider from 'react-slick';\r\nimport { hanlegetAllBillmore } from '../../../services/BillService';\r\n\r\n\r\nclass HomeBackgroup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            sotfarr: 'banchay',\r\n            arrproductmore: []\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let data = await hanlegetAllBillmore();\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                arrproductmore: data.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSoftArr = async (id) => {\r\n        let { arrproductmore } = this.state;\r\n        this.setState({\r\n            sotfarr: id\r\n        })\r\n        let arrBook = [...this.props.arrBook];\r\n        if (id === 'banchay') {\r\n            arrBook = this.props.originalArrBook.map((book) => {\r\n                let item = arrproductmore.find((item) => book.keyMap === item.bookId);\r\n                return item ? { ...book, soluong: item.soluong } : book;\r\n            });\r\n            arrBook.sort((a, b) => +b.soluong - +a.soluong)\r\n        }\r\n        else if (id === 'thapdencao') {\r\n            arrBook.sort((a, b) => a.gia - b.gia)\r\n        } else if (id === 'caodenthap') {\r\n            arrBook.sort((a, b) => b.gia - a.gia)\r\n        }\r\n        await this.props.handleSort(arrBook)\r\n    }\r\n\r\n\r\n    render() {\r\n        var settings = {\r\n            dots: false,\r\n            infinite: true,\r\n            speed: 300,\r\n            slidesToShow: 2,\r\n            slidesToScroll: 2,\r\n        };\r\n        let { sotfarr } = this.state;\r\n        return (\r\n            <div className='home-back-group-container'>\r\n                <div className='home-back-group-content'>\r\n                    <div className='home-back-group-title'>Nhà Sách Tiki</div>\r\n                    <div className='home-back-group-slider'>\r\n                        <Slider {...settings} autoplay='2000'>\r\n                            <div className='div-1'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>Nhà sách NHÃ NAM</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className='div-2'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>Nhà sách FAHASA</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='div-3'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>ZENBOOKS</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='div-4'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>BACHVIET BOOKS</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='div-5'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>FUTUREBOOK</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='div-6'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>DELI</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='div-7'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>FIRST NEW</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className='div-8'>\r\n                                <div className='div-child'>\r\n                                    <div className='child-left'>\r\n                                        <div className='img'></div>\r\n                                    </div>\r\n                                    <div className='child-right'>\r\n                                        <div className='text-ncc'>THIÊN LONG</div>\r\n                                        <div className='product-ncc'>\r\n                                            <div className='img-1'></div>\r\n                                            <div className='img-2'></div>\r\n                                            <div className='img-3'></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Slider>\r\n                    </div>\r\n                    <div className='home-back-group-category'>\r\n                        <div className={sotfarr === 'banchay' ? 'ban-chay active' : 'ban-chay'}\r\n                            onClick={() => this.handleSoftArr('banchay')}\r\n                        >\r\n                            <span>Bán Chạy</span>\r\n                        </div>\r\n                        <div className={sotfarr === 'caodenthap' ? 'gia-cao-den-thap active' : 'gia-cao-den-thap'}\r\n                            onClick={() => this.handleSoftArr('caodenthap')}\r\n\r\n                        >\r\n                            <span>Giá Cao Đến Thấp</span>\r\n                        </div>\r\n                        <div className={sotfarr === 'thapdencao' ? 'gia-thap-den-cao active' : 'gia-thap-den-cao'}\r\n                            onClick={() => this.handleSoftArr('thapdencao')}\r\n                        >\r\n                            <span>Giá Thấp Đến Cao</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeBackgroup);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './ArrProduct.scss'\r\nimport { withRouter } from 'react-router';\r\nimport * as actions from \"../../../store/actions\"\r\n\r\n\r\nclass ArrProduct extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.arrBook !== this.props.arrBook) {\r\n            this.setState({\r\n                arrBook: this.props.arrBook\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n\r\n    handleBookInfo = async (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n            await this.props.fetchallBookStart(item.keyMap);\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { arrBook } = this.state;\r\n        return (\r\n            <div className='arr-product-container'>\r\n                <div className='arr-product-content'>\r\n                    {arrBook && arrBook.length > 0\r\n                        ? arrBook.map((item, index) => {\r\n                            let mount = '';\r\n                            let mountDiscount = '';\r\n                            if (item.gia) {\r\n                                mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                if (item.discountData && item.discountData.discount) {\r\n                                    mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n                                }\r\n\r\n                            }\r\n                            return (\r\n                                <div className='product-info' key={index}\r\n                                    onClick={() => this.handleBookInfo(item)}\r\n                                >\r\n                                    <div className='product-image'\r\n                                        style={{ backgroundImage: `url(${item.image})` }}\r\n\r\n                                    ></div>\r\n                                    <div className='product-name-book'>{item.tenSach}</div>\r\n                                    {item.discountData && item.discountData.discount &&\r\n                                        this.convertTimeToMilliseconds(item.discountData.timeDiff) > 0\r\n                                        ?\r\n                                        <>\r\n                                            <div className='product-gia'>\r\n                                                <span className='gia'>\r\n                                                    {mountDiscount}\r\n                                                </span>\r\n                                                <span className='discount'>{`- ${item.discountData.discount * 100}%`}</span>\r\n\r\n                                            </div>\r\n                                            <div className='gia-ban-dau'>{mount}</div>\r\n                                        </>\r\n\r\n                                        :\r\n                                        <div className='product-gia'>\r\n                                            <span className='gia'>{mount}</span>\r\n                                        </div>\r\n\r\n                                    }\r\n\r\n                                </div>\r\n                            )\r\n                        })\r\n                        :\r\n                        <></>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ArrProduct));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomePage.scss';\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport HomeBody from './HomeBody';\r\nimport Bookcategory from '../Product/Bookcategory';\r\nimport HomeBackgroup from './HomeBackgroup';\r\nimport HomeProduct from './HomeProduct';\r\nimport ArrProduct from './ArrProduct';\r\nimport {\r\n    handlegetAllbookbycart, handlegetAllTL, handlegetAllBookTL,\r\n    handlegetAllBookbySP, handlegetAllNCC, handlegetAllNCCbySP,\r\n    handlegetAllBookNCC\r\n} from '../../../services/bookService'\r\nimport ReactPaginate from 'react-paginate';\r\nimport * as actions from \"../../../store/actions\"\r\n\r\n\r\n\r\nclass HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            arrBookDiscount: [],\r\n            sanpham: '',\r\n            arrBookPaginate: [],\r\n            currentPage: 0,\r\n            arrNCC: [],\r\n            NCC: '',\r\n            originalArrBook: [],\r\n            frommount: '',\r\n            aboutmount: '',\r\n            isShowBody: false\r\n        }\r\n    }\r\n\r\n    handleGetAllNCC = async () => {\r\n        let res = await handlegetAllNCC('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllBookNCC = async () => {\r\n        let res = await handlegetAllBookNCC(this.state.NCC);\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data,\r\n                originalArrBook: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllNCCbySP = async () => {\r\n        let arrSanPham = await handlegetAllNCCbySP(this.state.sanpham);\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: arrSanPham.data,\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllBookbySP = async () => {\r\n        let arrbook = await handlegetAllBookbySP(this.state.sanpham);\r\n        if (arrbook && arrbook.errCode === 0) {\r\n            this.setState({\r\n                arrBook: arrbook.data,\r\n                originalArrBook: arrbook.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllbook = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllbookbycart('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                this.setState({\r\n                    arrBook: arrbook.data,\r\n                    currentPage: 0,\r\n                    originalArrBook: arrbook.data\r\n                })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    handlegetMount = (mount) => {\r\n        let { originalArrBook } = this.state;\r\n        let filteredArrBook = []\r\n\r\n\r\n        if (mount === 'duoi-40000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia < 40000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === '40000-120000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 40000 && item.gia < 120000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === '120000-280000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 120000 && item.gia < 280000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === 'tren-280000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 280000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === `${this.state.frommount}-${this.state.aboutmount}`) {\r\n            let frommount = +this.state.frommount;\r\n            let aboutmount = +this.state.aboutmount;\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= frommount && item.gia < aboutmount);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            arrBook: filteredArrBook.length > 0 ? filteredArrBook : []\r\n        });\r\n    }\r\n\r\n    handlefmounta = (fmount, amount) => {\r\n        this.setState({\r\n            frommount: fmount,\r\n            aboutmount: amount\r\n        })\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBook, arrBookDiscount, arrBookTL, selectTL, arrBookPaginate } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrBookDiscount: arr,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.sanpham !== this.state.sanpham) {\r\n            await this.handlegetAllNCCbySP();\r\n            await this.handlegetAllBookbySP();\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n        }\r\n        if (\r\n            prevState.arrBook !== this.state.arrBook ||\r\n            prevState.originalArrBook !== this.state.originalArrBook\r\n        ) {\r\n            await this.handleaddarrTime();\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n        // await this.handlegetAllTL();\r\n        await this.handleGetAllNCC();\r\n        await this.handleaddarrTime();\r\n    }\r\n\r\n    handleselectSP = (keyMap) => {\r\n        this.setState({\r\n            sanpham: keyMap,\r\n        }, async () => {\r\n            await this.handlegetAllBookbySP();\r\n        })\r\n    }\r\n\r\n    handleselectNCC = (keyMap) => {\r\n        this.setState({\r\n            NCC: keyMap,\r\n        }, async () => {\r\n            await this.handlegetAllBookNCC();\r\n        })\r\n    }\r\n\r\n    handlePaginate = (page) => {\r\n        this.setState({\r\n            arrBookDiscount: page\r\n        })\r\n    }\r\n\r\n    handlePageChange = (selectedPage) => {\r\n        let currentPage = selectedPage.selected\r\n        let pageCount = Math.ceil(this.state.arrBookDiscount.length / 25);\r\n        if (currentPage >= pageCount) {\r\n            this.setState({\r\n                currentPage: 0\r\n            });\r\n        } else {\r\n            this.setState({\r\n                currentPage: currentPage\r\n            });\r\n        }\r\n    };\r\n\r\n    handleisShowBody = (isShowSearch) => {\r\n    }\r\n\r\n\r\n    handleSearch = (arrAfter) => {\r\n        this.setState({\r\n            arrBook: arrAfter\r\n        })\r\n    }\r\n\r\n    handleSort = (arrAfter) => {\r\n        this.setState({\r\n            arrBook: arrAfter\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const itemsPerPage = 25;\r\n\r\n        const data = this.state.arrBookDiscount\r\n        const pageCount = Math.ceil(data.length / itemsPerPage);\r\n        let offset = this.state.currentPage * itemsPerPage;\r\n        let currentData = data.slice(offset, offset + itemsPerPage);\r\n        let { isShowBody } = this.state;\r\n        return (\r\n            <div className='homepage-container'>\r\n                <div className='homepage-content'>\r\n                    <div className='hompage-header'>\r\n                        <HomeHeader\r\n                            copybook={this.props.copybook}\r\n                            handleisShowBody={this.handleisShowBody}\r\n                            handleSearch={this.handleSearch}\r\n                            originalArrBook={this.state.originalArrBook}\r\n                            arrBook={this.state.arrBook}\r\n                        />\r\n                    </div>\r\n                    <div className='header-homebody'>\r\n                        <div className='homebody'>\r\n                            <div className='body-left'>\r\n                                <Bookcategory\r\n                                    handleselectSP={this.handleselectSP}\r\n                                    arrNCC={this.state.arrNCC}\r\n                                    handleselectNCC={this.handleselectNCC}\r\n                                    handlegetMount={this.handlegetMount}\r\n                                    handlefmounta={this.handlefmounta}\r\n\r\n                                />\r\n\r\n                            </div>\r\n                            <div className='body-right'>\r\n                                <div className='backgroup-body'>\r\n                                    <HomeBackgroup\r\n                                        originalArrBook={this.state.originalArrBook}\r\n                                        arrBook={this.state.arrBook}\r\n                                        handleSort={this.handleSort}\r\n                                    />\r\n                                </div>\r\n                                <div className='body-product'>\r\n                                    <ArrProduct\r\n                                        arrBook={currentData}\r\n                                        handleSearch={this.handleSearch}\r\n\r\n                                    />\r\n                                </div>\r\n                                <div className='bodys-paginates'>\r\n                                    <div className='show-more-page'>\r\n                                        <div className='pagination-wrapper'>\r\n                                            <div className='next-page'>\r\n                                                <ReactPaginate\r\n                                                    nextLabel={'Next'}\r\n                                                    previousLabel={'Previous'}\r\n                                                    breakLabel={null}\r\n                                                    pageCount={pageCount}\r\n                                                    marginPagesDisplayed={2}\r\n                                                    pageRangeDisplayed={4}\r\n                                                    onPageChange={this.handlePageChange}\r\n                                                    containerClassName={'pagination'}\r\n                                                    activeClassName={'active'}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className='homepage-backgroup'>\r\n                        <div className='homepage-search'>\r\n                            <input className='text-search' type='text' placeholder='Tìm kiếm' />\r\n                            <button className='btn-search'>\r\n                                <i className=\"fas fa-search\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div> */}\r\n                    {/* <div className='homepage-body'>\r\n                        <HomeBody />\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookinfoCart.scss';\r\nimport * as actions from \"../../../store/actions\"\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nclass BookinfoCart extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            bookInfo: {},\r\n            newCopybook: []\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.copybook !== this.props.copybook) {\r\n            this.setState({\r\n                newCopybook: [...this.props.copybook]\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            newCopybook: [...this.props.copybook]\r\n        })\r\n    }\r\n\r\n    handleThemCart = async () => {\r\n        const { bookInfo, copybook, soluong, updatedCopybook } = this.props;\r\n        const { newCopybook } = this.state;\r\n        let isExist = false;\r\n        let foundItem = false;\r\n\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            for (let i = 0; i < newCopybook.length; i++) {\r\n                const item = newCopybook[i];\r\n                if (item.keyMap === bookInfo.keyMap) {\r\n                    if (soluong <= item.soLuong) {\r\n                        item.soluongmua += soluong;\r\n                        item.soLuong -= soluong;\r\n                        isExist = true;\r\n                        foundItem = true;\r\n                    } else {\r\n                        alert(`Số lượng trong kho còn lại: ${item.soLuong} quyển`);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!foundItem) {\r\n                if (soluong <= bookInfo.soLuong) {\r\n                    bookInfo.soLuong -= soluong;\r\n                    const object = {\r\n                        ...bookInfo, // Tạo bản sao của bookInfo\r\n                        soluongmua: soluong\r\n                    };\r\n                    newCopybook.push(object);\r\n                    await updatedCopybook(newCopybook);\r\n                } else {\r\n                    alert(`Số lượng trong kho còn lại: ${bookInfo.soLuong} quyển`);\r\n                }\r\n            }\r\n        } else {\r\n            if (soluong <= bookInfo.soLuong) {\r\n                bookInfo.soLuong -= soluong;\r\n                const object = {\r\n                    ...bookInfo, // Tạo bản sao của bookInfo\r\n                    soluongmua: soluong\r\n                };\r\n                newCopybook.push(object);\r\n                await updatedCopybook(newCopybook);\r\n            } else {\r\n                alert(`Số lượng trong kho còn lại: ${bookInfo.soLuong} quyển`);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    handleMuangay = async () => {\r\n        const { bookInfo, copybook, soluong, updatedCopybook } = this.props;\r\n        let newCopybook = [...copybook];\r\n        let isExist = false;\r\n\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            for (let index = 0; index < newCopybook.length; index++) {\r\n                const item = newCopybook[index];\r\n                if (item.keyMap === bookInfo.keyMap) {\r\n                    if (soluong <= item.soLuong) {\r\n                        newCopybook[index].soluongmua += 1;\r\n                        newCopybook[index].soLuong -= 1;\r\n                        isExist = true;\r\n                    } else {\r\n                        alert(`Số lượng trong kho còn lại: ${item.soLuong} quyển`);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!isExist) {\r\n                if (soluong <= bookInfo.soLuong) {\r\n                    bookInfo.soLuong -= soluong;\r\n                    const object = {\r\n                        ...bookInfo,\r\n                        soluongmua: 1\r\n                    };\r\n                    newCopybook.push(object);\r\n                    await updatedCopybook(newCopybook);\r\n                } else {\r\n                    alert(`Số lượng trong kho còn lại: ${bookInfo.soLuong} quyển`);\r\n                }\r\n            }\r\n        } else {\r\n            if (soluong <= bookInfo.soLuong) {\r\n                bookInfo.soLuong -= soluong;\r\n                const object = {\r\n                    ...bookInfo,\r\n                    soluongmua: 1\r\n                };\r\n                newCopybook.push(object);\r\n                await updatedCopybook(newCopybook);\r\n            } else {\r\n                alert(`Số lượng trong kho còn lại: ${bookInfo.soLuong} quyển`);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { bookoj, copybook } = this.props;\r\n        let { newCopybook } = this.state;\r\n\r\n        return (\r\n            <div className='book-info-cart-container'>\r\n                <div className='book-info-cart-content'>\r\n                    {bookoj && bookoj.image\r\n                        ?\r\n                        <div className='book-info-cart-image'\r\n                            style={{ backgroundImage: `url(${bookoj.image})` }}\r\n                        >\r\n\r\n                        </div>\r\n                        :\r\n                        <div className='book-info-cart-image'>\r\n\r\n                        </div>\r\n                    }\r\n\r\n                    <div className='book-info-cart-btn'>\r\n                        <button className='btn-add-cart'\r\n                            onClick={() => this.handleThemCart()}\r\n                        >\r\n                            <i className=\"fas fa-shopping-cart\"></i>\r\n                            Thêm vào giỏ hàng\r\n                        </button>\r\n                        <button className='btn-buy'\r\n                            onClick={() => this.handleMuangay()}\r\n                        >Mua ngay</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        updatedCopybook: (copybook) => dispatch(actions.updatedCopybook(copybook)),\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(BookinfoCart));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookDetailCart.scss';\r\nimport { couldStartTrivia } from 'typescript';\r\nimport _ from 'lodash';\r\nimport Countdown from 'react-countdown';\r\n\r\nclass BookDetailCart extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: {},\r\n            soluong: 1\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.bookoj !== this.props.bookoj) {\r\n            await this.handleaddarrTime()\r\n        }\r\n        if (prevState.arrBook !== this.state.arrBook) {\r\n            this.setState({\r\n                soluong: 1\r\n            })\r\n        }\r\n        if (prevState.soluong !== this.state.soluong) {\r\n            await this.props.loadDatafromsoluong(this.state.soluong)\r\n        }\r\n        else {\r\n            await this.props.loadDatafromsoluong(this.state.soluong)\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handleaddarrTime()\r\n\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { bookoj } = this.props;\r\n        let copyarrBook = { ...bookoj }\r\n        let arr = {};\r\n\r\n        if (!_.isEmpty(copyarrBook)) {\r\n            let copymore = { ...copyarrBook };\r\n            if (copymore && copymore.discountData) {\r\n                let discountData = { ...copymore.discountData }\r\n                let timeDiff = '';\r\n                if (discountData.ngayBD <= new Date().getTime()) {\r\n                    timeDiff = discountData.ngayKT - new Date().getTime();\r\n                }\r\n\r\n                var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                discountData.timeDiff = formattedTime;\r\n                copymore.discountData = discountData;\r\n                copyarrBook = copymore;\r\n            }\r\n            if (!_.isEmpty(copyarrBook)) {\r\n                this.setState({\r\n                    arrBook: copyarrBook\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    handleminus = async () => {\r\n        let { soluong } = this.state;\r\n        if (soluong <= 1) {\r\n            this.setState({\r\n                soluong: 1\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                soluong: --soluong\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleadds = async () => {\r\n        let { soluong } = this.state;\r\n        this.setState({\r\n            soluong: ++soluong\r\n        })\r\n\r\n    }\r\n\r\n    handleOnChangeInputs = async (event) => {\r\n        this.setState({\r\n            soluong: +event.target.value\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        let { bookoj } = this.props;\r\n        let { arrBook, soluong } = this.state;\r\n        let mount = '';\r\n        let mountDiscount = '';\r\n        if (arrBook.gia) {\r\n            mount = parseFloat(arrBook.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n            if (arrBook.discountData && arrBook.discountData.discount) {\r\n                mountDiscount = parseFloat(arrBook.gia - (arrBook.discountData.discount * arrBook.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n            }\r\n\r\n        }\r\n        return (\r\n            <div className='book-cart-container'>\r\n                <div className='book-cart-content'>\r\n                    <div className='text-ten-sach'>{arrBook.tenSach ? arrBook.tenSach : ''}</div>\r\n                    <div className='info-cungcap'>\r\n                        <div className='cungcap-left'>\r\n                            <div className='text-nha-cc'>Nhà cung cấp:\r\n                                <span className='name-nha-cc'>\r\n                                    {arrBook.nhacungcapData && arrBook.nhacungcapData.tenNCC ? arrBook.nhacungcapData.tenNCC : ''}\r\n                                </span>\r\n                            </div>\r\n                            <div className='text-nha-xb'>Nhà xuất bản:\r\n                                <span className='name-nha-xb'>\r\n                                    {arrBook.nhaxuatbanData && arrBook.nhaxuatbanData.tenNXB ? arrBook.nhaxuatbanData.tenNXB : ''}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='cungcap-right'>\r\n                            <div className='text-tg'>Tác giả:\r\n                                <span className='name-tg'>\r\n                                    {arrBook.tacGia ? arrBook.tacGia : ''}\r\n                                </span>\r\n                            </div>\r\n                            <div className='text-ht'>hình thức:<span className='hinh-thuc'>Bìa</span></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='time-discount'>\r\n                        <div className='discount-img'></div>\r\n                        <div className='time-countdown'>\r\n                            {arrBook.discountData && arrBook.discountData.timeDiff\r\n                                && this.convertTimeToMilliseconds(arrBook.discountData.timeDiff) >= 0\r\n                                ?\r\n                                (<Countdown\r\n                                    date={Date.now() + this.convertTimeToMilliseconds(arrBook.discountData.timeDiff)}\r\n                                    renderer={({ days, hours, minutes, seconds }) => (\r\n                                        <>\r\n                                            <div className='time-day'>\r\n                                                <span>\r\n                                                    {days.toString().padStart(2, '0')}\r\n                                                </span>\r\n                                            </div>\r\n                                            <span>:</span>\r\n                                            <div className='time-hour'>\r\n                                                <span>\r\n                                                    {hours.toString().padStart(2, '0')}\r\n                                                </span>\r\n                                            </div>\r\n                                            <span>:</span>\r\n                                            <div className='time-minute'>\r\n                                                <span>\r\n                                                    {minutes.toString().padStart(2, '0')}\r\n                                                </span>\r\n                                            </div>\r\n                                            <span>:</span>\r\n                                            <div className='time-secoun'>\r\n                                                <span>\r\n                                                    {seconds.toString().padStart(2, '0')}\r\n                                                </span>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                    onComplete={() =>\r\n                                        <span>Hến hạn giảm giá</span>\r\n                                    }\r\n                                />)\r\n\r\n                                :\r\n                                <div className=''></div>\r\n                            }\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='text-gia'>\r\n                        {arrBook.discountData && arrBook.discountData.discount\r\n                            && this.convertTimeToMilliseconds(arrBook.discountData.timeDiff) > 0\r\n                            ?\r\n                            <>\r\n                                <span className='gia-discount'>\r\n                                    {mountDiscount}\r\n                                </span>\r\n                                <span className='gia-bd'>{mount}</span>\r\n                                <div className='range-discount'>\r\n                                    <span>{`-${arrBook.discountData.discount * 100}%`}</span>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <span className='gia-discount'>{mount}</span>\r\n\r\n                            </>\r\n                        }\r\n\r\n\r\n                    </div>\r\n                    <div className='text-soluong'>Số lượng:\r\n\r\n                        <div className='desgin-input-number'>\r\n                            <div className='btn-minus'\r\n                                onClick={() => this.handleminus()}\r\n                            >\r\n                                <i className=\"fas fa-minus\"></i>\r\n                            </div>\r\n                            <input type='number'\r\n                                onChange={(event) => this.handleOnChangeInputs(event)}\r\n                                value={soluong}\r\n                                className='input-soluong'\r\n                                min={1}>\r\n                            </input>\r\n                            <div className='btn-adds'\r\n                                onClick={() => this.handleadds()}\r\n                            >\r\n                                <i className=\"fas fa-plus\"></i>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookDetailCart);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './BookDetail.scss';\r\nimport { withRouter } from 'react-router';\r\nimport { handlegetAllBook } from '../../../services/bookService'\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport BookinfoCart from './BookinfoCart';\r\nimport BookDetailCart from './BookDetailCart';\r\nimport BookSlider from './BookSlider';\r\nimport { BeatLoader } from 'react-spinners';\r\nimport * as actions from \"../../../store/actions\"\r\n\r\nclass BookDetail extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            keyMap: '',\r\n            bookoj: {},\r\n            isShowfull: false,\r\n            soluong: ''\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.match.params.keyMap !== this.props.match.params.keyMap) {\r\n            let keyMap = this.props.match.params.keyMap;\r\n            let res = await handlegetAllBook(keyMap);\r\n            if (res && res.errCode === 0) {\r\n                this.setState({\r\n                    keyMap: keyMap,\r\n                    bookoj: res.data\r\n                })\r\n                await this.props.fetchallBookStart(this.props.match.params.keyMap);\r\n            }\r\n        }\r\n    }\r\n\r\n    loadDatafromsoluong = (data) => {\r\n        this.setState({\r\n            soluong: data\r\n        })\r\n    }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n        if (this.props.match && this.props.match.params && this.props.match.params.keyMap) {\r\n            let keyMap = this.props.match.params.keyMap;\r\n            let res = await handlegetAllBook(keyMap);\r\n            if (res && res.errCode === 0) {\r\n                this.setState({\r\n                    keyMap: keyMap,\r\n                    bookoj: res.data\r\n                })\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    handleShowfull = () => {\r\n        this.setState({\r\n            isShowfull: !this.state.isShowfull\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { isShowLoding, bookoj, isShowfull, soluong } = this.state;\r\n        return (\r\n            <div className='book-detail-container'>\r\n                <div className='book-detail-content'>\r\n                    <div className='book-detail-header'>\r\n                        <HomeHeader />\r\n                    </div>\r\n                    <div className='book-detail-body'>\r\n                        <div className='book-detail-info'>\r\n                            <div className='book-detail-info-left'>\r\n                                <BookinfoCart\r\n                                    bookoj={this.state.bookoj}\r\n                                    soluong={this.state.soluong}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className='book-detail-info-right'>\r\n                                <BookDetailCart\r\n                                    bookoj={this.state.bookoj}\r\n                                    loadDatafromsoluong={this.loadDatafromsoluong}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='book-relate'>\r\n                            <div className='relate-title'>Sản phẩm giới thiệu</div>\r\n                            <div className='relate-slider'>\r\n                                <BookSlider\r\n                                    bookoj={this.state.bookoj}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={isShowfull === false ? 'book-show-info' : 'book-show-info show-full-parent'}>\r\n                            <div className='book-show-info-title'>Thông tin sản phẩm</div>\r\n\r\n                            <div className={isShowfull === false ? 'book-show-info-body' : 'book-show-info-body show-full'}>\r\n                                {bookoj && bookoj.BookInfoData && bookoj.BookInfoData.descriptionHTML\r\n                                    &&\r\n                                    <div className='text-infos' dangerouslySetInnerHTML={{ __html: bookoj.BookInfoData.descriptionHTML }}></div>\r\n                                }\r\n                            </div>\r\n\r\n                            <div className='btn-show-info'>\r\n                                {isShowfull === false\r\n                                    ?\r\n                                    <button className='btn-xemthem'\r\n                                        onClick={() => this.handleShowfull()}\r\n                                    >Xem thêm</button>\r\n                                    :\r\n                                    <button className='btn-thugon'\r\n                                        onClick={() => this.handleShowfull()}\r\n                                    >Thu gọn</button>\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookInfo: state.book.bookInfo,\r\n        copybook: state.book.copybook,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookDetail);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './CartBillTail.scss';\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nclass CartBill extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    handleBackCart = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/cart')\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='cart-tail-container'>\r\n                <div className='cart-tail-content'>\r\n                    <span className='back-cart'\r\n                        onClick={() => this.handleBackCart()}\r\n                    >\r\n                        <i className=\"fas fa-long-arrow-alt-left\"></i>\r\n                    </span>\r\n                    <div className='text-back-cart'>Quay lại giỏ hàng</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CartBill));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './CartBill.scss';\r\nimport CartBillTail from './CartBillTail';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { handleNewUseradmin } from '../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    handleCreateNewBill, handleCreateNewBilldetail,\r\n    handledeComfimBill\r\n} from '../../../services/BillService'\r\n\r\n\r\nclass CartBill extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hoTen: '',\r\n            email: '',\r\n            soDienThoai: '',\r\n            address: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let check = true;\r\n        let arr = ['hoTen', 'email', 'address', 'soDienThoai'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                alert(`vui lòng nhập đủ thông tin:${arr[i]}`)\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return check;\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleXacNhan = async () => {\r\n        let tongtien = 0;\r\n        let { copybook, location } = this.props;\r\n        if (location && location.state && location.state && location.state.checkboxes.length > 0) {\r\n            location.state.checkboxes.map((item, index) => {\r\n                if (item.discountData) {\r\n                    tongtien += (+item.gia - (+item.discountData.discount * +item.gia)) * +item.soluongmua;\r\n                } else {\r\n                    tongtien += +item.gia * +item.soluongmua\r\n                }\r\n            })\r\n        }\r\n        if (this.props.isLoggedIn === false) {\r\n            let check = this.handleCheckinput();\r\n            if (check === true) {\r\n                let billDetailDataArray =\r\n                    location && location.state && location.state && location.state.checkboxes.length > 0 &&\r\n                    location.state.checkboxes.map((item) => ({\r\n                        bookId: item.keyMap,\r\n                        soLuong: item.soluongmua,\r\n                        thanhTien: item.discountData ? (+item.gia - (+item.discountData.discount * +item.gia)) * +item.soluongmua :\r\n                            +item.gia * +item.soluongmua\r\n                        ,\r\n                        image: item.image,\r\n                    }));\r\n                let res = await handledeComfimBill({\r\n                    firstName: this.state.hoTen,\r\n                    email: this.state.email,\r\n                    address: this.state.address,\r\n                    phonenumber: this.state.soDienThoai,\r\n                    roleId: 'R2',\r\n                    tongTien: tongtien,\r\n                    status: 'S1',\r\n                    billDetailDataArray: billDetailDataArray\r\n                })\r\n                if (res && res.errCode === 0) {\r\n                    toast.success('Tạo đơn đặt hàng thành công!');\r\n\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (this.state.address) {\r\n                let billDetailDataArray =\r\n                    location && location.state && location.state && location.state.checkboxes.length > 0 &&\r\n                    location.state.checkboxes.map((item) => ({\r\n                        bookId: item.keyMap,\r\n                        soLuong: item.soluongmua,\r\n                        thanhTien: item.discountData ? (+item.gia - (+item.discountData.discount * +item.gia)) * +item.soluongmua :\r\n                            +item.gia * +item.soluongmua\r\n                        ,\r\n                        image: item.image,\r\n                    }));\r\n                let res = await handledeComfimBill({\r\n                    firstName: this.props.userInfo.data.firstName,\r\n                    email: this.props.userInfo.data.email,\r\n                    address: this.state.address,\r\n                    phonenumber: this.props.userInfo.data.phoneNumber,\r\n                    roleId: this.props.userInfo.data.roleId,\r\n                    tongTien: tongtien,\r\n                    status: 'S1',\r\n                    billDetailDataArray: billDetailDataArray\r\n                })\r\n                if (res && res.errCode === 0) {\r\n                    toast.success('Tạo đơn đặt hàng thành công!')\r\n                }\r\n            }\r\n            else {\r\n                alert('Bạn chưa nhập địa chỉ nhận hàng!')\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { copybook, location } = this.props;\r\n        let tongtien = '';\r\n        return (\r\n            <div className='cart-bill-container'>\r\n                <div className='cart-bill-content'>\r\n                    <div className='cart-bill-header'>\r\n                        <CartBillTail />\r\n                    </div>\r\n                    <div className='cart-bill-body'>\r\n                        {this.props.isLoggedIn === true\r\n                            ?\r\n                            <></>\r\n                            :\r\n                            <div className='warning-login'>\r\n                                <div className='left-warning'>\r\n                                    <div className='img-warning'></div>\r\n                                </div>\r\n                                <div className='right-warning'>\r\n                                    Bạn đã là thành viên?\r\n                                    <Link className='Link-login' to='/login'>Đăng nhập ngay</Link>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        <div className='cart-bill-order'>\r\n                            <div className='order-title'>Thông tin nhận hàng</div>\r\n                            {this.props.isLoggedIn === true\r\n                                ?\r\n                                <div className='order-form'>\r\n                                    <div className='row'>\r\n\r\n                                        <div className='col-6 form-group'>\r\n                                            <label>Địa chỉ nhận hàng</label>\r\n                                            <input className='form-control'\r\n                                                value={this.state.address}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'address')}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                <div className='order-form'>\r\n                                    <div className='row'>\r\n                                        <div className='col-6 form-group'>\r\n                                            <label>Họ tên</label>\r\n                                            <input className='form-control'\r\n                                                value={this.state.hoTen}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'hoTen')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-6 form-group'>\r\n                                            <label>Email</label>\r\n                                            <input className='form-control'\r\n                                                value={this.state.email}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'email')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-6 form-group'>\r\n                                            <label>Số điện thoại</label>\r\n                                            <input className='form-control'\r\n                                                value={this.state.soDienThoai}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'soDienThoai')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className='col-6 form-group'>\r\n                                            <label>Địa chỉ nhận hàng</label>\r\n                                            <input className='form-control'\r\n                                                value={this.state.address}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'address')}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n\r\n                        </div>\r\n                        <div className='cart-bill-info'>\r\n                            <div className='cart-bill-info-title'>Thông tin đơn hàng</div>\r\n                            {location && location.state && location.state && location.state.checkboxes.length > 0\r\n                                && location.state.checkboxes.map((item, index) => {\r\n\r\n                                    let mount = '';\r\n                                    let mountDiscount = '';\r\n                                    let thanhtien = '';\r\n                                    let thanhtienDiscount = '';\r\n                                    if (item.gia) {\r\n                                        mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                        thanhtien = parseFloat(item.gia * item.soluongmua).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                        if (item.discountData && item.discountData.discount) {\r\n                                            mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                            thanhtienDiscount = parseFloat((item.gia - (item.discountData.discount * item.gia)) * item.soluongmua).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n                                        }\r\n\r\n                                    }\r\n                                    return (\r\n                                        <div className='product-incart' key={index}\r\n                                        >\r\n                                            <div className='img-product' style={{ backgroundImage: `url(${item.image})` }}\r\n\r\n                                            ></div>\r\n                                            <div className='info-product'>\r\n                                                <div className='ten-sach'>{item.tenSach}</div>\r\n                                                {item.discountData && item.discountData.discount\r\n                                                    ?\r\n                                                    <>\r\n                                                        <div className='gia-sach'>{mountDiscount}</div>\r\n                                                        <div className='gia-sach-discount'>{mount}</div>\r\n                                                    </>\r\n                                                    :\r\n                                                    <div className='gia-sach'>{mount}</div>\r\n\r\n                                                }\r\n                                            </div>\r\n                                            <div className='desgin-input-number'>\r\n                                                {item.soluongmua}\r\n                                            </div>\r\n                                            {item.discountData && item.discountData.discount\r\n                                                ?\r\n                                                <>\r\n                                                    <div className='thanh-tien'>{thanhtienDiscount}</div>\r\n                                                </>\r\n                                                :\r\n                                                <div className='thanh-tien'>{thanhtien}</div>\r\n\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className='cart-bill-btn'>\r\n                            <div className='cart-bill-btn-title'>Thanh toán</div>\r\n                            <div className='cart-bill-toltal'>\r\n                                <div className='text-toltal'>\r\n                                    Tổng tiền thanh toán:\r\n                                </div>\r\n                                {location && location.state && location.state && location.state.checkboxes.length > 0\r\n                                    &&\r\n                                    location.state.checkboxes.map((item, index) => {\r\n                                        let mount = '';\r\n                                        let mountDiscount = '';\r\n                                        let thanhtien = '';\r\n                                        if (item.gia) {\r\n                                            mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                            thanhtien = item.gia * item.soluongmua;\r\n                                            if (item.discountData && item.discountData.discount) {\r\n                                                mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                                thanhtien = (item.gia - (item.discountData.discount * item.gia)) * item.soluongmua;\r\n\r\n                                            }\r\n\r\n                                        }\r\n                                        tongtien = +tongtien + thanhtien;\r\n                                    })\r\n                                    &&\r\n                                    <div className='toltal-mount'>{parseFloat(tongtien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</div>\r\n                                }\r\n                                <button className='btn-xac-nhan'\r\n                                    onClick={() => this.handleXacNhan()}\r\n                                >Xác nhận thanh toán</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        copybook: state.book.copybook,\r\n        bookInfo: state.book.bookInfo,\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInfo: state.user.userInfo,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartBill);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Cart.scss'\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport * as actions from \"../../../store/actions\"\r\nimport { iteratee } from 'lodash';\r\nimport CartBill from './CartBill';\r\nimport { handlegetAllbookbycart } from '../../../services/bookService'\r\n\r\nclass Cart extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            soluong: [],\r\n            checkboxes: [],\r\n            arrbook: [],\r\n            arrBookDiscount: []\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n        await this.handleaddarrTime();\r\n\r\n\r\n    }\r\n\r\n    handlegetAllbook = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllbookbycart('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                this.setState({\r\n                    arrBook: arrbook.data\r\n                })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    handleDelete = (book) => {\r\n        let { copybook } = this.props;\r\n        let newCopybook = [...copybook]\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook = newCopybook.filter(item => item.keyMap !== book.keyMap)\r\n        }\r\n        this.props.updatedCopybook(newCopybook)\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBook, arrBookDiscount } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrBookDiscount: arr,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBuycart = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push({\r\n                pathname: '/home',\r\n                state: this.state.arrBookDiscount\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInfoBook = async (item) => {\r\n        if (this.props.history) {\r\n            this.props.history.push(`/book/${item.keyMap}`)\r\n        }\r\n        await this.props.fetchallBookStart(item.keyMap);\r\n\r\n    }\r\n\r\n\r\n    handleCheckboxChange = (event, selectitem) => {\r\n        const { checked } = event.target;\r\n        const { checkboxes } = this.state;\r\n\r\n        if (checked) {\r\n            // Nếu checkbox được chọn, thêm giá trị vào mảng checkboxes\r\n            this.setState({\r\n                checkboxes: [...checkboxes, selectitem]\r\n            });\r\n        } else {\r\n            // Nếu checkbox được bỏ chọn, loại bỏ giá trị khỏi mảng checkboxes\r\n            this.setState({\r\n                checkboxes: checkboxes.filter(item => item !== selectitem)\r\n            });\r\n        }\r\n    }\r\n\r\n    handleCheckAll = (event) => {\r\n        let { checked } = event.target;\r\n        let { copybook } = this.props\r\n\r\n        if (checked) {\r\n            this.setState({\r\n                checkboxes: [...copybook]\r\n            })\r\n        } else {\r\n            this.setState({\r\n                checkboxes: []\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleThanhToan = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push({\r\n                pathname: '/cart-bill',\r\n                state: { checkboxes: this.state.checkboxes }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleminus = (selectitem) => {\r\n        let { copybook } = this.props;\r\n        let newCopybook = [...copybook]\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.map((item) => {\r\n                if (item === selectitem) {\r\n                    if (item.soluongmua <= 1) {\r\n                        item.soluongmua = 1;\r\n                    }\r\n                    else {\r\n                        item.soluongmua--;\r\n                        item.soLuong++;\r\n                    }\r\n                    this.props.updatedCopybook(newCopybook)\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleadds = (selectitem) => {\r\n        let { copybook } = this.props;\r\n        let newCopybook = [...copybook]\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.map((item) => {\r\n                if (item === selectitem) {\r\n                    if (item.soLuong > 0) {\r\n                        item.soluongmua++;\r\n                        item.soLuong--;\r\n                        this.props.updatedCopybook(newCopybook)\r\n\r\n                    } else {\r\n                        alert(`Số lượng trong kho còn lại ${item.soLuong}`)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleOnChangeInputs = (event, selectitem) => {\r\n        let { copybook } = this.props;\r\n        let newCopybook = [...copybook]\r\n        if (newCopybook && newCopybook.length > 0) {\r\n            newCopybook.map(async (item) => {\r\n                if (item === selectitem) {\r\n                    if (item.soLuong > 0) {\r\n                        if (item.soluongmua + item.soLuong < +event.target.value) {\r\n                            alert(`Số lượng trong kho còn lại ${item.soLuong}`)\r\n                        } else {\r\n                            item.soLuong -= (+event.target.value - item.soluongmua);\r\n                            item.soluongmua = +event.target.value;\r\n                        }\r\n                        await this.props.updatedCopybook(newCopybook)\r\n\r\n                    } else {\r\n                        alert(`Số lượng trong kho còn lại ${item.soLuong}`)\r\n                    }\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        let { checkboxes, item } = this.state\r\n        let { copybook, bookInfo } = this.props\r\n        let tongtien = '';\r\n        return (\r\n            <div className='cart-container'>\r\n                <div className='cart-content'>\r\n                    <div className='cart-header'>\r\n                        <HomeHeader />\r\n                    </div>\r\n                    <div className='cart-body'>\r\n                        <div className='cart-title'>Giỏ hàng:\r\n                            <span className='text-title'>(1 sản phẩm)</span>\r\n                        </div>\r\n                        <div className='choose-all'>\r\n                            <input type='checkbox'\r\n                                onChange={(event) => this.handleCheckAll(event)}\r\n                                checked={checkboxes.length === copybook.length}\r\n                            />\r\n                            <div className='text-all-product'>Chọn tất cả:\r\n                                <span className='text-sl-product'>(1 sản phẩm)</span>\r\n                            </div>\r\n                            <div className='text-soluong'>Số lượng</div>\r\n                            <div className='text-gia'>Thành tiền</div>\r\n                        </div>\r\n                        {copybook && copybook.length > 0\r\n                            ? copybook.map((item, index) => {\r\n                                let mount = '';\r\n                                let mountDiscount = '';\r\n                                let thanhtien = '';\r\n                                let thanhtienDiscount = '';\r\n                                if (item.gia) {\r\n                                    mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                    thanhtien = parseFloat(item.gia * item.soluongmua).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                    if (item.discountData && item.discountData.discount) {\r\n                                        mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                        thanhtienDiscount = parseFloat((item.gia - (item.discountData.discount * item.gia)) * item.soluongmua).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n\r\n                                    }\r\n\r\n                                }\r\n                                return (\r\n                                    <div className='product-incart' key={index}\r\n                                    >\r\n                                        <input type='checkbox'\r\n                                            value={item}\r\n                                            checked={checkboxes.includes(item)}\r\n                                            onChange={(event) => this.handleCheckboxChange(event, item)}\r\n\r\n                                        />\r\n                                        <div className='img-product' style={{ backgroundImage: `url(${item.image})` }}\r\n                                            onClick={() => this.handleInfoBook(item)}\r\n\r\n                                        ></div>\r\n                                        <div className='info-product'>\r\n                                            <div className='ten-sach'>{item.tenSach}</div>\r\n                                            {item.discountData && item.discountData.discount\r\n                                                ?\r\n                                                <>\r\n                                                    <div className='gia-sach'>{mountDiscount}</div>\r\n                                                    <div className='gia-sach-discount'>{mount}</div>\r\n                                                </>\r\n                                                :\r\n                                                <div className='gia-sach'>{mount}</div>\r\n\r\n                                            }\r\n                                        </div>\r\n                                        <div className='desgin-input-number'>\r\n                                            <div className='btn-minus'\r\n                                                onClick={() => this.handleminus(item)}\r\n                                            >\r\n                                                <i className=\"fas fa-minus\"></i>\r\n                                            </div>\r\n                                            <input type='number'\r\n                                                onChange={(event) => this.handleOnChangeInputs(event, item)}\r\n                                                value={item.soluongmua}\r\n                                                className='input-soluong'\r\n                                                min={1}>\r\n                                            </input>\r\n                                            <div className='btn-adds'\r\n                                                onClick={() => this.handleadds(item)}\r\n                                            >\r\n                                                <i className=\"fas fa-plus\"></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        {item.discountData && item.discountData.discount\r\n                                            ?\r\n                                            <>\r\n                                                <div className='thanh-tien'>{thanhtienDiscount}</div>\r\n                                            </>\r\n                                            :\r\n                                            <div className='thanh-tien'>{thanhtien}</div>\r\n\r\n                                        }\r\n                                        <div className='delete-product-cart'\r\n                                            onClick={() => this.handleDelete(item)}\r\n                                        >\r\n                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n\r\n                            :\r\n                            <div className='cart-is-null'>\r\n                                <div className='text-center-cart'>\r\n                                    <div className='img-center-cart'></div>\r\n                                    <div className='text-cart-isnull'>Chưa có sản phẩm trong giỏ hàng của bạn.</div>\r\n                                    <button className='btn-muasam'\r\n                                        onClick={() => this.handleBuycart()}\r\n                                    >Mua sắm ngay</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {copybook && copybook.length > 0\r\n                            ?\r\n                            <div className='cart-bill'>\r\n                                <div className='toltal-product'>\r\n\r\n                                    <div className='text-toltal'>Tổng tiền thanh toán:</div>\r\n                                    {checkboxes && checkboxes.length > 0\r\n                                        &&\r\n                                        checkboxes.map((item, index) => {\r\n                                            let mount = '';\r\n                                            let mountDiscount = '';\r\n                                            let thanhtien = '';\r\n                                            if (item.gia) {\r\n                                                mount = parseFloat(item.gia).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                                thanhtien = item.gia * item.soluongmua;\r\n                                                if (item.discountData && item.discountData.discount) {\r\n                                                    mountDiscount = parseFloat(item.gia - (item.discountData.discount * item.gia)).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });\r\n                                                    thanhtien = (item.gia - (item.discountData.discount * item.gia)) * item.soluongmua;\r\n\r\n                                                }\r\n\r\n                                            }\r\n                                            tongtien = +tongtien + thanhtien;\r\n                                        })\r\n                                        ?\r\n                                        <div className='toltal-mount'>{parseFloat(tongtien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</div>\r\n                                        :\r\n                                        <></>\r\n\r\n                                    }\r\n                                </div>\r\n                                <div className='toltal-bill'>\r\n                                    {checkboxes && checkboxes.length > 0\r\n                                        ?\r\n                                        <button className='btn-thanhtoan'\r\n                                            onClick={() => this.handleThanhToan()}\r\n                                        >Thanh Toán</button>\r\n                                        :\r\n                                        <button className='btn-not-thanhtoan'\r\n                                            onClick={() => this.handleThanhToan()}\r\n                                            disabled='true'\r\n                                        >Thanh Toán</button>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <></>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        copybook: state.book.copybook,\r\n        bookInfo: state.book.bookInfo,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        updatedCopybook: (copybook) => dispatch(actions.updatedCopybook(copybook)),\r\n        fetchallBookStart: (maSach) => dispatch(actions.fetchallBookStart(maSach)),\r\n\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './ShowBook.scss'\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport HomeProduct from '../Home/HomeProduct';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\n\r\n\r\nclass ShowBook extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            currentPage: 0,\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n\r\n    handlePageChange = (selectedPage) => {\r\n        this.setState({\r\n            currentPage: selectedPage.selected\r\n        })\r\n    };\r\n\r\n\r\n    render() {\r\n        const itemsPerPage = 25;\r\n        const data = this.props.location.state\r\n        const pageCount = Math.ceil(data.length / itemsPerPage);\r\n        const offset = this.state.currentPage * itemsPerPage;\r\n        const currentData = data.slice(offset, offset + itemsPerPage);\r\n        return (\r\n            <div className='show-book-container'>\r\n                <div className='show-book-content'>\r\n                    <div className='show-book-header'>\r\n                        <HomeHeader />\r\n                    </div>\r\n                    <div className='show-book-body'>\r\n                        <div className='show-book-sort'>\r\n                            <div className='show-book-text'>Sắp xếp theo:</div>\r\n                            <select className='show-book-select'>\r\n\r\n                            </select>\r\n                        </div>\r\n                        <div className='show-more-bookk'>\r\n                            <HomeProduct\r\n                                arrBook={currentData}\r\n                            />\r\n                        </div>\r\n                        <div className='show-more-page'>\r\n                            <div className='pagination-wrapper'>\r\n                                <div className='next-page'>\r\n                                    <ReactPaginate\r\n                                        nextLabel={'Next'}\r\n                                        breakLabel={null}\r\n                                        pageCount={pageCount}\r\n                                        marginPagesDisplayed={2}\r\n                                        pageRangeDisplayed={25}\r\n                                        onPageChange={this.handlePageChange}\r\n                                        containerClassName={'pagination'}\r\n                                        activeClassName={'active'}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShowBook);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './HomeAfterSearch.scss';\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport Bookcategory from '../Product/Bookcategory';\r\nimport ArrProduct from '../Home/ArrProduct';\r\nimport {\r\n    handlegetAllbookbycart, handlegetAllTL, handlegetAllBookTL,\r\n    handlegetAllBookbySP, handlegetAllNCC, handlegetAllNCCbySP,\r\n    handlegetAllBookNCC\r\n} from '../../../services/bookService'\r\nimport ReactPaginate from 'react-paginate';\r\n\r\n\r\n\r\nclass HomeAfterSearch extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            arrBook: [],\r\n            arrBookDiscount: [],\r\n            sanpham: '',\r\n            arrBookPaginate: [],\r\n            currentPage: 0,\r\n            arrNCC: [],\r\n            NCC: '',\r\n            originalArrBook: [],\r\n            frommount: '',\r\n            aboutmount: '',\r\n            isShowBody: false\r\n        }\r\n    }\r\n\r\n    handleGetAllNCC = async () => {\r\n        let res = await handlegetAllNCC('ALL');\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllBookNCC = async () => {\r\n        let res = await handlegetAllBookNCC(this.state.NCC);\r\n        if (res && res.errCode === 0) {\r\n            this.setState({\r\n                arrBook: res.data,\r\n                originalArrBook: res.data\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handlegetAllNCCbySP = async () => {\r\n        let arrSanPham = await handlegetAllNCCbySP(this.state.sanpham);\r\n        if (arrSanPham && arrSanPham.errCode === 0) {\r\n            this.setState({\r\n                arrNCC: arrSanPham.data,\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllBookbySP = async () => {\r\n        let arrbook = await handlegetAllBookbySP(this.state.sanpham);\r\n        if (arrbook && arrbook.errCode === 0) {\r\n            this.setState({\r\n                arrBook: arrbook.data,\r\n                originalArrBook: arrbook.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handlegetAllbook = async () => {\r\n        try {\r\n            let arrbook = await handlegetAllbookbycart('ALL');\r\n            if (arrbook && arrbook.errCode === 0) {\r\n                this.setState({\r\n                    arrBook: arrbook.data,\r\n                    currentPage: 0,\r\n                    originalArrBook: arrbook.data\r\n                })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    handlegetMount = (mount) => {\r\n        let { originalArrBook } = this.state;\r\n        let filteredArrBook = []\r\n\r\n\r\n        if (mount === 'duoi-40000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia < 40000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === '40000-120000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 40000 && item.gia < 120000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === '120000-280000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 120000 && item.gia < 280000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === 'tren-280000') {\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= 280000);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        } else if (mount === `${this.state.frommount}-${this.state.aboutmount}`) {\r\n            let frommount = +this.state.frommount;\r\n            let aboutmount = +this.state.aboutmount;\r\n            filteredArrBook = originalArrBook.filter(item => item.gia >= frommount && item.gia < aboutmount);\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n            if (filteredArrBook.length === 0) {\r\n                alert('Không tìm thấy sản phẩm')\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            arrBook: filteredArrBook.length > 0 ? filteredArrBook : []\r\n        });\r\n    }\r\n\r\n    handlefmounta = (fmount, amount) => {\r\n        this.setState({\r\n            frommount: fmount,\r\n            aboutmount: amount\r\n        })\r\n    }\r\n\r\n    handleaddarrTime = () => {\r\n        let { arrBook, arrBookDiscount, arrBookTL, selectTL, arrBookPaginate } = this.state;\r\n        let copyarrBook = { ...arrBook }\r\n        let arr = [];\r\n        if (arrBook && arrBook.length > 0) {\r\n            arrBook.forEach((item) => {\r\n                let copytitem = { ...item };\r\n                if (copytitem && copytitem.discountData) {\r\n                    let discountData = { ...copytitem.discountData }\r\n                    let timeDiff = '';\r\n                    if (discountData.ngayBD <= new Date().getTime()) {\r\n                        timeDiff = discountData.ngayKT - new Date().getTime();\r\n                    }\r\n\r\n                    var seconds = Math.floor(timeDiff / 1000) % 60;\r\n                    var minutes = Math.floor(timeDiff / 1000 / 60) % 60;\r\n                    var hours = Math.floor(timeDiff / 1000 / 60 / 60);\r\n                    let formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n                    discountData.timeDiff = formattedTime;\r\n                    copytitem.discountData = discountData;\r\n                    item = copytitem;\r\n                }\r\n                arr.push(item);\r\n            })\r\n            if (arr && arr.length > 0) {\r\n                this.setState({\r\n                    arrBookDiscount: arr,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    convertTimeToMilliseconds = (time) => {\r\n        const [hours, minutes, seconds] = time.split(':').map(Number);\r\n        const totalMilliseconds = hours * 3600000 + minutes * 60000 + seconds * 1000;\r\n        return totalMilliseconds;\r\n    };\r\n\r\n    async componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.sanpham !== this.state.sanpham) {\r\n            await this.handlegetAllNCCbySP();\r\n            await this.handlegetAllBookbySP();\r\n            this.setState({\r\n                currentPage: 0\r\n            })\r\n        }\r\n        if (\r\n            prevState.arrBook !== this.state.arrBook ||\r\n            prevState.originalArrBook !== this.state.originalArrBook\r\n        ) {\r\n            await this.handleaddarrTime();\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.handlegetAllbook();\r\n        // await this.handlegetAllTL();\r\n        await this.handleGetAllNCC();\r\n        await this.handleaddarrTime();\r\n        if (this.props.history.location.state) {\r\n            let { arrBook, originalArrBook } = this.state;\r\n            let filteredBooks = originalArrBook.filter((book) =>\r\n                book.tenSach.toLowerCase().includes(this.props.history.location.state.toLowerCase())\r\n            );\r\n            this.setState({\r\n                arrBook: filteredBooks\r\n            })\r\n        }\r\n    }\r\n\r\n    handleselectSP = (keyMap) => {\r\n        this.setState({\r\n            sanpham: keyMap,\r\n        }, async () => {\r\n            await this.handlegetAllBookbySP();\r\n        })\r\n    }\r\n\r\n    handleselectNCC = (keyMap) => {\r\n        this.setState({\r\n            NCC: keyMap,\r\n        }, async () => {\r\n            await this.handlegetAllBookNCC();\r\n        })\r\n    }\r\n\r\n    handlePaginate = (page) => {\r\n        this.setState({\r\n            arrBookDiscount: page\r\n        })\r\n    }\r\n\r\n    handlePageChange = (selectedPage) => {\r\n        let currentPage = selectedPage.selected\r\n        let pageCount = Math.ceil(this.state.arrBookDiscount.length / 25);\r\n        if (currentPage >= pageCount) {\r\n            this.setState({\r\n                currentPage: 0\r\n            });\r\n        } else {\r\n            this.setState({\r\n                currentPage: currentPage\r\n            });\r\n        }\r\n    };\r\n\r\n    handleisShowBody = (isShowSearch) => {\r\n    }\r\n\r\n\r\n    handleSearch = (arrAfter) => {\r\n        this.setState({\r\n            arrBook: arrAfter\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const itemsPerPage = 25;\r\n\r\n        const data = this.state.arrBookDiscount\r\n        const pageCount = Math.ceil(data.length / itemsPerPage);\r\n        let offset = this.state.currentPage * itemsPerPage;\r\n        let currentData = data.slice(offset, offset + itemsPerPage);\r\n        let { isShowBody } = this.state;\r\n        return (\r\n            <div className='homepage-container'>\r\n                <div className='homepage-content'>\r\n                    <div className='hompage-header'>\r\n                        <HomeHeader\r\n                            copybook={this.props.copybook}\r\n                            handleisShowBody={this.handleisShowBody}\r\n                            handleSearch={this.handleSearch}\r\n                            originalArrBook={this.state.originalArrBook}\r\n                            arrBook={this.state.arrBook}\r\n                        />\r\n                    </div>\r\n                    <div className='header-homebody'>\r\n                        <div className='homebody'>\r\n                            <div className='body-left'>\r\n                                <Bookcategory\r\n                                    handleselectSP={this.handleselectSP}\r\n                                    arrNCC={this.state.arrNCC}\r\n                                    handleselectNCC={this.handleselectNCC}\r\n                                    handlegetMount={this.handlegetMount}\r\n                                    handlefmounta={this.handlefmounta}\r\n\r\n                                />\r\n\r\n                            </div>\r\n                            <div className='body-right'>\r\n                                {/* <div className='backgroup-body'>\r\n                                    <HomeBackgroup />\r\n                                </div> */}\r\n                                <div className='body-product'>\r\n                                    <ArrProduct\r\n                                        arrBook={currentData}\r\n                                        handleSearch={this.handleSearch}\r\n\r\n                                    />\r\n                                </div>\r\n                                <div className='bodys-paginates'>\r\n                                    <div className='show-more-page'>\r\n                                        <div className='pagination-wrapper'>\r\n                                            <div className='next-page'>\r\n                                                <ReactPaginate\r\n                                                    nextLabel={'Next'}\r\n                                                    previousLabel={'Previous'}\r\n                                                    breakLabel={null}\r\n                                                    pageCount={pageCount}\r\n                                                    marginPagesDisplayed={2}\r\n                                                    pageRangeDisplayed={4}\r\n                                                    onPageChange={this.handlePageChange}\r\n                                                    containerClassName={'pagination'}\r\n                                                    activeClassName={'active'}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className='homepage-backgroup'>\r\n                        <div className='homepage-search'>\r\n                            <input className='text-search' type='text' placeholder='Tìm kiếm' />\r\n                            <button className='btn-search'>\r\n                                <i className=\"fas fa-search\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div> */}\r\n                    {/* <div className='homepage-body'>\r\n                        <HomeBody />\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        copybook: state.book.copybook,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeAfterSearch);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Listchooseaction.scss'\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nclass ListChooseaction extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    handleClickInfoUser = () => {\r\n        let { userInfo } = this.props;\r\n        if (this.props.history) {\r\n            this.props.history.push(\r\n                {\r\n                    pathname: `/user/${userInfo && userInfo.data ? userInfo.data.id : 'id'}`,\r\n                    state: this.props.userInfo\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    handleClickMybill = () => {\r\n        if (this.props.history) {\r\n            this.props.history.push('/list-bill')\r\n        }\r\n    }\r\n\r\n    handleClickwarning = () => {\r\n        alert('Chức năng chưa hỗ trợ')\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='list-choose-container'>\r\n                <div className='list-choose-content'>\r\n                    <div className='user-info-name'>\r\n                        <div className='user-info-logo'></div>\r\n                        <div className='user-info-name-user'>\r\n                            <div className='user-name-title'>Tài khoản của</div>\r\n                            <div className='user-is-name'>Cường nguyễn</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickInfoUser()}\r\n                    >\r\n                        <i className=\"fas fa-user\"></i>\r\n                        <span className='text-info-choose'>Thông tin tài khoản</span>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickwarning()}\r\n\r\n                    >\r\n                        <i className=\"fas fa-bell\"></i>\r\n                        <span className='text-info-choose'>Thông bảo của tôi</span>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickMybill()}\r\n\r\n                    >\r\n                        <i className=\"fas fa-book-open\"></i>\r\n                        <span className='text-info-choose'>Quản lý đơn hàng</span>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickwarning()}\r\n\r\n                    >\r\n                        <i className=\"fas fa-box\"></i>\r\n                        <span className='text-info-choose'>Quản lý đổi trả</span>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickwarning()}\r\n\r\n                    >\r\n                        <i className=\"fas fa-map-marker-alt\"></i>\r\n                        <span className='text-info-choose'>Số địa chỉ</span>\r\n                    </div>\r\n                    <div className='user-info-choose'\r\n                        onClick={() => this.handleClickwarning()}\r\n\r\n                    >\r\n                        <i className=\"far fa-credit-card\"></i>\r\n                        <span className='text-info-choose'>Thông tin thanh toán</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ListChooseaction));\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport './ModalChangePassword.scss'\r\nimport { handleUpdateUser, hanlegetAlluserbyemail, handleupdatePassword } from '../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\n\r\nclass ModalChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            passwordbefor: '',\r\n            passwordafter: '',\r\n            passwordecomfim: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let copystate = { ...this.state };\r\n        copystate[id] = event.target.value;\r\n        this.setState({\r\n            ...copystate\r\n        })\r\n    }\r\n\r\n    handleCheckInput = () => {\r\n        let isCheck = true;\r\n        let arr = ['passwordbefor', 'passwordafter', 'passwordecomfim'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                isCheck = false;\r\n                alert(`bạn chưa nhập đủ giá trị :${arr[i]}`);\r\n                break;\r\n            }\r\n        }\r\n        return isCheck;\r\n    }\r\n\r\n\r\n    handleSave = async () => {\r\n        let check = this.handleCheckInput();\r\n        if (check === true) {\r\n            if (this.state.passwordafter !== this.state.passwordecomfim) {\r\n                alert('Mật khẩu xác nhận chưa phù hợp')\r\n            } else {\r\n                let updateUser = await handleupdatePassword({\r\n                    id: this.props.userId,\r\n                    passwordbefor: this.state.passwordbefor,\r\n                    passwordcomfim: this.state.passwordafter\r\n                });\r\n                if (updateUser && updateUser.errCode === 0) {\r\n                    toast.success('🦄 update user success!', {\r\n                        position: \"top-right\",\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                        theme: \"light\",\r\n                    });\r\n                    await this.props.handleShowchangePass()\r\n                }\r\n                else {\r\n                    alert(updateUser.errMessanger)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show={this.props.isShowChangePass} onHide={this.props.handleShowchangePass} centered={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Đổi mật khẩu</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Mật khẩu ban đầu</label>\r\n                                <input type='password' className='form-control'\r\n                                    value={this.state.passwordbefor}\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'passwordbefor')}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Mật khẩu thay đổi</label>\r\n                                <input type='password' className='form-control'\r\n                                    value={this.state.passwordafter}\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'passwordafter')}\r\n                                />\r\n                            </div>\r\n                            <div className='col-12 form-group'>\r\n                                <label>Nhập lại mật khẩu thay đổi</label>\r\n                                <input type='password' className='form-control'\r\n                                    value={this.state.passwordecomfim}\r\n                                    onChange={(event) => this.handleOnChangeInput(event, 'passwordecomfim')}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={this.props.handleShowchangePass}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\"\r\n                            onClick={() => this.handleSave()}\r\n                        >\r\n                            Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalChangePassword);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Infouser.scss'\r\nimport HomeHeader from './HomeHeader';\r\nimport ListChooseaction from './ListChooseaction';\r\nimport ModalChangePassword from './ModalChangePassword';\r\nimport _ from 'lodash';\r\nimport { handleUpdateUser, hanlegetAlluserbyemail } from '../../../services/userService'\r\nimport { toast } from 'react-toastify';\r\nimport * as actions from \"../../../store/actions\";\r\n\r\nclass Infouser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isShowChangePass: false,\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            phoneNumber: '',\r\n            gender: '',\r\n            address: '',\r\n            password: '',\r\n            preview: '',\r\n            file: '',\r\n            userId: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.location.state !== this.props.location.state) {\r\n            const newData = this.props.location.state.data;\r\n            this.setState({\r\n                firstName: newData.firstName,\r\n                lastName: newData.lastName,\r\n                email: newData.email,\r\n                gender: newData.gender,\r\n                phoneNumber: newData.phoneNumber,\r\n                address: newData.address,\r\n                file: newData.image,\r\n                preview: newData.image,\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!_.isEmpty(this.props.location.state) && !_.isEmpty(this.props.location.state.data)) {\r\n            this.setState({\r\n                firstName: this.props.location.state.data.firstName,\r\n                lastName: this.props.location.state.data.lastName,\r\n                email: this.props.location.state.data.email,\r\n                gender: this.props.location.state.data.gender,\r\n                address: this.props.location.state.data.address,\r\n                phoneNumber: this.props.location.state.data.phoneNumber,\r\n                file: this.props.location.state.data.image,\r\n                preview: this.props.location.state.data.image,\r\n                userId: this.props.location.state.data.id,\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    handleCheckinput = () => {\r\n        let isCheck = true;\r\n        let arr = ['firstName', 'lastName', 'email', 'address', 'phoneNumber', 'gender'];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (!this.state[arr[i]]) {\r\n                isCheck = false;\r\n                alert(`missing input :${arr[i]}`);\r\n                break;\r\n            }\r\n        }\r\n        return isCheck;\r\n    }\r\n\r\n    handleShowchangePass = () => {\r\n        this.setState({\r\n            isShowChangePass: !this.state.isShowChangePass\r\n        })\r\n    }\r\n\r\n    handleOnChangeInput = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        copyState[id] = event.target.value;\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    handleOnChangefile = async (event) => {\r\n        let file = event.target.files[0];\r\n        let ObjectURL = URL.createObjectURL(file);\r\n        this.setState({\r\n            file: file,\r\n            preview: ObjectURL\r\n        })\r\n    }\r\n\r\n    handleOnChangeGender = (event) => {\r\n        this.setState({\r\n            gender: event.target.checked\r\n        })\r\n    }\r\n\r\n    handleOnClickSavaChange = async () => {\r\n        let check = this.handleCheckinput();\r\n        if (check === true) {\r\n            const formData = new FormData();\r\n            formData.append(\"firstName\", this.state.firstName)\r\n            formData.append(\"lastName\", this.state.lastName)\r\n            formData.append(\"email\", this.state.email)\r\n            formData.append(\"address\", this.state.address)\r\n            formData.append(\"phoneNumber\", this.state.phoneNumber)\r\n            formData.append(\"gender\", this.state.gender)\r\n            formData.append(\"image\", this.state.file)\r\n            formData.append(\"id\", this.state.userId)\r\n            let updateUser = await handleUpdateUser(formData);\r\n            if (updateUser && updateUser.errCode === 0) {\r\n                toast.success('🦄 update user success!', {\r\n                    position: \"top-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                });\r\n                let data = await hanlegetAlluserbyemail(this.state.email);\r\n                if (data && data.errCode === 0) {\r\n                    this.props.userLoginSuccess(data)\r\n                }\r\n            } else {\r\n                toast.error('update user is error!')\r\n            }\r\n        }\r\n\r\n        console.log('check state', this.state)\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        let { isShowChangePass } = this.state\r\n\r\n        return (\r\n            <div className='user-info-container'>\r\n                <div className='user-info-content'>\r\n                    <div className='user-info-header'>\r\n                        <HomeHeader />\r\n                    </div>\r\n                    <div className='user-info-body'>\r\n                        <div className='user-info-in-body'>\r\n                            <div className='user-info-left'>\r\n                                <ListChooseaction />\r\n                            </div>\r\n                            <div className='user-info-right'>\r\n                                <div className='user-info-title'>Thông tin tài khoản</div>\r\n                                <div className='user-info-chill'>\r\n                                    <div className='user-info-chill-title'>Thông tin cá nhân</div>\r\n                                    <div className='user-info-chill-up'>\r\n                                        <div className='user-info-chill-left'>\r\n                                            <input type='file' hidden id='previewImg'\r\n                                                onChange={(event) => this.handleOnChangefile(event)}\r\n                                            />\r\n                                            <label className='user-info-image' htmlFor='previewImg'\r\n                                                style={{ backgroundImage: `url(${this.state.preview})` }\r\n\r\n                                                }\r\n                                            ></label>\r\n                                            <label className='user-info-edit-img' htmlFor='previewImg'>\r\n                                                <div className='edit-img'></div>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div className='user-info-chill-right row'>\r\n                                            <div className='col-6'>\r\n                                                <label>Họ:</label>\r\n                                                <input type='text' className='form-control'\r\n                                                    value={this.state.firstName}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'firstName')}\r\n                                                />\r\n                                            </div>\r\n                                            <div className='col-6'>\r\n                                                <label>Tên:</label>\r\n                                                <input type='text' className='form-control'\r\n                                                    value={this.state.lastName}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'lastName')}\r\n\r\n                                                />\r\n                                            </div>\r\n                                            <div className='col-6'>\r\n                                                <label>email:</label>\r\n                                                <input type='text' className='form-control'\r\n                                                    value={this.state.email}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'email')}\r\n\r\n                                                />\r\n                                            </div>\r\n                                            <div className='col-6'>\r\n                                                <label>Số điện thoại:</label>\r\n                                                <input type='text' className='form-control'\r\n                                                    value={this.state.phoneNumber}\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'phoneNumber')}\r\n\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='user-info-chill-down row'>\r\n                                        <div className='col-6 user-info-gender'>\r\n                                            <label className='text-gender'>Giới tính</label>\r\n                                            <label className='select-radio-item'>\r\n                                                <input type='radio' className='check-input-radio'\r\n                                                    value='M'\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'gender')}\r\n                                                    checked={this.state.gender === 'M'}\r\n\r\n                                                />\r\n                                                <span className='label'>Nam</span>\r\n                                            </label>\r\n                                            <label className='select-radio-item'>\r\n                                                <input type='radio' className='check-input-radio'\r\n                                                    value='FM'\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'gender')}\r\n                                                    checked={this.state.gender === 'FM'}\r\n\r\n                                                />\r\n                                                <span className='label'>Nữ</span>\r\n                                            </label>\r\n                                            <label className='select-radio-item'>\r\n                                                <input type='radio' className='check-input-radio'\r\n                                                    value='O'\r\n                                                    onChange={(event) => this.handleOnChangeInput(event, 'gender')}\r\n                                                    checked={this.state.gender === 'O'}\r\n\r\n                                                />\r\n                                                <span className='label'>Khác</span>\r\n                                            </label>\r\n                                        </div>\r\n\r\n                                        <div className='col-6 user-info-address'>\r\n                                            <label>Địa chỉ</label>\r\n                                            <input type='text' className='form-control'\r\n                                                value={this.state.address}\r\n                                                onChange={(event) => this.handleOnChangeInput(event, 'gender')}\r\n\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='user-info-btn'>\r\n                                        <button className='btn-save-change'\r\n                                            onClick={() => this.handleOnClickSavaChange()}\r\n                                        >Lưu thay đổi</button>\r\n                                        <button className='btn-change-pass'\r\n                                            onClick={() => this.handleShowchangePass()}\r\n                                        >Đổi mật khẩu</button>\r\n                                    </div>\r\n                                </div>\r\n                                <ModalChangePassword\r\n                                    isShowChangePass={this.state.isShowChangePass}\r\n                                    handleShowchangePass={this.handleShowchangePass}\r\n                                    userId={this.state.userId}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        userLoginSuccess: (userInfo) => dispatch(actions.userLoginSuccess(userInfo))\r\n\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Infouser);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './ListBill.scss'\r\nimport HomeHeader from '../Header/HomeHeader';\r\nimport ListChooseaction from '../Header/ListChooseaction';\r\nimport { hanlegetAllBillbyuserId, hanlegetAllBilldetail } from '../../../services/BillService'\r\nimport moment from 'moment';\r\n\r\nclass ListBill extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            clickshow: 'allbill',\r\n            arrBill: [],\r\n            arrBillcopy: [],\r\n            textSearch: '',\r\n            arrBookDetailbill: []\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.textSearch !== this.state.textSearch) {\r\n            let filteredBooks = this.state.arrBillcopy.filter((item) =>\r\n                item.id.toString().toLowerCase().includes(this.state.textSearch.toLowerCase())\r\n            );\r\n            this.setState({\r\n                arrBill: filteredBooks\r\n            })\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let userId = this.props.userInfo && this.props.userInfo.data ?\r\n            this.props.userInfo.data.id : '';\r\n        if (userId) {\r\n            let data = await hanlegetAllBillbyuserId(userId);\r\n            if (data && data.errCode === 0) {\r\n                this.setState({\r\n                    arrBill: data.data,\r\n                    arrBillcopy: data.data\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleClickfilter = (id) => {\r\n        this.setState({\r\n            clickshow: id\r\n        })\r\n        if (id === 'allbill') {\r\n            this.setState({\r\n                arrBill: this.state.arrBillcopy\r\n            })\r\n        } else if (id === 'paid') {\r\n            this.setState({\r\n                arrBill: this.state.arrBillcopy.filter((item) => item.statusData.keyMap === 'S2')\r\n            })\r\n        } else if (id === 'unpaid') {\r\n            this.setState({\r\n                arrBill: this.state.arrBillcopy.filter((item) => item.statusData.keyMap === 'S1')\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOnChangeInput = (event) => {\r\n        this.setState({\r\n            textSearch: event.target.value\r\n        })\r\n    }\r\n\r\n    handleShowDetail = async (item) => {\r\n        let data = await hanlegetAllBilldetail(item.id);\r\n        if (data && data.errCode === 0) {\r\n            this.setState({\r\n                arrBookDetailbill: data.data\r\n            })\r\n        }\r\n    }\r\n\r\n    handleCancelAllbill = () => {\r\n        this.setState({\r\n            arrBookDetailbill: []\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { clickshow, arrBill, arrBookDetailbill } = this.state;\r\n        console.log('check state', this.state)\r\n        return (\r\n            <div className='list-bill-container'>\r\n                <div className='list-bill-content'>\r\n                    <div className='list-bill-header'>\r\n                        <HomeHeader />\r\n                    </div>\r\n                    <div className='list-bill-body'>\r\n                        <div className='list-bill-in-body'>\r\n                            <div className='list-bill-left'>\r\n                                <ListChooseaction />\r\n                            </div>\r\n                            <div className='list-bill-right'>\r\n                                <div className='list-bill-title'>Đơn hàng của tôi</div>\r\n                                <div className='list-bill-filter'>\r\n                                    <div className={clickshow === 'allbill' ? 'list-bill-item active' : 'list-bill-item'}\r\n                                        onClick={() => this.handleClickfilter('allbill')}\r\n                                    >\r\n                                        Tất cả hóa đơn\r\n                                    </div>\r\n                                    <div className={clickshow === 'paid' ? 'list-bill-item active' : 'list-bill-item'}\r\n                                        onClick={() => this.handleClickfilter('paid')}\r\n\r\n                                    >\r\n                                        Hóa đơn đã thanh toán\r\n                                    </div>\r\n                                    <div className={clickshow === 'unpaid' ? 'list-bill-item active' : 'list-bill-item'}\r\n                                        onClick={() => this.handleClickfilter('unpaid')}\r\n\r\n                                    >\r\n                                        Hóa đơn chưa thanh toán\r\n                                    </div>\r\n                                </div>\r\n                                <div className='list-bill-find'>\r\n                                    <div className='find-icon'>\r\n                                        <i className=\"fas fa-search\"></i>\r\n                                    </div>\r\n                                    <div className='find-input'>\r\n                                        <input type='text' placeholder='tìm kiếm hóa đơn theo mã'\r\n                                            value={this.state.textSearch}\r\n                                            onChange={(event) => this.handleOnChangeInput(event)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='btn-text-find'>Tìm đơn hàng</div>\r\n                                </div>\r\n                                <div className='list-bill-child'>\r\n                                    {arrBill && arrBill.length > 0 ? (\r\n                                        arrBookDetailbill && arrBookDetailbill.length > 0 ? (\r\n                                            <div className='show-bill-detail'>\r\n                                                <div className='Cancel-show-all-bill'\r\n                                                    onClick={() => this.handleCancelAllbill()}\r\n                                                >\r\n                                                    <span>\r\n                                                        <i className=\"far fa-arrow-alt-circle-left\"></i>\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className='list-bill-show'>\r\n                                                    <div className='table-list-bill'>\r\n                                                        <table className='table'>\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th>Mã sản phẩm</th>\r\n                                                                    <th>Tên sản phẩm</th>\r\n                                                                    <th>Số lượng</th>\r\n                                                                    <th>Thành tiền</th>\r\n                                                                    <th>image</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                                {arrBookDetailbill.map((item, index) => (\r\n                                                                    <tr key={index}>\r\n                                                                        <td>{item.BookData.keyMap}</td>\r\n                                                                        <td>{item.BookData.tenSach}</td>\r\n                                                                        <td>{item.soLuong}</td>\r\n                                                                        <td>\r\n                                                                            {parseFloat(item.thanhTien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}\r\n                                                                        </td>\r\n                                                                        <td className='image-book'\r\n                                                                            style={{ backgroundImage: `url(${item.BookData.image})` }}\r\n                                                                        >\r\n\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                ))}\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className='list-bill-show'>\r\n                                                <div className='table-list-bill'>\r\n                                                    <table className='table'>\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th>Mã hóa đơn</th>\r\n                                                                <th>Địa chỉ nhận hàng</th>\r\n                                                                <th>Số điện thoại</th>\r\n                                                                <th>Tổng tiền</th>\r\n                                                                <th>Trạng thái</th>\r\n                                                                <th>ngày đặt</th>\r\n                                                                <th></th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody>\r\n                                                            {arrBill.map((item, index) => (\r\n                                                                <tr key={index}>\r\n                                                                    <td>{item.id}</td>\r\n                                                                    <td>{item.UserData.address}</td>\r\n                                                                    <td>{item.UserData.phoneNumber}</td>\r\n                                                                    <td>\r\n                                                                        {parseFloat(item.tongTien).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}\r\n                                                                    </td>\r\n                                                                    <td>{moment(item.createdAt).format('HH:mm:ss DD/MM/YYYY')}</td>\r\n                                                                    <td>{item.statusData.value}</td>\r\n                                                                    <td className='show-detail' onClick={() => this.handleShowDetail(item)}>\r\n                                                                        Xem chi tiết\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            ))}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    ) : (\r\n                                        <div className='list-bill-unbill'>\r\n                                            <div className='list-bill-img'></div>\r\n                                            <p>Chưa có đơn hàng</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ListBill);\r\n","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter as Router } from 'connected-react-router';\r\nimport { history } from '../redux'\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\n\r\nimport { userIsAuthenticated, userIsNotAuthenticated } from '../hoc/authentication';\r\n\r\nimport { path } from '../utils'\r\n\r\nimport Home from '../routes/Home';\r\nimport login from '../containers/login/Login'\r\nimport System from '../routes/System';\r\n\r\nimport { CustomToastCloseButton } from '../components/CustomToast';\r\nimport ConfirmModal from '../components/ConfirmModal';\r\nimport '../../node_modules/react-toastify/dist/ReactToastify.css';\r\nimport Header from './Header/Header';\r\nimport HomePage from './Client/Home/HomePage';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport BookDetail from './Client/Product/BookDetail';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport 'react-markdown-editor-lite/lib/index.css';\r\nimport Cart from './Client/Cart/Cart';\r\nimport CartBill from './Client/Cart/CartBill';\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport ShowBook from './Client/Product/ShowBook';\r\nimport HomeAfterSearch from './Client/Header/HomeAfterSearch';\r\nimport Infouser from './Client/Header/Infouser';\r\nimport ListBill from './Client/Cart/ListBill';\r\n\r\nclass App extends Component {\r\n\r\n    handlePersistorState = () => {\r\n        const { persistor } = this.props;\r\n        let { bootstrapped } = persistor.getState();\r\n        if (bootstrapped) {\r\n            if (this.props.onBeforeLift) {\r\n                Promise.resolve(this.props.onBeforeLift())\r\n                    .then(() => this.setState({ bootstrapped: true }))\r\n                    .catch(() => this.setState({ bootstrapped: true }));\r\n            } else {\r\n                this.setState({ bootstrapped: true });\r\n            }\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.handlePersistorState();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Router history={history}>\r\n                    <div className=\"main-container\">\r\n                        <ConfirmModal />\r\n                        {/* {this.props.isLoggedIn && <Header />} */}\r\n\r\n                        <span className=\"content-container\">\r\n                            <Scrollbars className='scrollbars' style={{ width: '100%', height: '100vh' }}>\r\n                                <Switch>\r\n                                    <Route path={path.HOME} exact component={(Home)} />\r\n                                    <Route path={path.LOGIN} component={userIsNotAuthenticated(login)} />\r\n                                    <Route path={path.SYSTEM} component={userIsAuthenticated(System)} />\r\n                                    <Route path={path.HOMEPAGE} exact component={(HomePage)} />\r\n                                    <Route path={path.BOOK} exact component={(BookDetail)} />\r\n                                    <Route path={path.CART} exact component={(Cart)} />\r\n                                    <Route path={path.CART_BILL} exact component={(CartBill)} />\r\n                                    <Route path={path.SHOW_BOOK} exact component={(ShowBook)} />\r\n                                    <Route path={path.SHOW_BOOK} exact component={(ShowBook)} />\r\n                                    <Route path={path.HOME_SEARCH} exact component={(HomeAfterSearch)} />\r\n                                    <Route path={path.INFOUSER} exact component={(Infouser)} />\r\n                                    <Route path={path.LISTBILL} exact component={(ListBill)} />\r\n\r\n                                </Switch>\r\n                            </Scrollbars >\r\n\r\n                        </span>\r\n\r\n                        {/* <ToastContainer\r\n                            className=\"toast-container\" toastClassName=\"toast-item\" bodyClassName=\"toast-item-body\"\r\n                            autoClose={false} hideProgressBar={true} pauseOnHover={false}\r\n                            pauseOnFocusLoss={true} closeOnClick={false} draggable={false}\r\n                            closeButton={<CustomToastCloseButton />}\r\n                        /> */}\r\n\r\n                        <ToastContainer\r\n                            position=\"top-right\"\r\n                            autoClose={5000}\r\n                            hideProgressBar={false}\r\n                            newestOnTop={false}\r\n                            closeOnClick\r\n                            rtl={false}\r\n                            pauseOnFocusLoss\r\n                            draggable\r\n                            pauseOnHover\r\n                            theme=\"light\"\r\n                        />\r\n                        {/* Same as */}\r\n                        <ToastContainer />\r\n                    </div>\r\n                </Router>\r\n\r\n\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        started: state.app.started,\r\n        isLoggedIn: state.user.isLoggedIn\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { IntlProvider } from \"react-intl\";\r\n\r\nimport '@formatjs/intl-pluralrules/polyfill';\r\nimport '@formatjs/intl-pluralrules/locale-data/en';\r\nimport '@formatjs/intl-pluralrules/locale-data/vi';\r\n\r\nimport '@formatjs/intl-relativetimeformat/polyfill';\r\nimport '@formatjs/intl-relativetimeformat/locale-data/en';\r\nimport '@formatjs/intl-relativetimeformat/locale-data/vi';\r\n\r\nimport { LanguageUtils } from '../utils'\r\n\r\nconst messages = LanguageUtils.getFlattenedMessages();\r\n\r\nclass IntlProviderWrapper extends Component {\r\n\r\n    render() {\r\n        const { children, language } = this.props;\r\n        return (\r\n            <IntlProvider\r\n                locale={language}\r\n                messages={messages[language]}\r\n                defaultLocale=\"vi\">\r\n                {children}\r\n            </IntlProvider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        language: state.app.language\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(IntlProviderWrapper);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/styles.scss';\r\nimport 'react-image-lightbox/style.css';\r\n\r\nimport App from './containers/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport IntlProviderWrapper from \"./hoc/IntlProviderWrapper\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { Provider } from 'react-redux';\r\nimport reduxStore, { persistor } from './redux';\r\n\r\n\r\nconst renderApp = () => {\r\n    ReactDOM.render(\r\n        <Provider store={reduxStore}>\r\n            <IntlProviderWrapper>\r\n                <App persistor={persistor} />\r\n            </IntlProviderWrapper>\r\n        </Provider>,\r\n        document.getElementById('root')\r\n    );\r\n};\r\n\r\nrenderApp();\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}